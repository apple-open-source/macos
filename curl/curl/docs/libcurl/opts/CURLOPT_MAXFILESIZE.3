.\" generated by cd2nroff 0.1 from CURLOPT_MAXFILESIZE.md
.TH CURLOPT_MAXFILESIZE 3 "March 12 2024" libcurl
.SH NAME
CURLOPT_MAXFILESIZE \- maximum file size allowed to download
.SH SYNOPSIS
.nf
#include <curl/curl.h>

CURLcode curl_easy_setopt(CURL *handle, CURLOPT_MAXFILESIZE, long size);
.fi
.SH DESCRIPTION
Pass a long as parameter. This specifies the maximum accepted \fIsize\fP (in
bytes) of a file to download. If the file requested is found larger than this
value, the transfer is aborted and \fICURLE_FILESIZE_EXCEEDED\fP is returned.

The file size is not always known prior to the download start, and for such
transfers this option has no effect \- even if the file transfer eventually
ends up being larger than this given limit.

If you want a limit above 2GB, use \fICURLOPT_MAXFILESIZE_LARGE(3)\fP.

Since 8.4.0, this option also stops ongoing transfers if they reach this
threshold.
.SH DEFAULT
None
.SH PROTOCOLS
FTP, HTTP and MQTT
.SH EXAMPLE
.nf
int main(void)
{
  CURL *curl = curl_easy_init();
  if(curl) {
    CURLcode ret;
    curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/");
    /* refuse to download if larger than 1000 bytes! */
    curl_easy_setopt(curl, CURLOPT_MAXFILESIZE, 1000L);
    ret = curl_easy_perform(curl);
  }
}
.fi
.SH AVAILABILITY
Always
.SH RETURN VALUE
Returns CURLE_OK
.SH SEE ALSO
.BR CURLOPT_MAXFILESIZE_LARGE (3),
.BR CURLOPT_MAX_RECV_SPEED_LARGE (3)
