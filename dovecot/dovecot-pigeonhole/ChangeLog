2011-04-14  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS:
	Prepared NEWS file for next release.
	[cbb671878b87] [tip]

	* INSTALL:
	Small changes to the INSTALL file regarding configuration of
	vacation extension.
	[599e23b5adfb]

	* doc/rfc/draft-ietf-sieve-vacation-seconds-03.txt, doc/rfc/vacation-
	seconds.rfc6131.txt:
	Updated RFC for vacation-seconds extension.
	[c2c35cc3da1f]

	* doc/spamtest-virustest.txt, doc/vacation.txt:
	Restructured extension-specific install documentation.
	[2e1ce7cf1b19]

2011-04-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	Managesieve-login: increased dump-capability time-out from 5 to 60
	s.
	[5a485986b032]

2011-04-10  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/client.c:
	managsieve-login: Reduced the max. number of allowed bad commands.
	[035f71059f3d]

2011-03-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h,
	src/sieve-tools/sieve-dump.c, src/sieve-tools/sieve-filter.c, src
	/sieve-tools/sieve-test.c, src/sieve-tools/sievec.c,
	src/testsuite/testsuite.c:
	Sieve tools: avoid initializing mail store (namespaces) for sievec
	and sieve-dump.
	[ed2d01aff6d0]

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve/plugins/mailbox/tag-
	mailbox-create.c, src/lib-sieve/sieve-result.c, src/testsuite/cmd-
	test-message.c:
	Fixed various compile warnings related to spurious semicolons and
	inappropriate variable initialization.
	[b9c507cfa061]

2011-03-05  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/pigeonhole.7.in, src/lib-managesieve/managesieve-parser.c,
	src/lib-managesieve/managesieve-parser.h, src/lib-managesieve
	/managesieve-quote.c, src/lib-managesieve/managesieve-quote.h, src
	/lib-sieve-tool/mail-raw.c, src/lib-sieve-tool/mail-raw.h, src/lib-
	sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h, src/lib-
	sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-
	keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-require.c,
	src/lib-sieve/cmd-stop.c, src/lib-sieve/cmp-i-ascii-casemap.c, src
	/lib-sieve/cmp-i-octet.c, src/lib-sieve/ext-encoded-character.c, src
	/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/mcht-contains.c, src/lib-sieve
	/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-sieve/plugins/body
	/ext-body-common.c, src/lib-sieve/plugins/body/ext-body-common.h,
	src/lib-sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/body
	/tst-body.c, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-
	cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy/ext-copy.c, src
	/lib-sieve/plugins/copy/sieve-ext-copy.h, src/lib-sieve/plugins/date
	/ext-date-common.c, src/lib-sieve/plugins/date/ext-date-common.h,
	src/lib-sieve/plugins/date/ext-date.c, src/lib-sieve/plugins/date
	/tst-date.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify-limits.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/enotify/mailto/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/mailto/uri-mailto.c, src/lib-
	sieve/plugins/enotify/mailto/uri-mailto.h, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h, src/lib-
	sieve/plugins/enotify/tst-notify-method-capability.c, src/lib-
	sieve/plugins/enotify/tst-valid-notify-method.c, src/lib-
	sieve/plugins/enotify/vmodf-encodeurl.c, src/lib-
	sieve/plugins/environment/ext-environment-common.c, src/lib-
	sieve/plugins/environment/ext-environment-common.h, src/lib-
	sieve/plugins/environment/ext-environment.c, src/lib-
	sieve/plugins/environment/sieve-ext-environment.h, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/include/cmd-global.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-limits.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/mailbox
	/ext-mailbox-common.h, src/lib-sieve/plugins/mailbox/ext-mailbox.c,
	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/notify/ext-notify-common.c, src
	/lib-sieve/plugins/notify/ext-notify-common.h, src/lib-
	sieve/plugins/notify/ext-notify-limits.h, src/lib-
	sieve/plugins/notify/ext-notify.c, src/lib-sieve/plugins/regex/ext-
	regex-common.c, src/lib-sieve/plugins/regex/ext-regex-common.h, src
	/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/ext-relational-
	common.c, src/lib-sieve/plugins/relational/ext-relational-common.h,
	src/lib-sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.h, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest.c, src/lib-
	sieve/plugins/spamvirustest/tst-spamvirustest.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h, src/lib-
	sieve/plugins/vacation/ext-vacation-seconds.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-arguments.h, src/lib-sieve/plugins/variables/ext-
	variables-common.c, src/lib-sieve/plugins/variables/ext-variables-
	common.h, src/lib-sieve/plugins/variables/ext-variables-dump.c, src
	/lib-sieve/plugins/variables/ext-variables-dump.h, src/lib-
	sieve/plugins/variables/ext-variables-limits.h, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.c, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/rfc2822.c, src
	/lib-sieve/rfc2822.h, src/lib-sieve/sieve-actions.c, src/lib-sieve
	/sieve-actions.h, src/lib-sieve/sieve-address-parts.c, src/lib-sieve
	/sieve-address-parts.h, src/lib-sieve/sieve-address.c, src/lib-sieve
	/sieve-address.h, src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-
	ast.h, src/lib-sieve/sieve-binary-code.c, src/lib-sieve/sieve-
	binary-debug.c, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve
	/sieve-binary-dumper.h, src/lib-sieve/sieve-binary-file.c, src/lib-
	sieve/sieve-binary-private.h, src/lib-sieve/sieve-binary.c, src/lib-
	sieve/sieve-binary.h, src/lib-sieve/sieve-code-dumper.c, src/lib-
	sieve/sieve-code-dumper.h, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-config.h, src/lib-sieve/sieve-dump.h, src/lib-sieve/sieve-
	error-private.h, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-
	error.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-
	extensions.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	lexer.h, src/lib-sieve/sieve-limits.h, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve-
	match.c, src/lib-sieve/sieve-match.h, src/lib-sieve/sieve-message.c,
	src/lib-sieve/sieve-message.h, src/lib-sieve/sieve-objects.c, src
	/lib-sieve/sieve-objects.h, src/lib-sieve/sieve-parser.c, src/lib-
	sieve/sieve-parser.h, src/lib-sieve/sieve-plugins.c, src/lib-sieve
	/sieve-plugins.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h, src/lib-sieve/sieve-runtime-trace.c, src/lib-sieve/sieve-
	runtime-trace.h, src/lib-sieve/sieve-runtime.h, src/lib-sieve/sieve-
	script-private.h, src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-
	script.h, src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-
	settings.h, src/lib-sieve/sieve-smtp.c, src/lib-sieve/sieve-smtp.h,
	src/lib-sieve/sieve-stringlist.c, src/lib-sieve/sieve-stringlist.h,
	src/lib-sieve/sieve-types.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/sieve-validator.h, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c, src
	/lib-sieve/tst-header.c, src/lib-sieve/tst-not.c, src/lib-sieve/tst-
	size.c, src/lib-sieve/tst-truefalse.c, src/lib-sievestorage/sieve-
	storage-list.c, src/lib-sievestorage/sieve-storage-list.h, src/lib-
	sievestorage/sieve-storage-private.h, src/lib-sievestorage/sieve-
	storage-quota.c, src/lib-sievestorage/sieve-storage-quota.h, src
	/lib-sievestorage/sieve-storage-save.c, src/lib-sievestorage/sieve-
	storage-save.h, src/lib-sievestorage/sieve-storage-script.c, src
	/lib-sievestorage/sieve-storage-script.h, src/lib-sievestorage
	/sieve-storage.c, src/lib-sievestorage/sieve-storage.h, src
	/managesieve-login/client-authenticate.c, src/managesieve-login
	/client-authenticate.h, src/managesieve-login/client.c, src
	/managesieve-login/client.h, src/managesieve-login/managesieve-
	login-settings-plugin.c, src/managesieve-login/managesieve-login-
	settings-plugin.h, src/managesieve-login/managesieve-login-
	settings.c, src/managesieve-login/managesieve-login-settings.h, src
	/managesieve-login/managesieve-proxy.c, src/managesieve-login
	/managesieve-proxy.h, src/managesieve/cmd-capability.c,
	src/managesieve/cmd-deletescript.c, src/managesieve/cmd-getscript.c,
	src/managesieve/cmd-havespace.c, src/managesieve/cmd-listscripts.c,
	src/managesieve/cmd-logout.c, src/managesieve/cmd-noop.c,
	src/managesieve/cmd-putscript.c, src/managesieve/cmd-renamescript.c,
	src/managesieve/cmd-setactive.c, src/managesieve/main.c,
	src/managesieve/managesieve-capabilities.c, src/managesieve
	/managesieve-capabilities.h, src/managesieve/managesieve-client.c,
	src/managesieve/managesieve-client.h, src/managesieve/managesieve-
	commands.c, src/managesieve/managesieve-commands.h, src/managesieve
	/managesieve-common.h, src/managesieve/managesieve-quota.c,
	src/managesieve/managesieve-quota.h, src/managesieve/managesieve-
	settings.c, src/managesieve/managesieve-settings.h, src/plugins/lda-
	sieve/lda-sieve-plugin.c, src/plugins/lda-sieve/lda-sieve-plugin.h,
	src/sieve-tools/debug/cmd-debug-print.c, src/sieve-tools/debug/ext-
	debug-common.h, src/sieve-tools/debug/ext-debug.c, src/sieve-
	tools/debug/sieve-ext-debug.h, src/sieve-tools/sieve-dump.c, src
	/sieve-tools/sieve-filter.c, src/sieve-tools/sieve-test.c, src
	/sieve-tools/sievec.c, src/testsuite/cmd-test-binary.c,
	src/testsuite/cmd-test-config.c, src/testsuite/cmd-test-fail.c,
	src/testsuite/cmd-test-mailbox.c, src/testsuite/cmd-test-message.c,
	src/testsuite/cmd-test-result.c, src/testsuite/cmd-test-set.c,
	src/testsuite/cmd-test.c, src/testsuite/ext-testsuite.c,
	src/testsuite/testsuite-arguments.c, src/testsuite/testsuite-
	arguments.h, src/testsuite/testsuite-binary.c, src/testsuite
	/testsuite-binary.h, src/testsuite/testsuite-common.c, src/testsuite
	/testsuite-common.h, src/testsuite/testsuite-log.c, src/testsuite
	/testsuite-log.h, src/testsuite/testsuite-mailstore.c, src/testsuite
	/testsuite-mailstore.h, src/testsuite/testsuite-message.c,
	src/testsuite/testsuite-message.h, src/testsuite/testsuite-
	objects.c, src/testsuite/testsuite-objects.h, src/testsuite
	/testsuite-result.c, src/testsuite/testsuite-result.h, src/testsuite
	/testsuite-script.c, src/testsuite/testsuite-script.h, src/testsuite
	/testsuite-settings.c, src/testsuite/testsuite-settings.h,
	src/testsuite/testsuite-smtp.c, src/testsuite/testsuite-smtp.h,
	src/testsuite/testsuite-substitutions.c, src/testsuite/testsuite-
	substitutions.h, src/testsuite/testsuite.c, src/testsuite/tst-test-
	error.c, src/testsuite/tst-test-multiscript.c, src/testsuite/tst-
	test-result-action.c, src/testsuite/tst-test-result-execute.c,
	src/testsuite/tst-test-script-compile.c, src/testsuite/tst-test-
	script-run.c:
	Updated copyright notices to include year 2011.
	[87f3098f33bf]

2011-03-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-extensions.c:
	Fixed segfault bug in extension configuration, triggered when
	unknown extension is mentioned in sieve_extensions setting.
	[bb26cdb18bdf]

2011-02-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-filter.c:
	Sieve-filter tool: forgot to enable -u option.
	[ac0c46b720a1]

	* doc/man/Makefile.am, doc/man/sieve-filter.1.in:
	Fixed some more minor problems in the man pages (patch by Pascal
	Volk).
	[2be3decfdc79]

	* doc/man/sieve-dump.1.in, doc/man/sieve-filter.1.in, doc/man/sieve-
	test.1.in, doc/man/sievec.1.in:
	Fixed some minor problems in the man pages (patch by Pascal Volk).
	[767a7cb8645f]

2011-02-20  Stephan Bosch  <stephan@rename-it.nl>

	* tests/extensions/vacation/smtp.svtest:
	Vacation extension: added test for proper From: address when
	replying for Cc'd e-mail.
	[dd89949aa055]

2011-02-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-managesieve/managesieve-parser.c, src/lib-managesieve
	/managesieve-quote.c:
	ManageSieve: fixed problems in previous change; utf-8 was actually
	denied completely.
	[b4f57b02d2ed]

2011-02-18  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-managesieve/managesieve-parser.c, src/lib-managesieve
	/managesieve-parser.h, src/lib-managesieve/managesieve-quote.c:
	ManageSieve: now using Dovecot API for UTF-8 validity checks.
	[bd894c3cbf7b]

	* src/lib-sieve/sieve-extensions.c:
	Fixed potential segfault in extension registry.
	[92fa68d19585]

2011-02-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-managesieve/managesieve-parser.c:
	ManageSieve: fixed bug in UTF-8 checking of string values.
	[ae42f8dd3c7e]

2011-02-13  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, doc/man/sieve-filter.1.in, src/sieve-tools/sieve-filter.c, src
	/sieve-tools/sieve-test.c:
	Sieve filter tool: finished basic functionality.
	[a23274a90b80]

2011-02-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-settings.c:
	Fixed bug in parsing of duration settings.
	[36dddc51f9a5]

2011-02-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/testsuite/testsuite-log.c:
	Testsuite: fixed prefix of -E option info log output.
	[3c11b2ae95a0]

	* Makefile.am, tests/extensions/vacation/reply.svtest:
	Vacation extension: added tests for reply filtering test suite.
	[f74b3b46eb1a]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation extension: now inhibits replies to messages from sender
	listed in :addresses.
	[0b7100d990b2]

	* src/testsuite/testsuite-log.c:
	Testsuite: added info log output to -E command line option.
	[c4ff3b2c21e3]

2011-01-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c:
	Sieve tools: prevent automatically creating mail storage.
	[dcaa91e4c7e5]

2011-01-25  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/draft-ietf-sieve-vacation-seconds-03.txt:
	Vacation-seconds extension: added specification to doc/rfc.
	[ab3833311fc9]

	* INSTALL, doc/vacation.txt, src/lib-
	sieve/plugins/vacation/Makefile.am, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/plugins/vacation/ext-vacation-
	common.h, src/lib-sieve/plugins/vacation/ext-vacation-seconds.c, src
	/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-extensions.c, src
	/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h,
	tests/extensions/vacation/execute.svtest,
	tests/extensions/vacation/execute/seconds.sieve:
	Vacation extension: implemented the (draft) vacation-seconds
	extension.
	[5d69bb1453ec]

	* doc/vacation.txt, src/lib-sieve/plugins/vacation/cmd-vacation.c, src
	/lib-sieve/plugins/vacation/ext-vacation-common.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h:
	Vacation extension: added default period configuration setting and
	fixed a limit bug.
	[b6aa4ac74175]

	* INSTALL, doc/Makefile.am, doc/vacation.txt, src/lib-
	sieve/plugins/vacation/Makefile.am, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/plugins/vacation/ext-vacation-
	common.c, src/lib-sieve/plugins/vacation/ext-vacation-common.h, src
	/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-
	binary.h, src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-
	settings.h:
	Vacation extension: added min/max period configuration settings and
	changed the internal unit from days to seconds.
	[129adff0c81b]

2011-01-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-settings.h:
	Restructured settings parsing and added parsing support for duration
	settings.
	[c21d4452b5eb]

2011-01-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/plugins/copy/ext-copy.c:
	Copy extension: previous change was incomplete and broken.
	[1a9955262f5c]

	* Merged concurrent changes.
	[2391ec677b35]

	* src/lib-sieve/plugins/copy/Makefile.am, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/copy/sieve-ext-copy.h:
	Copy extension: added public interface for adding the :copy tag to
	new commands.
	[f68dd69a4ac4]

2011-01-18  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/notify/cmd-notify.c:
	Notify extension: fixed duplicate variable declaration.
	[b894b8268a55]

2011-01-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/mailto/uri-mailto.c:
	Enotify: mailto: fixed inappropriate return type in URI parse
	function, also fixing ARM compiler warning.
	[8a07ae3e0a2e]

2011-01-06  Stephan Bosch  <stephan@rename-it.nl>

	* README, TODO, src/managesieve-login/client-authenticate.c:
	ManageSieve: removed TODO status of adding ANONYMOUS SASL support,
	since the RFC specification no longer describes it.
	[5b57b1142864]

2011-01-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation: fixed handling of sendmail errors.
	[a8da6eef445d]

2011-01-01  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/notify/ext-notify-common.c:
	Deprecated notify extension: reverted previous change as address is
	used for the notification in stead of being actually parsed.
	[442a5fb51d76]

	* src/lib-sieve/plugins/notify/ext-notify-common.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c:
	Removed header MIME-decoding for other instances where addresses
	need to be parsed.
	[146a2a9d5cb0]

	* src/lib-sieve/plugins/date/tst-date.c, src/lib-sieve/sieve-
	message.c, src/lib-sieve/sieve-message.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-header.c, tests/test-address.svtest:
	Address test: removed header MIME-decoding to prevent address
	parsing problems.
	[99f8dc1e246a]

2010-12-07  Stephan Bosch  <stephan@rename-it.nl>

	* .hgsigs:
	Added signature for changeset df8b38da248c
	[67d2240966ec]

	* .hgtags:
	Added tag 0.2.2 for changeset df8b38da248c
	[1ca0b1c23527]

	* NEWS, configure.in:
	Released v0.2.2 for Dovecot v2.0.8.
	[df8b38da248c] [0.2.2]

2010-12-03  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS:
	Prepared NEWS file for next release.
	[46557ecc6640]

2010-12-01  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/ext-reject.c, src/lib-sieve/sieve-actions.c, src
	/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-types.h, src/plugins
	/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: started using Dovecot reject API.
	[0171171e8e83]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed segfault caused by previous fix.
	[006a0afb7e73]

2010-11-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: fixed memory leak at deinitialization (patch by
	Timo Sirainen).
	[9cf0fa17a783]

2010-11-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/main.c:
	managesieve: Fixed giving any -parameters (analogoues to Dovecot
	fix).
	[ccbc805eb8cd]

2010-11-16  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/managesieve-login-settings.c, src/managesieve
	/managesieve-settings.c:
	Services' default vsz_limit wasn't actually using default_vsz_limit
	but rather 4 GB.
	[c2a76570d736]

	* src/managesieve/main.c:
	"Running standalone?" check now uses a new DOVECOT_CHILD_PROCESS
	environment rather than GENERATION. The GENERATION environment was
	already set in some systems for Java.
	[b0aa953b36ad]

2010-11-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/main.c:
	Avoids potential problems if auth process crashes and service_count
	> 1 (patch by Timo Sirainen).
	[a8cc6294071e]

2010-10-17  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-filter.1.in:
	Sieve-filter: minor addition to the man page.
	[2023f8c74250]

2010-10-16  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-filter.1.in, src/sieve-tools/sieve-filter.c:
	Sieve-filter: implemented basic filtering with source mailbox
	actions.
	[e6427895c197]

2010-10-01  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, doc/man/sieve-filter.1.in, src/sieve-tools/sieve-filter.c:
	Sieve-filter: fixed tool compilation and further developed tool
	design.
	[a50464354f5a]

	* src/lib-sieve-tool/sieve-tool.c, src/sieve-tools/sieve-test.c:
	Sieve tools: fixed help text for sieve-test command and some minor
	adjustments.
	[e0c8354f8b21]

2010-09-30  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-filter.1.in:
	Sieve-filter: updated man page.
	[37f5c82f33c2]

	* src/lib-sieve/plugins/imap4flags/tag-flags.c:
	Imap4flags: fixed segfault bug occuring in multiscript context.
	[0828e3600eec]

2010-09-28  Stephan Bosch  <stephan@rename-it.nl>

	* doc/example-config/conf.d/20-managesieve.conf:
	Improved ManageSieve config example; 'sieve' is added to protocols
	setting in 20-managesieve.conf now.
	[5cb795d0d1de]

	* src/managesieve-login/managesieve-login-settings-plugin.c,
	src/managesieve/managesieve-settings.c:
	ManageSieve: added settings plugin version checking.
	[efe7abf725a1]

2010-09-27  Stephan Bosch  <stephan@rename-it.nl>

	* .hgsigs:
	Added signature for changeset d768f911252d
	[824454514f08]

	* .hgtags:
	Added tag 0.2.1 for changeset d768f911252d
	[a38a06f94711]

	* NEWS, configure.in:
	Released v0.2.1 for Dovecot v2.0.4.
	[d768f911252d] [0.2.1]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: added _version symbol to enable Dovecot version
	checking.
	[5bc247b7679d]

2010-09-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: updated wiki link in error message.
	[2ce2a0126ab8]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: turned debug message into an error and added
	script path information.
	[aca2a0f7e480]

2010-09-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/enotify/mailto/ntfy-mailto.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/sieve-
	message.c, src/lib-sieve/sieve-message.h, src/lib-sieve/sieve-
	types.h, src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-tools
	/sieve-test.c, src/testsuite/testsuite-message.c:
	Incorporated distinction between original and final envelope
	recipient in Sieve interpreter, as recently introduced in Dovecot.
	[cb4c1ebecff3]

	* TODO, src/lib-sieve/plugins/regex/mcht-regex.c,
	tests/compile/errors.svtest, tests/compile/errors/unsupported.sieve,
	tests/extensions/regex/basic.svtest,
	tests/extensions/regex/errors.svtest,
	tests/extensions/regex/errors/runtime.sieve:
	Regex: added support for variable regex keys.
	[838b2f88b4f8]

	* src/lib-sieve/tst-header.c:
	Fixed comparator/match-type macro mixup.
	[f8374b664383]

2010-09-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-extensions.h:
	Fixed unnecessary reporting of dummy extensions in ManageSieve SIEVE
	capability.
	[fbcb05e7eda1]

2010-09-10  Stephan Bosch  <stephan@rename-it.nl>

	* .hgtags:
	Added tag 0.2.0 for changeset 7bdabe6f9757
	[aa15d16aea8f]

	* NEWS, TODO, configure.in:
	Released v0.2.0 for Dovecot v2.0.2.
	[7bdabe6f9757] [0.2.0]

	* INSTALL:
	Updated the Compile section of the INSTALL file.
	[48f77e73e4c5]

	* configure.in, m4/dovecot.m4:
	Fixed make distcheck to work.
	[a3caf6bb2b4f]

2010-09-09  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/environment/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am:
	Removed --enable-header-install setting.
	[e4ed076aead7]

	* src/lib-sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/include
	/ext-include-binary.c, src/lib-sieve/plugins/notify/ext-notify-
	common.c, src/lib-sieve/plugins/variables/ext-variables-arguments.c,
	src/lib-sieve/sieve-plugins.c:
	Fixed series of AIX compiler warnings.
	[5889581572b6]

2010-09-08  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS:
	Added a few missing NEWS items and fixed some formatting issues.
	[9f9a3c42687e]

	* README:
	Updated README documentation.
	[a0b1ef61d61b]

	* INSTALL:
	Updated INSTALL documentation.
	[991a6b09f2a9]

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: fixed dump-capability problem occuring when using a
	custom config file (patch by Timo Sirainen).
	[91117b838f30]

2010-09-06  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-dump.1.in, src/lib-sieve-tool/sieve-tool.c, src/lib-
	sieve-tool/sieve-tool.h, src/lib-sieve/sieve-binary-dumper.c, src
	/lib-sieve/sieve-binary-dumper.h, src/lib-sieve/sieve-binary.h, src
	/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/sieve-tools/sieve-
	dump.c, src/sieve-tools/sieve-test.c, src/sieve-tools/sievec.c,
	src/testsuite/testsuite.c:
	Sieve-dump: added support for producing per-block hexdump output.
	[1a7060ef63ce]

2010-09-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-
	sieve/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h:
	Added support for critical runtime errors.
	[33bc93bdde44]

	* src/lib-sieve/sieve-error.c:
	Error handling: don't log user message of critical error to system
	log.
	[1889ce6a3e66]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Sieve plugin: only refer to user log for compile error details when
	there is actually a compile error.
	[ed7c367576c6]

	* NEWS, TODO:
	Final preparations for 0.2 release.
	[f6fbbb9d7f2c]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h,
	src/plugins/lda-sieve/Makefile.am, src/plugins/lda-sieve/lda-sieve-
	log.c, src/plugins/lda-sieve/lda-sieve-log.h, src/plugins/lda-sieve
	/lda-sieve-plugin.c:
	Sieve plugin: simplified system error handling.
	[fb765ed84e0e]

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src
	/lib-sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/mailto/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h, src/lib-
	sieve/plugins/notify/cmd-notify.c, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-error-private.h, src/lib-sieve/sieve-
	error.c, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h, src/lib-sieve/sieve-script.c, src/lib-sievestorage/sieve-
	storage.c, src/plugins/lda-sieve/lda-sieve-log.c, src/plugins/lda-
	sieve/lda-sieve-plugin.c, src/testsuite/testsuite-log.c:
	Simplified error handling; in particular the changes in the
	preceeding commits.
	[0dc3cce72225]

2010-09-04  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-reject.c, src
	/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-commands.h, src/lib-
	sieve/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-result.c, src/lib-sieve
	/sieve-result.h, src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-
	validator.c, src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed runtime error logging not to report user-caused errors to the
	master log.
	[081a2c9babc0]

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve/plugins/include/ext-
	include-binary.c, src/lib-sieve/plugins/include/ext-include-
	common.c, src/lib-sieve/plugins/include/ext-include-variables.c, src
	/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c, src
	/lib-sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-sieve/sieve-
	binary-file.c, src/lib-sieve/sieve-binary-private.h, src/lib-sieve
	/sieve-common.h, src/lib-sieve/sieve-error-private.h, src/lib-sieve
	/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-message.c, src/lib-sieve/sieve-
	script.c, src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve.c, src
	/lib-sieve/sieve.h, src/lib-sieve/tst-size.c, src/lib-sievestorage
	/sieve-storage.c, src/managesieve/cmd-putscript.c, src/plugins/lda-
	sieve/lda-sieve-log.c, src/plugins/lda-sieve/lda-sieve-log.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-tools/sieve-
	test.c, src/testsuite/cmd-test-binary.c, src/testsuite/testsuite-
	log.c, src/testsuite/testsuite-mailstore.c:
	Made global system error handler state part of Sieve instance.
	[cda3b3fe04b0]

2010-09-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-extensions.c:
	Fixed default Sieve capability: extra extensions spamtest,
	spamtestplus and virustest were also enabled by default.
	[2b7290f6307c]

2010-08-30  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Finished FIXME review.
	[523c8c2ba857]

	* src/lib-sieve/ext-fileinto.c, src/lib-sieve/sieve-actions.c:
	Fixed FIXME: fileinto folder name utf-8 validity is now checked at
	compiletime or runtime.
	[a4f1f8b81535]

	* src/lib-sieve/sieve-actions.c:
	Made sure that store action logs both UTF-8 and mUTF-7 names when
	applicable.
	[dbe440b85c1b]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Fixed FIXME: added runtime warning for erroneous :addresses item.
	[668a375ac336]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Removed spurious source file.
	[91b5289ac832]

	* src/lib-sieve/plugins/date/tst-date.c, src/lib-sieve/sieve-code.c,
	src/lib-sieve/sieve-code.h:
	Fixed FIXME: Date test now reports warning when invalid zone
	argument is encountered at runtime.
	[66cf3c948718]

	* src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c:
	Fixed FIXME: Imap4flags extension now checks flag keyword syntax
	before the message is stored.
	[6a7edb7c3f0d]

	* TODO, src/lib-sieve/ext-reject.c:
	Modified TODO item.
	[ef3d551586f9]

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve/cmd-redirect.c, src
	/lib-sieve/sieve-address-parts.c, src/managesieve/cmd-putscript.c:
	Fixed FIXME: when redirect address is a variable, it is checked for
	validity at runtime.
	[bb69691ffac2]

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src
	/lib-sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/tst-notify-method-capability.c, src/lib-
	sieve/plugins/enotify/tst-valid-notify-method.c, src/lib-
	sieve/plugins/notify/cmd-notify.c, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h, src/sieve-tools/debug/cmd-debug-print.c, src/testsuite
	/testsuite-result.c, src/testsuite/testsuite-script.c:
	Simplified runtime command script location querying.
	[0e80e5a03870]

2010-08-29  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, TODO, tests/address.svtest,
	tests/comparators/core.svtest, tests/comparators/i-ascii-
	casemap.svtest, tests/comparators/i-octet.svtest,
	tests/compile/errors.svtest, tests/compile/errors/match-type.sieve,
	tests/compile/recover.svtest, tests/compile/recover/commands-
	endblock.sieve, tests/compile/recover/commands-semicolon.sieve,
	tests/compile/recover/tests-endcomma.sieve,
	tests/compile/warnings.svtest, tests/compile/warnings/eof.sieve,
	tests/compile/warnings/invalid-headers.sieve, tests/control-
	if.svtest, tests/control-stop.svtest, tests/control-
	structures.svtest, tests/deprecated/imapflags/execute.svtest,
	tests/deprecated/notify/denotify.svtest, tests/execute/smtp.svtest,
	tests/exists.svtest, tests/extensions/encoded-character.svtest,
	tests/extensions/envelope.svtest,
	tests/extensions/imap4flags/basic.svtest,
	tests/extensions/imap4flags/flagstore.svtest,
	tests/extensions/imap4flags/flagstring.svtest,
	tests/extensions/imap4flags/multiscript.svtest,
	tests/extensions/imap4flags/multiscript/group-spam.sieve,
	tests/extensions/imap4flags/multiscript/sent-store.sieve,
	tests/extensions/include/included/rfc-ex1-always_allow.sieve,
	tests/extensions/include/included/rfc-ex1-mailing_lists.sieve,
	tests/extensions/regex/match-values.svtest,
	tests/extensions/relational/basic.svtest,
	tests/extensions/relational/comparators.svtest,
	tests/extensions/spamvirustest/virustest.svtest,
	tests/extensions/subaddress/basic.svtest,
	tests/extensions/subaddress/config.svtest,
	tests/extensions/vacation/execute/no-handle.sieve,
	tests/header.svtest, tests/match-types/contains.svtest,
	tests/multiscript/conflicts.svtest, tests/size.svtest, tests/test-
	address.svtest, tests/test-allof.svtest, tests/test-anyof.svtest,
	tests/test-exists.svtest, tests/test-header.svtest, tests/test-
	size.svtest, tests/testsuite.svtest:
	Testsuite: partly cleaned up test scripts (rest is post-v0.2).
	[47a4f48a51a8]

2010-08-28  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/testsuite/Makefile.am, src/testsuite/cmd-test-binary.c,
	src/testsuite/cmd-test-config.c, src/testsuite/cmd-test-mailbox.c,
	src/testsuite/cmd-test-result-print.c, src/testsuite/cmd-test-
	result-reset.c, src/testsuite/cmd-test-result.c, src/testsuite/ext-
	testsuite.c, src/testsuite/testsuite-common.h, src/testsuite/tst-
	test-result-action.c, src/testsuite/tst-test-result.c,
	tests/deprecated/notify/execute.svtest,
	tests/execute/actions.svtest, tests/execute/errors.svtest,
	tests/execute/examples.svtest,
	tests/extensions/enotify/execute.svtest,
	tests/extensions/imap4flags/execute.svtest,
	tests/extensions/include/execute.svtest,
	tests/extensions/mailbox/execute.svtest,
	tests/extensions/reject/execute.svtest,
	tests/extensions/spamvirustest/spamtest.svtest,
	tests/extensions/spamvirustest/spamtestplus.svtest,
	tests/extensions/spamvirustest/virustest.svtest,
	tests/extensions/subaddress/config.svtest,
	tests/extensions/vacation/execute.svtest,
	tests/multiscript/basic.svtest, tests/multiscript/conflicts.svtest:
	Testsuite: made command syntax more uniform.
	[1701bfb17ce0]

2010-08-27  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sievec.1.in:
	doc/man/sievec.1.in: fixed roff error caused by unescaped '-' (patch
	by Mike Abbott).
	[5f800639ee17]

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: settings plugin, capability dump: argument array for
	execv was too short by one element.
	[fbd885ed767b]

	* doc/man/Makefile.am:
	Forgot to add manpage preprocessor and includes to distribution.
	[241651833da4]

2010-08-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-sieve/plugins/enotify
	/ext-enotify.c, src/lib-sieve/plugins/enotify/tst-notify-method-
	capability.c, src/lib-sieve/plugins/mailbox/ext-mailbox.c, src/lib-
	sieve/plugins/notify/ext-notify.c, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/sieve-parser.c, src/lib-sieve/sieve.h, src
	/lib-sievestorage/sieve-storage-list.h:
	Removed spurious old stdio.h (top) includes; these cause compile
	issues on specific systems.
	[2a97d983e56b]

2010-08-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-script.c, src/managesieve/cmd-putscript.c:
	Fixed Sieve script name checking to properly handle length issues
	and added 0x00ff as invalid character.
	[d51650c8af85]

	* src/managesieve/cmd-putscript.c:
	ManageSieve: fixed putscript error in previous commit.
	[743f6dc8150c]

	* TODO, src/managesieve/cmd-capability.c, src/managesieve/cmd-
	deletescript.c, src/managesieve/cmd-getscript.c, src/managesieve
	/cmd-havespace.c, src/managesieve/cmd-listscripts.c, src/managesieve
	/cmd-logout.c, src/managesieve/cmd-noop.c, src/managesieve/cmd-
	renamescript.c, src/managesieve/cmd-setactive.c, src/managesieve
	/managesieve-client.c, src/managesieve/managesieve-client.h:
	Enforced ManageSieve protocol syntax better with some of the
	commands; some commands still allowed spurious extra arguments.
	[551cd0af5b08]

	* .hgignore, doc/man/Makefile.am, doc/man/pigeonhole.7,
	doc/man/pigeonhole.7.in, doc/man/sieve-dump.1.in, doc/man/sieve-
	test.1.in, doc/man/sievec.1.in:
	Cleaned up manpages and fixed various issues (patch by Pascal Volk).
	- No longer track the generated pigeonhole.7
	- Some makes don't like the 'handy' notation that was used.
	- Deleted trailing spaces
	- Escaped some dashes
	- Replaced some ' and " by \(aq and \(dq
	- Sorted manual pages in section 'See also' (first list all man
	pages from the lowest section (1) alphabetical sorted, then the
	next section â€¦)
	[4dd2538ec95b]

	* .hgignore, TODO, doc/man/Makefile.am, doc/man/pigeonhole.7,
	doc/man/pigeonhole.7.in, doc/man/reporting-bugs.inc, doc/man/sed.sh,
	doc/man/sieve-dump.1, doc/man/sieve-dump.1.in, doc/man/sieve-
	filter.1, doc/man/sieve-filter.1.in, doc/man/sieve-test.1, doc/man
	/sieve-test.1.in, doc/man/sievec.1, doc/man/sievec.1.in:
	Update man pages to match style and content of Dovecot man pages.
	[b2e31e71f20d]

2010-08-21  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieved.1:
	Added manpage redirection for sieved.
	[b5b2763494e5]

	* .hgignore, NEWS, README, doc/man/Makefile.am, doc/man/sieve-dump.1,
	doc/man/sieve-filter.1, doc/man/sieve-test.1, doc/man/sievec.1,
	doc/man/sieved.1, src/sieve-tools/Makefile.am, src/sieve-tools
	/sieve-dump.c, src/sieve-tools/sieved.c:
	Renamed sieved tool to sieve-dump.
	[668aa8a99d4d]

2010-08-19  Stephan Bosch  <stephan@rename-it.nl>

	* INSTALL, NEWS, README:
	Updated documentation for upcoming release.
	[9ea3bdda8e15]

2010-08-17  Stephan Bosch  <stephan@rename-it.nl>

	* doc/example-config/conf.d/20-managesieve.conf, doc/example-
	config/conf.d/90-sieve.conf:
	Added quota and limit configuration to config file examples.
	[1ae9569b0383]

	* AUTHORS:
	Removed superfluous text from AUTHORS file.
	[8ec04c40d9a4]

	* TODO:
	Moved finishing the ereject extension off the pre-v0.2.0 TODO list.
	[374dd2a372c8]

	* INSTALL, README:
	Updated documentation.
	[126e6b9fad21]

	* src/managesieve-login/managesieve-login-settings.c, src/managesieve
	/managesieve-settings.c:
	ManageSieve: changed default IMPLEMENTATION capability to 'Dovecot
	Pigeonhole'.
	[d22162f0d0eb]

	* src/lib-managesieve/managesieve-parser.c, src/lib-managesieve
	/managesieve-parser.h, src/lib-managesieve/managesieve-quote.c, src
	/lib-managesieve/managesieve-quote.h, src/lib-sieve-tool/mail-raw.c,
	src/lib-sieve-tool/mail-raw.h, src/lib-sieve-tool/sieve-tool.c, src
	/lib-sieve-tool/sieve-tool.h, src/lib-sieve/cmd-discard.c, src/lib-
	sieve/cmd-if.c, src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-
	redirect.c, src/lib-sieve/cmd-require.c, src/lib-sieve/cmd-stop.c,
	src/lib-sieve/cmp-i-ascii-casemap.c, src/lib-sieve/cmp-i-octet.c,
	src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/mcht-contains.c, src/lib-sieve/mcht-is.c, src/lib-sieve/mcht-
	matches.c, src/lib-sieve/plugins/body/ext-body-common.c, src/lib-
	sieve/plugins/body/ext-body-common.h, src/lib-sieve/plugins/body
	/ext-body.c, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c,
	src/lib-sieve/plugins/copy/ext-copy.c, src/lib-sieve/plugins/date
	/ext-date-common.c, src/lib-sieve/plugins/date/ext-date-common.h,
	src/lib-sieve/plugins/date/ext-date.c, src/lib-sieve/plugins/date
	/tst-date.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify-limits.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/enotify/mailto/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/mailto/uri-mailto.c, src/lib-
	sieve/plugins/enotify/mailto/uri-mailto.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, src/lib-sieve/plugins/enotify/tst-notify-
	method-capability.c, src/lib-sieve/plugins/enotify/tst-valid-notify-
	method.c, src/lib-sieve/plugins/enotify/vmodf-encodeurl.c, src/lib-
	sieve/plugins/environment/ext-environment-common.c, src/lib-
	sieve/plugins/environment/ext-environment-common.h, src/lib-
	sieve/plugins/environment/ext-environment.c, src/lib-
	sieve/plugins/environment/sieve-ext-environment.h, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/include/cmd-global.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-limits.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/mailbox
	/ext-mailbox-common.h, src/lib-sieve/plugins/mailbox/ext-mailbox.c,
	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/notify/ext-notify-common.c, src
	/lib-sieve/plugins/notify/ext-notify-common.h, src/lib-
	sieve/plugins/notify/ext-notify-limits.h, src/lib-
	sieve/plugins/notify/ext-notify.c, src/lib-sieve/plugins/regex/ext-
	regex-common.c, src/lib-sieve/plugins/regex/ext-regex-common.h, src
	/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/ext-relational-
	common.c, src/lib-sieve/plugins/relational/ext-relational-common.h,
	src/lib-sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.h, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest.c, src/lib-
	sieve/plugins/spamvirustest/tst-spamvirustest.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-arguments.h, src/lib-sieve/plugins/variables/ext-
	variables-common.c, src/lib-sieve/plugins/variables/ext-variables-
	common.h, src/lib-sieve/plugins/variables/ext-variables-dump.c, src
	/lib-sieve/plugins/variables/ext-variables-dump.h, src/lib-
	sieve/plugins/variables/ext-variables-limits.h, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.c, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/rfc2822.c, src
	/lib-sieve/rfc2822.h, src/lib-sieve/sieve-actions.c, src/lib-sieve
	/sieve-actions.h, src/lib-sieve/sieve-address-parts.c, src/lib-sieve
	/sieve-address-parts.h, src/lib-sieve/sieve-address.c, src/lib-sieve
	/sieve-address.h, src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-
	ast.h, src/lib-sieve/sieve-binary-code.c, src/lib-sieve/sieve-
	binary-debug.c, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve
	/sieve-binary-dumper.h, src/lib-sieve/sieve-binary-file.c, src/lib-
	sieve/sieve-binary-private.h, src/lib-sieve/sieve-binary.c, src/lib-
	sieve/sieve-binary.h, src/lib-sieve/sieve-code-dumper.c, src/lib-
	sieve/sieve-code-dumper.h, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-config.h, src/lib-sieve/sieve-dump.h, src/lib-sieve/sieve-
	error-private.h, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-
	error.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-
	extensions.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	lexer.h, src/lib-sieve/sieve-limits.h, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve-
	match.c, src/lib-sieve/sieve-match.h, src/lib-sieve/sieve-message.c,
	src/lib-sieve/sieve-message.h, src/lib-sieve/sieve-objects.c, src
	/lib-sieve/sieve-objects.h, src/lib-sieve/sieve-parser.c, src/lib-
	sieve/sieve-parser.h, src/lib-sieve/sieve-plugins.c, src/lib-sieve
	/sieve-plugins.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h, src/lib-sieve/sieve-runtime-trace.c, src/lib-sieve/sieve-
	runtime-trace.h, src/lib-sieve/sieve-runtime.h, src/lib-sieve/sieve-
	script-private.h, src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-
	script.h, src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-
	settings.h, src/lib-sieve/sieve-smtp.c, src/lib-sieve/sieve-smtp.h,
	src/lib-sieve/sieve-stringlist.c, src/lib-sieve/sieve-stringlist.h,
	src/lib-sieve/sieve-types.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/sieve-validator.h, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c, src
	/lib-sieve/tst-header.c, src/lib-sieve/tst-not.c, src/lib-sieve/tst-
	size.c, src/lib-sieve/tst-truefalse.c, src/lib-sievestorage/sieve-
	storage-list.c, src/lib-sievestorage/sieve-storage-list.h, src/lib-
	sievestorage/sieve-storage-private.h, src/lib-sievestorage/sieve-
	storage-quota.c, src/lib-sievestorage/sieve-storage-quota.h, src
	/lib-sievestorage/sieve-storage-save.c, src/lib-sievestorage/sieve-
	storage-save.h, src/lib-sievestorage/sieve-storage-script.c, src
	/lib-sievestorage/sieve-storage-script.h, src/lib-sievestorage
	/sieve-storage.c, src/lib-sievestorage/sieve-storage.h, src
	/managesieve-login/client-authenticate.c, src/managesieve-login
	/client-authenticate.h, src/managesieve-login/client.c, src
	/managesieve-login/client.h, src/managesieve-login/managesieve-
	login-settings-plugin.c, src/managesieve-login/managesieve-login-
	settings-plugin.h, src/managesieve-login/managesieve-login-
	settings.c, src/managesieve-login/managesieve-login-settings.h, src
	/managesieve-login/managesieve-proxy.c, src/managesieve-login
	/managesieve-proxy.h, src/managesieve/cmd-capability.c,
	src/managesieve/cmd-deletescript.c, src/managesieve/cmd-getscript.c,
	src/managesieve/cmd-havespace.c, src/managesieve/cmd-listscripts.c,
	src/managesieve/cmd-logout.c, src/managesieve/cmd-noop.c,
	src/managesieve/cmd-putscript.c, src/managesieve/cmd-renamescript.c,
	src/managesieve/cmd-setactive.c, src/managesieve/main.c,
	src/managesieve/managesieve-capabilities.c, src/managesieve
	/managesieve-capabilities.h, src/managesieve/managesieve-client.c,
	src/managesieve/managesieve-client.h, src/managesieve/managesieve-
	commands.c, src/managesieve/managesieve-commands.h, src/managesieve
	/managesieve-common.h, src/managesieve/managesieve-quota.c,
	src/managesieve/managesieve-quota.h, src/managesieve/managesieve-
	settings.c, src/managesieve/managesieve-settings.h, src/plugins/lda-
	sieve/lda-sieve-log.c, src/plugins/lda-sieve/lda-sieve-log.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/plugins/lda-sieve/lda-
	sieve-plugin.h, src/sieve-tools/debug/cmd-debug-print.c, src/sieve-
	tools/debug/ext-debug-common.h, src/sieve-tools/debug/ext-debug.c,
	src/sieve-tools/debug/sieve-ext-debug.h, src/sieve-tools/sieve-
	filter.c, src/sieve-tools/sieve-test.c, src/sieve-tools/sievec.c,
	src/sieve-tools/sieved.c, src/testsuite/cmd-test-binary.c,
	src/testsuite/cmd-test-config.c, src/testsuite/cmd-test-fail.c,
	src/testsuite/cmd-test-mailbox.c, src/testsuite/cmd-test-message.c,
	src/testsuite/cmd-test-result-print.c, src/testsuite/cmd-test-
	result-reset.c, src/testsuite/cmd-test-set.c, src/testsuite/cmd-
	test.c, src/testsuite/ext-testsuite.c, src/testsuite/testsuite-
	arguments.c, src/testsuite/testsuite-arguments.h, src/testsuite
	/testsuite-binary.c, src/testsuite/testsuite-binary.h, src/testsuite
	/testsuite-common.c, src/testsuite/testsuite-common.h, src/testsuite
	/testsuite-log.c, src/testsuite/testsuite-log.h, src/testsuite
	/testsuite-mailstore.c, src/testsuite/testsuite-mailstore.h,
	src/testsuite/testsuite-message.c, src/testsuite/testsuite-
	message.h, src/testsuite/testsuite-objects.c, src/testsuite
	/testsuite-objects.h, src/testsuite/testsuite-result.c,
	src/testsuite/testsuite-result.h, src/testsuite/testsuite-script.c,
	src/testsuite/testsuite-script.h, src/testsuite/testsuite-
	settings.c, src/testsuite/testsuite-settings.h, src/testsuite
	/testsuite-smtp.c, src/testsuite/testsuite-smtp.h, src/testsuite
	/testsuite-substitutions.c, src/testsuite/testsuite-substitutions.h,
	src/testsuite/testsuite.c, src/testsuite/tst-test-error.c,
	src/testsuite/tst-test-multiscript.c, src/testsuite/tst-test-result-
	execute.c, src/testsuite/tst-test-result.c, src/testsuite/tst-test-
	script-compile.c, src/testsuite/tst-test-script-run.c:
	Renamed 'Dovecot Sieve' to 'Pigeonhole' in source file copyright
	headers.
	[c4d3018f458e]

2010-08-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-runtime-trace.c, src/lib-sieve/sieve-runtime-
	trace.h, src/lib-sieve/sieve-stringlist.c, src/lib-sieve/sieve-
	stringlist.h:
	Fixed source file header comments.
	[12bcaa8a3c8d]

	* tests/extensions/regex/basic.svtest:
	Testsuite: added a few test for the regex extension.
	[f152c6e113e3]

	* src/lib-sieve-tool/sieve-tool.c:
	Fixed Valgrind error.
	[dce269f7665f]

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/date/ext-date-
	common.c, src/lib-sieve/plugins/date/tst-date.c, src/lib-
	sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/plugins/enotify
	/tst-notify-method-capability.c, src/lib-sieve/plugins/enotify/tst-
	valid-notify-method.c, src/lib-sieve/plugins/environment/tst-
	environment.c, src/lib-sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/regex/mcht-regex.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/spamvirustest/tst-spamvirustest.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-namespaces.c, src/lib-sieve/plugins/variables/ext-
	variables-operands.c, src/lib-sieve/plugins/variables/sieve-ext-
	variables.h, src/lib-sieve/plugins/variables/tst-string.c, src/lib-
	sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve
	/sieve-address-parts.c, src/lib-sieve/sieve-address-parts.h, src
	/lib-sieve/sieve-address.c, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-code.h, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-match-types.h, src/lib-sieve/sieve-match.c, src/lib-sieve
	/sieve-match.h, src/lib-sieve/sieve-message.c, src/lib-sieve/sieve-
	objects.c, src/lib-sieve/sieve-runtime-trace.c, src/lib-sieve/sieve-
	runtime-trace.h, src/lib-sieve/sieve-stringlist.c, src/lib-sieve
	/sieve-stringlist.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	exists.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c,
	src/managesieve/cmd-putscript.c, src/sieve-tools/debug/cmd-debug-
	print.c, src/testsuite/cmd-test-binary.c, src/testsuite/cmd-test-
	config.c, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-test-
	mailbox.c, src/testsuite/cmd-test-message.c, src/testsuite/cmd-test-
	set.c, src/testsuite/cmd-test.c, src/testsuite/testsuite-log.c,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-result.c,
	src/testsuite/testsuite-substitutions.c, src/testsuite/tst-test-
	error.c, src/testsuite/tst-test-multiscript.c, src/testsuite/tst-
	test-result.c, src/testsuite/tst-test-script-compile.c,
	src/testsuite/tst-test-script-run.c:
	Improved runtime error handing.

	- Changed operand read functions to prove exec status return codes
	in stead of boolean.
	- Restructured optional-operand, stringlist and string-match APIs to
	provide execution status (error code) upon failure.
	- Corruption errors are only produced when the binary is actually
	corrupt. Normal failures should never cause a recompile attempt
	anymore.
	- Simplified optional-operand API.
	- Cleaned up test command implementations that use the string-match
	API.
	[b889191ef74c]

2010-08-12  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Produce a nicer error message when trying to load with non-lda/lmtp
	binary (patch by Timo Sirainen).
	[7dc1741fe305]

	* src/lib-sieve/plugins/regex/mcht-regex.c:
	Regex match: fixed segfault at deinitialization.
	[32fd91cbe1e0]

	* TODO:
	Updated TODO
	[f6f169a146df]

	* src/lib-sieve/sieve-address.h, src/lib-sieve/sieve-generator.h, src
	/lib-sieve/sieve-stringlist.h:
	Fixed compile on Solaris 10 with SunStudio 12.1 (patch by Willi
	Burmeister).
	[dbeafafac11b]

2010-08-11  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve-tool/sieve-tool.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/ext-include-common.c,
	src/lib-sieve/sieve-binary-file.c, src/lib-sieve/sieve-binary-
	private.h, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	binary.h, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-lexer.c,
	src/lib-sieve/sieve-lexer.h, src/lib-sieve/sieve-parser.c, src/lib-
	sieve/sieve-parser.h, src/lib-sieve/sieve-script-private.h, src/lib-
	sieve/sieve-script.c, src/lib-sieve/sieve-script.h, src/lib-sieve
	/sieve-types.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src
	/lib-sievestorage/Makefile.am, src/lib-sievestorage/sieve-storage-
	error.h, src/lib-sievestorage/sieve-storage-list.c, src/lib-
	sievestorage/sieve-storage-private.h, src/lib-sievestorage/sieve-
	storage-quota.c, src/lib-sievestorage/sieve-storage-save.c, src/lib-
	sievestorage/sieve-storage-script.c, src/lib-sievestorage/sieve-
	storage-script.h, src/lib-sievestorage/sieve-storage.c, src/lib-
	sievestorage/sieve-storage.h, src/managesieve/cmd-deletescript.c,
	src/managesieve/cmd-getscript.c, src/managesieve/cmd-putscript.c,
	src/managesieve/cmd-renamescript.c, src/managesieve/cmd-setactive.c,
	src/managesieve/managesieve-client.c, src/plugins/lda-sieve/lda-
	sieve-plugin.c, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/sieve-tools/sieved.c, src/testsuite/testsuite-
	binary.c, src/testsuite/testsuite-script.c,
	src/testsuite/testsuite.c:
	Improved and simplified file error handling

	- Administrators now get properly notified about uncompiled global
	scripts and the inability of the sieve plugin to store global
	binaries.
	- Improved binary load/save error handling and fixed a few smal bugs.
	- Simplified ManageSieve error handling.
	[5b078d671e51]

	* src/lib-sievestorage/sieve-storage-save.c:
	ManageSieve/Sieve storag: fixed error handling of PUTSCRIPT
	commmand; save commit errors would not make the command fail.
	[0bdde11004f5]

	* src/lib-sieve/sieve-interpreter.c:
	Fixed segfault occuring when loaded binary block turns out to be
	corrupt.
	[181e04d8ac6e]

	* src/lib-sieve/sieve.c:
	Multiscript: fixed duplicate implicit keep caused by erroneous
	execution state update.
	[90cec7ef7373]

	* src/lib-sieve/sieve-binary-code.c:
	Prevent assertion failure due to currupt binary string
	representation (missing \0).
	[89756b38a8c6]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: fixed sieve_global_path setting; it was not
	recognized.
	[928551d558d6]

2010-08-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c:
	Fixed segfault in tools and testsuite occuring when no username can
	be determined.
	[0592366457df]

2010-08-06  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/client-authenticate.c:
	ManageSieve: fixed SASL negotiation; mechanisms that need a
	roundtrip were broken.
	[a73a01e2d6d2]

2010-08-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/tst-size.c:
	Fixed compiler warnings in tst-size.c
	[cac6acdc4d0e]

2010-08-03  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-redirect.c, src
	/lib-sieve/cmd-stop.c, src/lib-sieve/ext-envelope.c, src/lib-sieve
	/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/plugins/imap4flags
	/cmd-flag.c, src/lib-sieve/plugins/imap4flags/ext-imap4flags-
	common.c, src/lib-sieve/plugins/mailbox/tst-mailboxexists.c, src
	/lib-sieve/plugins/regex/mcht-regex.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-
	address.c, src/lib-sieve/sieve-address.h, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-match.c, src/lib-sieve/sieve-
	message.c, src/lib-sieve/sieve-runtime-trace.c, src/lib-sieve/sieve-
	runtime-trace.h, src/lib-sieve/sieve-runtime.h, src/lib-sieve/sieve-
	stringlist.h, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-size.c,
	src/testsuite/cmd-test-binary.c, src/testsuite/cmd-test-config.c,
	src/testsuite/cmd-test-fail.c, src/testsuite/cmd-test-mailbox.c,
	src/testsuite/cmd-test-message.c, src/testsuite/cmd-test-result-
	print.c, src/testsuite/cmd-test-result-reset.c, src/testsuite/cmd-
	test-set.c, src/testsuite/cmd-test.c, src/testsuite/testsuite-
	script.c, src/testsuite/testsuite-script.h, src/testsuite/tst-test-
	error.c, src/testsuite/tst-test-multiscript.c, src/testsuite/tst-
	test-result-execute.c, src/testsuite/tst-test-result.c,
	src/testsuite/tst-test-script-compile.c, src/testsuite/tst-test-
	script-run.c:
	Improved runtime trace debugging towards something more intuitively
	readable.
	[15e39ffe0ff1]

	* src/lib-sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h,
	tests/extensions/imap4flags/basic.svtest:
	Imap4flags: fixed bug in setflag command; when parameter was a
	stringlist, only the last item was actually set.
	[1c66cb52772d]

	* src/lib-sieve/sieve-actions.c, tests/execute/errors.svtest,
	tests/execute/errors/fileinto-invalid-name.sieve:
	Fixed bug in error handling of store action.
	[8ab83f81360e]

	* src/testsuite/testsuite-log.c, src/testsuite/testsuite-log.h,
	src/testsuite/testsuite.c:
	Testsuite: prevented warning messages from showing up by default.
	[b404d36cdd8d]

	* src/lib-sieve-tool/sieve-tool.c:
	Testsuite: fixed segfault problem.
	[3f718ad2060c]

2010-08-02  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, tests/size.svtest:
	Testsuite: added missing test case for the size test.
	[350f02ff8d83]

	* src/testsuite/testsuite.c:
	Testsuite: minor cleanups.
	[a904a64890bd]

	* src/lib-sieve-tool/sieve-tool.c:
	Sieve tools: don't try to close stdout.
	[f35b814f2975]

	* src/sieve-tools/sieve-test.c:
	Sieve-test tool: accidentally disabled -d option.
	[bf0455cc29c9]

	* src/lib-sieve/sieve-binary-code.c:
	Improved byte code encoding implementation of integers and offsets.
	[66af5c261028]

2010-07-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/sieve-binary-code.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-code.c, src/lib-sieve/sieve-interpreter.c, src/testsuite
	/cmd-test-fail.c:
	Sieve binary: now using better defined integer types for byte-coded
	data
	[5427ab9c95da]

	* TODO:
	Updated TODO.
	[5acdd784dd98]

	* src/lib-sieve/plugins/variables/ext-variables-modifiers.c,
	tests/extensions/variables/modifiers.svtest:
	Variables extension: fixed :length set modifier to recognize utf8
	characters in stead of octets.
	[d0c3be3295a1]

	* TODO, src/lib-sieve/Makefile.am, src/lib-sieve/ext-envelope.c, src
	/lib-sieve/mcht-contains.c, src/lib-sieve/mcht-is.c, src/lib-sieve
	/mcht-matches.c, src/lib-sieve/plugins/body/ext-body-common.c, src
	/lib-sieve/plugins/body/ext-body-common.h, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/date/ext-date-
	common.c, src/lib-sieve/plugins/date/ext-date-common.h, src/lib-
	sieve/plugins/date/tst-date.c, src/lib-sieve/plugins/enotify/cmd-
	notify.c, src/lib-sieve/plugins/enotify/ext-enotify-common.c, src
	/lib-sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/tst-notify-method-capability.c, src/lib-
	sieve/plugins/enotify/tst-valid-notify-method.c, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/regex/mcht-regex.c, src/lib-
	sieve/plugins/relational/ext-relational-common.h, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/spamvirustest/tst-spamvirustest.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-
	address.c, src/lib-sieve/sieve-address.h, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-common.h,
	src/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve-match.c, src
	/lib-sieve/sieve-match.h, src/lib-sieve/sieve-message.c, src/lib-
	sieve/sieve-message.h, src/lib-sieve/sieve-stringlist.c, src/lib-
	sieve/sieve-stringlist.h, src/lib-sieve/tst-address.c, src/lib-sieve
	/tst-exists.c, src/lib-sieve/tst-header.c, src/testsuite/testsuite-
	log.c, src/testsuite/testsuite-log.h, src/testsuite/testsuite-
	result.c, src/testsuite/testsuite-result.h, src/testsuite/tst-test-
	error.c, src/testsuite/tst-test-multiscript.c, src/testsuite/tst-
	test-result.c, tests/extensions/envelope.svtest:
	Implemented generic string list interface and simplified matching
	API.
	[daef8bfcb457]

	* src/sieve-tools/sieve-test.c:
	Fixed sieve-test not to start in trace mode by default.
	[2b626836f00e]

2010-07-29  Stephan Bosch  <stephan@rename-it.nl>

	* README, src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-
	envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-
	reject.c, src/lib-sieve/plugins/body/ext-body.c, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c,
	src/lib-sieve/plugins/copy/ext-copy.c, src/lib-sieve/plugins/date
	/ext-date.c, src/lib-sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/environment/ext-environment.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/mailbox
	/ext-mailbox.c, src/lib-sieve/plugins/notify/ext-notify.c, src/lib-
	sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/relational
	/ext-relational.c, src/lib-sieve/plugins/subaddress/ext-
	subaddress.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/plugins/variables/ext-variables.c, src/sieve-tools/debug
	/ext-debug.c, src/testsuite/ext-testsuite.c:
	Updated extension status information.
	[e85d834b69cc]

2010-07-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: fixed deinitialization problem in dump-capability
	plugin.
	[71710ea4900a]

2010-07-21  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: fixed dump-capability hang.
	[4cb55beaca07]

	* Makefile.am, doc/man/sieve-test.1, src/lib-sieve-tool/sieve-tool.c,
	src/lib-sieve-tool/sieve-tool.h, src/lib-sieve/plugins/spamvirustest
	/tst-spamvirustest.c, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-match.c, src/lib-sieve/sieve-runtime-trace.c, src/lib-sieve
	/sieve-runtime-trace.h, src/sieve-tools/sieve-test.c, src/testsuite
	/cmd-test-config.c, src/testsuite/cmd-test-mailbox.c, src/testsuite
	/cmd-test-message.c, src/testsuite/cmd-test.c,
	src/testsuite/testsuite.c, src/testsuite/tst-test-error.c,
	src/testsuite/tst-test-multiscript.c, src/testsuite/tst-test-result-
	execute.c:
	Further developed new runtime trace debugging; test suite is also
	now included.
	[48af633e3e9f]

2010-07-20  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/Makefile.am, src/sieve-tools/Makefile.am:
	Makefile fix: rhel5 still has too old automake that doesn't define
	$builddir.
	[01ee63b788c9]

2010-07-17  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/body/Makefile.am, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/Makefile.am, src/lib-sieve/plugins/copy/Makefile.am,
	src/lib-sieve/plugins/date/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/mailto/Makefile.am, src/lib-
	sieve/plugins/environment/Makefile.am, src/lib-
	sieve/plugins/imap4flags/Makefile.am, src/lib-
	sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/mailbox/Makefile.am, src/lib-
	sieve/plugins/notify/Makefile.am, src/lib-
	sieve/plugins/regex/Makefile.am, src/lib-
	sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/spamvirustest/Makefile.am, src/lib-
	sieve/plugins/subaddress/Makefile.am, src/lib-
	sieve/plugins/vacation/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am, src/managesieve-
	login/Makefile.am, src/managesieve/Makefile.am, src/plugins/lda-
	sieve/Makefile.am, src/sieve-tools/Makefile.am,
	src/testsuite/Makefile.am:
	First changes towards making `make distcheck' work.
	[c37eec591842]

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-stop.c, src/lib-sieve
	/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-
	reject.c, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	match.c, src/lib-sieve/sieve-match.h, src/lib-sieve/sieve-runtime-
	trace.c, src/lib-sieve/tst-address.c, src/lib-sieve/tst-exists.c,
	src/lib-sieve/tst-header.c, src/sieve-tools/sieve-test.c:
	Improved runtime trace debugging output for core Sieve language.
	[fdec4e5304e2]

2010-07-16  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c:
	Adjusted to Dovecot LDA API changes; implicitly fixing segfault
	(patch by Timo Sirainen).
	[50dc4c2ae28f]

	* m4/dovecot.m4:
	Updated dovecot.m4.
	[70b5312e9dc5]

	* src/lib-sieve-tool/mail-raw.c, src/managesieve/managesieve-
	capabilities.c:
	Removed unused code that caused compile failure due to Dovecot API
	change.
	[29ae07044ec2]

2010-07-15  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-comparators.h, src/lib-sieve/sieve-match.c:
	Implemented simple runtime trace of string value matching.
	[534ed8c1dea2]

2010-07-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/date/tst-
	date.c, src/lib-sieve/plugins/enotify/tst-notify-method-
	capability.c, src/lib-sieve/plugins/environment/tst-environment.c,
	src/lib-sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/spamvirustest/tst-
	spamvirustest.c, src/lib-sieve/plugins/variables/ext-variables-
	common.c, src/lib-sieve/plugins/variables/ext-variables-operands.c,
	src/lib-sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-
	match-types.c, src/lib-sieve/sieve-match-types.h, src/lib-sieve
	/sieve-match.c, src/lib-sieve/sieve-match.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-header.c, src/testsuite/tst-test-
	error.c, src/testsuite/tst-test-result.c:
	Adjusted string matching API tu use runtime environment.
	[a688d1de8747]

2010-07-13  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/draft-ietf-sieve-managesieve-09.txt,
	doc/rfc/managesieve.rfc5804.txt:
	Updated ManageSieve specification.
	[cec28cc5d4bf]

	* TODO:
	Updated TODO list.
	[6942c0718e29]

	* src/testsuite/testsuite.c:
	Testsuite: inappropriately removed initialization of dummy MAIL
	environment.
	[1809aab8dfa2]

2010-07-11  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-filter.1, doc/man/sieve-test.1, doc/man/sievec.1,
	doc/man/sieved.1, src/lib-sieve/plugins/include/ext-include-
	common.c, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	runtime-trace.h, src/lib-sieve/sieve-runtime.h, src/lib-sieve/sieve-
	types.h, src/sieve-tools/sieve-test.c, src/testsuite/cmd-test.c,
	src/testsuite/testsuite-script.c, src/testsuite/testsuite.c:
	Sieve tools: added support for extended trace debugging and updated
	man pages.
	[843ba8e66e1b]

	* TODO, doc/man/sieve-filter.1, doc/man/sieve-test.1,
	doc/man/sievec.1, doc/man/sieved.1:
	Updated documentation: Sieve tools are now using Dovecot
	configuration by default.
	[cdd4c08c2f85]

2010-07-10  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c:
	Sieve-tools: use 'mail' as module name in stead of the name of the
	command.
	[1e66eb33873f]

	* src/lib-sieve-tool/sieve-tool.c:
	Sieve-tools: was using wrong mail_user variable for settings
	acquisition.
	[8df403e24121]

	* src/lib-sieve/sieve-error.c:
	Increased initial pool sieve for Sieve logfile and varexpand error
	handlers.
	[abf797889bd7]

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve-tool/mail-raw.h, src
	/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h, src
	/sieve-tools/sieve-filter.c, src/sieve-tools/sieve-test.c, src
	/sieve-tools/sievec.c, src/sieve-tools/sieved.c, src/testsuite
	/testsuite-binary.c, src/testsuite/testsuite-common.c, src/testsuite
	/testsuite-common.h, src/testsuite/testsuite-mailstore.c,
	src/testsuite/testsuite-mailstore.h, src/testsuite/testsuite-
	message.c, src/testsuite/testsuite-message.h, src/testsuite
	/testsuite-result.c, src/testsuite/testsuite-script.c, src/testsuite
	/testsuite-settings.c, src/testsuite/testsuite-settings.h,
	src/testsuite/testsuite.c:
	Restructured and cleaned up the Sieve tools and the Sieve tool
	library.
	[714ca8de07fe]

2010-07-08  Stephan Bosch  <stephan@rename-it.nl>

	* tests/execute/errors.svtest:
	Testsuite: improved test for fileinto with non-existent mailbox.
	[94ff6b42c1bd]

	* src/lib-sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-sieve
	/sieve-actions.c, tests/execute/errors.svtest,
	tests/execute/errors/fileinto.sieve:
	Fixed assertion failure in the keep/fileinto store actions and added
	testsuite item.
	[703f82bb2b09]

2010-07-05  Stephan Bosch  <stephan@rename-it.nl>

	* doc/example-config/conf.d/90-sieve.conf:
	Fixed small discrepancy in example configuration.
	[e6c049bf72a9]

	* src/managesieve/main.c:
	ManageSieve: fixed fd leak caused by DUMP_CAPABILITY execution.
	[70fd71816991]

	* INSTALL, doc/example-config/conf.d/20-managesieve.conf:
	Updated documentation.
	[09937738119e]

2010-07-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-test.c, src/sieve-tools/sievec.c, src/sieve-
	tools/sieved.c:
	Sieve-tools: removed KEEP_CONFIG_OPEN service flag.
	[3d8122dcd985]

	* src/managesieve/managesieve-capabilities.c:
	Fixed compiler warning caused by previous change.
	[076024ff7430]

2010-07-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-extensions.c, src/managesieve/managesieve-
	capabilities.c, src/managesieve/managesieve-client.c, src/plugins
	/lda-sieve/lda-sieve-plugin.c:
	Moved parsing of sieve_extensions setting to sieve engine
	initialization.
	[2ab267d4c8b5]

	* src/sieve-tools/sievec.c, src/sieve-tools/sieved.c:
	Fixed compiler warnings in previous change.
	[e59182cb2798]

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h,
	src/lib-sieve/sieve-script.c, src/sieve-tools/sieve-test.c, src
	/sieve-tools/sievec.c, src/sieve-tools/sieved.c,
	src/testsuite/testsuite.c:
	Sieve-Tools: fully use Dovecot service and settings API.
	[a3f9c77e220a]

	* TODO:
	Updated TODO list.
	[9b9f2cd44aca]

	* src/managesieve-login/client.c, src/managesieve-login/managesieve-
	login-settings.c:
	ManageSieve: reactivated reporting of NOTIFY capability.
	[38306def24f0]

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: removed service/managesieve-login from dynamically
	assinged settings.
	[4726ae261b28]

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: added -k to dump capability invocation of managesieve
	binary.
	[521e85ca723f]

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: check for DUMP_CAPABILITY=1 before executing dump
	capability to prevent infinite recursion.
	[691d7154fd49]

	* src/managesieve-login/Makefile.am, src/managesieve-login
	/managesieve-login-settings-plugin.c:
	ManageSieve: forgot to include settings in doveconf plugin.
	[0ef3f34117ae]

	* src/managesieve-login/managesieve-login-settings-plugin.c:
	ManageSieve: doveconf went berserk with last change.
	[743bb4214ead]

	* m4/dovecot.m4, src/managesieve-login/Makefile.am, src/managesieve-
	login/managesieve-login-settings-plugin.c, src/managesieve-login
	/managesieve-login-settings-plugin.h, src/managesieve-login
	/managesieve-login-settings.c, src/managesieve-login/managesieve-
	login-settings.h:
	ManageSieve: enabled dynamic capability inference.
	[44ec09203ab4]

2010-07-01  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/main.c:
	managesieve: Added an assert to client_connected().
	[37b0ecfb4de7]

2010-06-28  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO list.
	[1761ee767e52]

2010-06-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/managesieve-settings.c:
	ManageSieve: forgot to change login unix socket name.
	[1def8519d775]

	* src/lib-sieve/sieve-actions.c:
	Use new LDA deliver save API (patch by Timo Sirainen).
	[709c8ca2d50a]

	* src/managesieve-login/managesieve-login-settings.c, src/managesieve
	/managesieve-settings.c:
	ManageSieve: small patch to service settings.
	[9f19795a6a0f]

2010-06-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/client.c:
	ManageSieve: forgot to change protocol name to 'sieve' in
	login_binary struct.
	[57864af3e702]

2010-06-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/cmd-global.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/ext-
	variables-common.h, src/lib-sieve/plugins/variables/ext-variables-
	dump.c, src/lib-sieve/plugins/variables/ext-variables-operands.c,
	src/lib-sieve/plugins/variables/sieve-ext-variables.h, src/lib-sieve
	/sieve-runtime-trace.h:
	Variables extension: added proper trace support.
	[1ce19ab1379e]

	* src/lib-sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	types.h, src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-tools
	/sieve-filter.c, src/sieve-tools/sieve-test.c, src/testsuite
	/testsuite-mailstore.c, src/testsuite/testsuite-mailstore.h,
	src/testsuite/testsuite-script.c, src/testsuite/testsuite.c:
	Cleaned up mail storage-related code (modified patch by Timo
	Sirainen).
	[84a0495b9b50]

	* INSTALL, doc/example-config/conf.d/90-sieve.conf:
	Updated documentation.
	[fb437717ff10]

	* src/lib-sieve/sieve-actions.c:
	Fixed error handling of failed mailbox creation (patch by Timo
	Sirainen).
	[d4509075374d]

	* doc/example-config/conf.d/20-managesieve.conf, src/managesieve-login
	/managesieve-login-settings.c, src/managesieve/managesieve-
	settings.c:
	Changed ManageSieve protocol name to 'sieve'.
	[49ef146b2ec1]

2010-05-30  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Forgot an active TODO item on the list.
	[b877a1db00a5]

	* src/managesieve/main.c:
	Updated to changes in Dovecot service API.
	[1b116b4a4b41]

2010-05-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-binary.c:
	Include extension: accidentally committed debug printf.
	[9f8f1a974501]

	* configure.in:
	Explicitly set AC_CONFIG_AUX_DIR to prevent issues when compiling
	Pigeonhole in a sub-directory of the Dovecot tree.
	[48798f16daaf]

2010-05-16  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[d84aaca546b9]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-discard.c, src/lib-
	sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-
	stop.c, src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c,
	src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/body/ext-body-
	common.c, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/date/ext-date-common.c, src/lib-sieve/plugins/date
	/tst-date.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/tst-notify-method-capability.c, src/lib-
	sieve/plugins/enotify/tst-valid-notify-method.c, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/include/cmd-global.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/notify/ext-notify-common.c, src
	/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c, src
	/lib-sieve/plugins/spamvirustest/tst-spamvirustest.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-modifiers.h, src/lib-sieve/plugins/variables/ext-
	variables-operands.c, src/lib-sieve/plugins/variables/sieve-ext-
	variables.h, src/lib-sieve/plugins/variables/tst-string.c, src/lib-
	sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve
	/sieve-address-parts.c, src/lib-sieve/sieve-address-parts.h, src
	/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-code.h, src/lib-sieve/sieve-common.h, src/lib-sieve
	/sieve-dump.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-interpreter.h, src/lib-sieve/sieve-match.c, src/lib-sieve
	/sieve-match.h, src/lib-sieve/sieve-runtime-trace.c, src/lib-sieve
	/sieve-runtime-trace.h, src/lib-sieve/sieve-runtime.h, src/lib-sieve
	/sieve-types.h, src/lib-sieve/sieve.c, src/lib-sieve/tst-address.c,
	src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src/lib-
	sieve/tst-size.c, src/sieve-tools/debug/cmd-debug-print.c, src
	/sieve-tools/sieve-test.c, src/testsuite/cmd-test-binary.c,
	src/testsuite/cmd-test-config.c, src/testsuite/cmd-test-fail.c,
	src/testsuite/cmd-test-mailbox.c, src/testsuite/cmd-test-message.c,
	src/testsuite/cmd-test-set.c, src/testsuite/cmd-test.c,
	src/testsuite/testsuite-script.c, src/testsuite/testsuite.c,
	src/testsuite/tst-test-error.c, src/testsuite/tst-test-
	multiscript.c, src/testsuite/tst-test-result-execute.c,
	src/testsuite/tst-test-result.c, src/testsuite/tst-test-script-
	compile.c, src/testsuite/tst-test-script-run.c:
	Restructured and cleaned up trace debugging and optional operand
	fetching.
	[325c959af6f7]

2010-05-14  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-test.1, src/lib-sieve-tool/sieve-tool.c, src/lib-
	sieve-tool/sieve-tool.h, src/lib-sieve/sieve-common.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/managesieve/managesieve-
	capabilities.c, src/managesieve/managesieve-client.c, src/plugins
	/lda-sieve/lda-sieve-plugin.c, src/sieve-tools/sieve-filter.c, src
	/sieve-tools/sieve-test.c, src/sieve-tools/sievec.c, src/sieve-
	tools/sieved.c, src/testsuite/testsuite.c:
	Added debug mode to the Sieve engine.
	[6c9d1a295517]

	* src/testsuite/testsuite.c:
	Testsuite: forgot to add -P plugin parameter to executable.
	[8791594d478e]

	* TODO:
	Updated TODO.
	[8307905ad7e2]

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src/lib-sieve
	/cmd-redirect.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-
	reject.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/vacation/cmd-vacation.c, src
	/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h:
	Made action commands use new lineinfo facility.
	[131077b9da32]

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve/Makefile.am, src/lib-
	sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-
	keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-stop.c, src
	/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/copy/ext-copy.c, src/lib-sieve/plugins/date/tst-
	date.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/tst-notify-method-capability.c, src/lib-
	sieve/plugins/enotify/tst-valid-notify-method.c, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/include/cmd-global.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/spamvirustest/tst-
	spamvirustest.c, src/lib-sieve/plugins/vacation/cmd-vacation.c, src
	/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-dump.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.c, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-actions.h,
	src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-address-
	parts.h, src/lib-sieve/sieve-binary-code.c, src/lib-sieve/sieve-
	binary-debug.c, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve
	/sieve-binary-dumper.h, src/lib-sieve/sieve-binary-file.c, src/lib-
	sieve/sieve-binary-private.h, src/lib-sieve/sieve-binary.c, src/lib-
	sieve/sieve-binary.h, src/lib-sieve/sieve-code-dumper.c, src/lib-
	sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	commands.c, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-dump.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-match-types.c, src/lib-sieve
	/sieve-match-types.h, src/lib-sieve/sieve-match.c, src/lib-sieve
	/sieve-objects.c, src/lib-sieve/sieve-objects.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/lib-sieve/tst-address.c,
	src/lib-sieve/tst-allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve
	/tst-exists.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c,
	src/lib-sieve/tst-truefalse.c, src/sieve-tools/debug/cmd-debug-
	print.c, src/testsuite/cmd-test-binary.c, src/testsuite/cmd-test-
	config.c, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-test-
	mailbox.c, src/testsuite/cmd-test-message.c, src/testsuite/cmd-test-
	result-print.c, src/testsuite/cmd-test-result-reset.c, src/testsuite
	/cmd-test-set.c, src/testsuite/cmd-test.c, src/testsuite/testsuite-
	common.c, src/testsuite/testsuite-objects.c, src/testsuite
	/testsuite-objects.h, src/testsuite/testsuite-substitutions.c,
	src/testsuite/tst-test-error.c, src/testsuite/tst-test-
	multiscript.c, src/testsuite/tst-test-result-execute.c,
	src/testsuite/tst-test-result.c, src/testsuite/tst-test-script-
	compile.c, src/testsuite/tst-test-script-run.c:
	Restructured binary implementation and added lineinfo debug blocks
	to the binary.
	[c932b2d80dd8]

	* src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-lexer.h, src/lib-
	sieve/sieve-parser.c:
	Lexer: made sure source code positions are recorded at start of
	token.
	[5a83e796ec4c]

	* src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c:
	Spamtest/Virustest extensions: forgot to call extension unload
	handler.
	[a6b803177192]

	* src/lib-sieve/sieve-interpreter.c:
	Fixed potential deinitialization problem in interpreter.
	[86967c644d98]

	* src/lib-sieve/sieve-generator.c:
	Fixed potential memory leak in generator.
	[0802941936fc]

	* TODO:
	Updated TODO.
	[fccd0b381019]

2010-05-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/managesieve-login-settings.c:
	ManageSieve: disabled dynamic capability determination for now.
	[b8dbef9ec43b]

	* src/managesieve-login/managesieve-login-settings.c, src/managesieve
	/managesieve-capabilities.c:
	ManageSieve: dump_capability: simplified settings acquisition.
	[fbd34455f628]

	* src/managesieve/Makefile.am, src/managesieve/main.c, src/managesieve
	/managesieve-capabilities.c, src/managesieve/managesieve-
	capabilities.h, src/managesieve/managesieve-client.c:
	ManageSieve: implemented user-independent capability dumping
	(untested).
	[0567bd2a6a38]

	* src/managesieve-login/managesieve-login-settings.c:
	ManageSieve: don't use i_fatal() in doveconf plugin.
	[3985bfb06084]

	* src/managesieve-login/managesieve-login-settings.c:
	ManageSieve: fixed segfault bug in doveconf plugin and fixed
	compiler warnings.
	[e7b7dbe3797d]

	* src/managesieve-login/Makefile.am, src/managesieve-login
	/managesieve-login-settings.c, src/managesieve-login/managesieve-
	login-settings.h, src/managesieve/main.c, src/managesieve
	/managesieve-client.c, src/managesieve/managesieve-client.h:
	ManageSieve: implemented dynamic capability determination at login.
	[696c2dd83063]

	* src/managesieve/managesieve-client.c:
	ManageSieve: fixed compile error in previous change.
	[f37d17b61b8d]

	* src/managesieve/managesieve-client.c:
	ManageSieve: forgot to initialize Sieve extensions.
	[6dfabcae83f7]

2010-05-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-test.c, src/sieve-tools/sievec.c, src/sieve-
	tools/sieved.c, src/testsuite/testsuite-common.c, src/testsuite
	/testsuite-common.h, src/testsuite/testsuite.c:
	Made command line tools return proper exit status upon failure.
	[861ffb523cb9]

2010-05-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/main.c, src/managesieve/managesieve-client.c,
	src/managesieve/managesieve-client.h, src/managesieve/managesieve-
	commands.c:
	managesieve: updated to changes in Dovecot (IMAP/POP3).
	[d2abac5a80c0]

	* src/lib-sievestorage/sieve-storage-private.h, src/lib-sievestorage
	/sieve-storage.c:
	sieve-storage: made auto-creation code match implementation of
	maildir storage from Dovecot.
	[baf75b4123fe]

	* src/managesieve/main.c:
	managesieve: changed static IMAP error massage in main.c to
	ManageSieve protocol.
	[bc59d9d71029]

2010-04-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/main.c:
	Compiler warning fix.
	[6dfc81c45f00]

2010-04-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-result.c,
	src/managesieve/Makefile.am, src/sieve-tools/Makefile.am,
	src/testsuite/Makefile.am:
	Changed result execution logging to use a var_expand_table created
	by liblda to avoid code duplication (patch by Timo Sirainen).
	[6885f0782b96]

	* m4/dovecot.m4:
	Updated dovecot.m4.
	[2e3bbb0fc95c]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h:
	Made var_expand_table argument of sieve_varexpand_ehandler_create
	const (patch by Timo Sirainen).
	[2cc9c732c1b8]

	* configure.in:
	Fix CFLAGS and LIBS defines (patch by Timo Sirainen).
	[463a250bcb29]

2010-04-20  Stephan Bosch  <stephan@rename-it.nl>

	* tests/address.svtest, tests/comparators/core.svtest,
	tests/compile/errors/address-part.sieve,
	tests/compile/errors/envelope.sieve, tests/compile/errors/match-
	type.sieve, tests/compile/errors/out-address.sieve,
	tests/compile/errors/unsupported.sieve, tests/compile/recover
	/commands-semicolon.sieve, tests/compile/redirect.sieve,
	tests/compile/warnings/invalid-headers.sieve, tests/control-
	structures.svtest, tests/deprecated/notify/basic.svtest,
	tests/deprecated/notify/denotify.svtest,
	tests/deprecated/notify/errors/options.sieve,
	tests/deprecated/notify/execute/duplicates.sieve,
	tests/deprecated/notify/mailto.svtest, tests/execute/actions.svtest,
	tests/execute/actions/fileinto.sieve,
	tests/execute/actions/redirect.sieve,
	tests/execute/mailstore.svtest, tests/execute/smtp.svtest,
	tests/exists.svtest, tests/extensions/body/basic.svtest,
	tests/extensions/body/match-values.svtest,
	tests/extensions/date/basic.svtest, tests/extensions/date/date-
	parts.svtest, tests/extensions/date/zones.svtest,
	tests/extensions/enotify/basic.svtest,
	tests/extensions/enotify/errors/from-mailto.sieve,
	tests/extensions/enotify/errors/options.sieve,
	tests/extensions/enotify/errors/uri-mailto.sieve,
	tests/extensions/enotify/errors/uri.sieve,
	tests/extensions/enotify/execute/duplicates.sieve,
	tests/extensions/enotify/mailto.svtest,
	tests/extensions/enotify/notify_method_capability.svtest,
	tests/extensions/enotify/valid_notify_method.svtest,
	tests/extensions/envelope.svtest,
	tests/extensions/include/execute.svtest,
	tests/extensions/include/included/rfc-ex1-mailing_lists.sieve,
	tests/extensions/mailbox/execute.svtest,
	tests/extensions/regex/basic.svtest,
	tests/extensions/regex/errors/compile.sieve, tests/extensions/regex
	/match-values.svtest, tests/extensions/reject/execute.svtest,
	tests/extensions/reject/execute/basic.sieve,
	tests/extensions/reject/smtp.svtest,
	tests/extensions/relational/basic.svtest,
	tests/extensions/spamvirustest/spamtest.svtest,
	tests/extensions/spamvirustest/spamtestplus.svtest,
	tests/extensions/spamvirustest/virustest.svtest,
	tests/extensions/subaddress/basic.svtest,
	tests/extensions/subaddress/config.svtest,
	tests/extensions/subaddress/rfc.svtest,
	tests/extensions/vacation/execute/action.sieve,
	tests/extensions/vacation/execute/no-handle.sieve,
	tests/extensions/vacation/message.svtest,
	tests/extensions/vacation/smtp.svtest,
	tests/extensions/vacation/utf-8.svtest,
	tests/extensions/variables/basic.svtest,
	tests/extensions/variables/match.svtest, tests/header.svtest, tests
	/match-types/contains.svtest, tests/match-types/is.svtest, tests
	/match-types/matches.svtest, tests/multiscript/basic.svtest,
	tests/multiscript/conflicts.svtest, tests/multiscript/notify.sieve,
	tests/testsuite.svtest:
	Testsuite: avoid using existing e-mail addresses and domains in
	tests.
	[30ccbe37ad21]

2010-04-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/vacation/cmd-vacation.c,
	tests/extensions/vacation/smtp.svtest:
	Vacation extension: from address of reply is now by default equal to
	whatever known recipient alias matched the headers of the message.
	[cb4c3ce31192]

	* Makefile.am:
	Removed --install flag from ACLOCAL_AMFLAGS; RHEL uses automake 1.9
	and won't compile.
	[d41e45e86988]

2010-04-14  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, configure.in, doc/Makefile.am:
	Added --with-docs configure option.
	[d5eea644235e]

	* .hgignore, Makefile.am, configure.in, m4/dovecot.m4:
	Started using dovecot.m4 for linking against Dovecot (patch by Timo
	Sirainen).
	[6271458836d8]

	* src/lib-sieve-tool/mail-raw.c:
	Switched to cleaner way to create a raw storage.
	[09342ba10357]

	* src/managesieve-login/client.c:
	ManageSieve: adjusted to Dovecot login API change.
	[5da9e48f842b]

	* configure.in:
	Started using tar-ustar for release packaging to prevent crossing
	path length limits.
	[a412d4cfc497]

	* configure.in:
	Assigned temporary version number to avoid confusion with releases
	for Dovecot v1.2.
	[93e36dca0a4c]

	* doc/example-config/conf.d/20-managesieve.conf, doc/example-
	config/conf.d/90-sieve.conf, doc/example-config/conf.d/Makefile.am,
	doc/example-config/conf.d/managesieve.conf, doc/example-
	config/conf.d/sieve.conf:
	Changed config file names to match Dovecot numeric config file
	names.
	[9a486cf905dc]

2010-04-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/mailbox/tst-mailboxexists.c:
	Mailbox extension: fixed memory leak in the mailboxexists test.
	[ece958a18920]

2010-04-01  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/main.c:
	ManageSieve: adjusted to changes in service API; added login failure
	handler.
	[643518d9b274]

2010-03-28  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO list.
	[2cb08c188b6a]

	* doc/Makefile.am:
	Spamtest and virustest: added documentation to the distribution.
	[eeef0ed8bd1f]

	* INSTALL, doc/spamtest-virustest.txt:
	Spamtest and virustest extensions: added documentation.
	[41b62bd2bb41]

2010-03-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c,
	tests/extensions/spamvirustest/spamtest.svtest,
	tests/extensions/spamvirustest/spamtestplus.svtest:
	Spamtest and virustest extensions: changed setting names.
	[9feb6e3b0afa]

	* src/lib-sieve/sieve-extensions.c:
	Spamtest and virustest extensions: now not available by default.
	[450707294d66]

	* Makefile.am, src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-
	common.c, tests/extensions/spamvirustest/errors.svtest,
	tests/extensions/spamvirustest/errors/syntax-errors.sieve,
	tests/extensions/spamvirustest/spamtest.svtest:
	Spamtest and virustest extensions: discarded whitespace at beginning
	of regexp and added syntax testsuite tests.
	[86bc7ff124c0]

2010-03-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve/managesieve-settings.c:
	Changed ManageSieve client limit to match IMAP/POP3.
	[fc7bdc3daa36]

2010-03-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c:
	Fixed memset argument mixup in enotify extension.
	[940554ef4a55]

2010-02-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/client.c:
	Fixed ManageSieve login crash at startup (patch by Timo Sirainen).
	[35a382739679]

2010-02-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/managesieve-login/managesieve-login-settings.c:
	ManageSieve: changed default login user to '' substitution.
	[4830b8741bf0]

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve/plugins/mailbox/tag-
	mailbox-create.c, src/lib-sieve/plugins/mailbox/tst-mailboxexists.c,
	src/lib-sieve/sieve-actions.c, src/sieve-tools/sieve-filter.c,
	src/testsuite/testsuite-mailstore.c:
	Adjusted to changes in Dovecot mailbox API.
	[b655cf914016]

2010-02-10  Stephan Bosch  <stephan@rename-it.nl>

	* configure.in, src/lib-sieve-tool/Makefile.am, src/lib-
	sieve/Makefile.am, src/lib-sieve/plugins/enotify/mailto/Makefile.am,
	src/managesieve-login/Makefile.am, src/managesieve/Makefile.am,
	src/plugins/lda-sieve/Makefile.am, src/sieve-tools/Makefile.am,
	src/testsuite/Makefile.am:
	Adjusted to changes in dovecot-config (patch by Timo Sirainen).
	[790a59e93520]

2010-02-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve/plugins/mailbox/tag-
	mailbox-create.c, src/lib-sieve/plugins/mailbox/tst-mailboxexists.c,
	src/lib-sieve/sieve-actions.c, src/testsuite/testsuite-mailstore.c:
	Adjusted to change in Dovecot Storage API.
	[9a08762faffe]

2010-01-31  Stephan Bosch  <stephan@rename-it.nl>

	* configure.in, src/managesieve-login/Makefile.am,
	src/managesieve/Makefile.am, src/sieve-tools/Makefile.am,
	src/testsuite/Makefile.am:
	Let configure automatically infer path to installed Dovecot and
	don't rely on installed libtool .la files anymore (patch by Timo
	Sirainen).
	[7b3db97399de]

	* src/lib-sieve/plugins/notify/ext-notify-common.c:
	Deprecated notify extension: fixed compiler warning.
	[e6e2fc31b10b]

	* configure.in, src/lib-sieve/plugins/enotify/mailto/Makefile.am, src
	/sieve-tools/Makefile.am, src/testsuite/Makefile.am:
	Simplified package configuration with respect to linking against
	Dovecot (patch by Timo Sirainen).
	[9aaa82581b55]

	* src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-lexer.h, src/lib-
	sieve/sieve-parser.c:
	Restructured and optimized lexical scanner.
	[9cadd8aa01c8]

2010-01-28  Stephan Bosch  <stephan@rename-it.nl>

	* tests/exists.svtest, tests/extensions/body/basic.svtest,
	tests/extensions/environment/rfc.svtest,
	tests/extensions/include/errors/generic.sieve,
	tests/extensions/subaddress/basic.svtest, tests/header.svtest:
	Fixed spelling of 'existent' in various testsuite scripts.
	[a3d39b596c90]

	* src/managesieve-login/managesieve-login-settings.c:
	Fixed copy-paste error in previous change regarding inet_listener.
	[b6e0f39906db]

	* doc/example-config/conf.d/managesieve.conf, src/managesieve-login
	/managesieve-login-settings.c:
	Added default inet_listener for managesieve-login.
	[40d005ce4664]

	* INSTALL, doc/example-config/conf.d/managesieve.conf, src
	/managesieve-login/client.c, src/managesieve-login/managesieve-
	login-settings.c, src/managesieve/main.c, src/managesieve
	/managesieve-settings.c:
	Reverted ManageSieve protocol name back from 'sieve' to
	'managesieve'.
	[24248f4b02d3]

2010-01-27  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, tests/deprecated/imapflags/errors.svtest,
	tests/deprecated/imapflags/errors/imapflags.sieve,
	tests/deprecated/imapflags/execute.svtest,
	tests/deprecated/imapflags/execute/flags.sieve,
	tests/deprecated/imapflags/execute/mark.sieve,
	tests/extensions/imap4flags/errors.svtest,
	tests/extensions/imap4flags/errors/imapflags.sieve,
	tests/extensions/imap4flags/execute/imapflags.sieve:
	Deprecated imapflags extension: added proper tests to the test
	suite.
	[985f5212b6c6]

	* src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c:
	Deprecated imapflags extension: fixed implicit assignment of flags.
	[c4bc236883d2]

2010-01-28  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO list.
	[d37fd9e2563f]

2010-01-25  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.h, src/lib-sieve/plugins/notify/ext-
	notify-common.h:
	Omitted 'extern' in two declarations of global variables in header
	files, causing compile failures on certain systems.
	[67f7f59671e8]

	* Makefile.am, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-sieve/plugins/spamvirustest/ext-
	spamvirustest.c, src/lib-sieve/sieve-extensions.c:
	Added spamtest and virustest extensions to the default build.
	[37eeae199fd7]

	* Makefile.am, src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-
	common.c, src/lib-sieve/plugins/spamvirustest/ext-spamvirustest.c,
	tests/extensions/spamvirustest/spamtest.svtest,
	tests/extensions/spamvirustest/spamtestplus.svtest,
	tests/extensions/spamvirustest/virustest.svtest:
	Spamtest and virustest extensions: finished configuration.
	[460c476a3fa1]

	* src/lib-sieve/plugins/enotify/cmd-notify.c:
	Enotify extension: removed location from action log messages.
	[9fcedf3064d6]

	* src/lib-sieve/sieve-settings.c:
	Fixed newly introduced compiler warning.
	[c220df7fcffb]

2010-01-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-settings.h:
	Added boolean settings parser.
	[06b9f7aa9fc9]

	* tests/extensions/relational/comparators.svtest:
	Testsuite: added a few more tests for the i;ascii-numeric comparator
	(patch by Julian Cowley).
	[315435423dce]

2010-01-23  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/sieve-parser.c,
	tests/compile/recover.svtest, tests/compile/recover/commands-
	endblock.sieve, tests/compile/recover/commands-semicolon.sieve,
	tests/compile/recover/tests-endcomma.sieve:
	Fixed bugs in parser recovery and added corresponding tests in the
	test suite.
	[3da0be0bcb4d]

2010-01-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/cmd-notify.c,
	tests/extensions/enotify/mailto.svtest:
	Enotify extension: set default importance to normal as required.
	[50c429139d63]

2010-01-23  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-filter.1, doc/man/sieve-test.1, doc/man/sievec.1,
	doc/man/sieved.1:
	Fixed '-' in man pages.
	[e7236b82d938]

2010-01-19  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-
	cmp-i-ascii-numeric.c,
	tests/extensions/relational/comparators.svtest:
	Fixed small bug in the i;ascii-numeric comparator and added
	extensive relational tests to the testsuite.
	[fa4c1c24aced]

	* src/lib-sieve/sieve-message.c:
	Fixed spelling mistake in error messages.
	[123d03cd8fe1]

	* src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-address.c,
	tests/extensions/envelope.svtest:
	Envelope paths with only a mailbox part are now allowed.
	[53f32fc7d9d8]

2010-01-18  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Added TODO list item.
	[117ea52ea36f]

	* src/lib-sieve/sieve-plugins.c:
	Fixed small bug in plugin support.
	[9c0d8c182a69]

2010-01-15  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c:
	Slightly improved error messages during binary save.
	[be2e80ce35b8]

	* src/lib-sieve/sieve-error-private.h, src/lib-sieve/sieve-error.c:
	Error handling: now only the topmost parent error handler will copy
	to the master log.
	[175dc1553ced]

	* src/lib-sieve/sieve-error.c:
	Fixed compile problem in previous change.
	[feb84a163026]

	* src/lib-sieve/sieve-error-private.h, src/lib-sieve/sieve-error.c:
	Made child error handlers inherit master_log status from parent.
	[7888438a2fe7]

2010-01-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-result.c:
	Fixed bug in the logging of action results. The new varexpand error
	handler was not properly tested.
	[079c69045afc]

2010-01-13  Stephan Bosch  <stephan@rename-it.nl>

	* .hgignore, AUTHORS, INSTALL, Makefile.am, NEWS, README, TODO,
	configure.in, doc/example-config/conf.d/Makefile.am, doc/example-
	config/conf.d/managesieve.conf, doc/man/sieve-filter.1, doc/man
	/sieve-test.1, doc/man/sievec.1, doc/man/sieved.1, doc/rfc/draft-
	ietf-sieve-managesieve-09.txt, dsieve-config.h.in, pigeonhole-
	config.h.in, src/Makefile.am, src/lib-managesieve/Makefile.am, src
	/lib-managesieve/managesieve-parser.c, src/lib-managesieve
	/managesieve-parser.h, src/lib-managesieve/managesieve-quote.c, src
	/lib-managesieve/managesieve-quote.h, src/lib-sieve-
	tool/Makefile.am, src/lib-sieve/plugins/environment/ext-environment-
	common.c, src/lib-sieve/sieve-config.h, src/lib-sieve/sieve-
	plugins.c, src/lib-sievestorage/Makefile.am, src/lib-sievestorage
	/sieve-storage-error.h, src/lib-sievestorage/sieve-storage-list.c,
	src/lib-sievestorage/sieve-storage-list.h, src/lib-sievestorage
	/sieve-storage-private.h, src/lib-sievestorage/sieve-storage-
	quota.c, src/lib-sievestorage/sieve-storage-quota.h, src/lib-
	sievestorage/sieve-storage-save.c, src/lib-sievestorage/sieve-
	storage-save.h, src/lib-sievestorage/sieve-storage-script.c, src
	/lib-sievestorage/sieve-storage-script.h, src/lib-sievestorage
	/sieve-storage.c, src/lib-sievestorage/sieve-storage.h, src
	/managesieve-login/Makefile.am, src/managesieve-login/client-
	authenticate.c, src/managesieve-login/client-authenticate.h, src
	/managesieve-login/client.c, src/managesieve-login/client.h, src
	/managesieve-login/managesieve-login-settings.c, src/managesieve-
	login/managesieve-login-settings.h, src/managesieve-login
	/managesieve-proxy.c, src/managesieve-login/managesieve-proxy.h,
	src/managesieve/Makefile.am, src/managesieve/cmd-capability.c,
	src/managesieve/cmd-deletescript.c, src/managesieve/cmd-getscript.c,
	src/managesieve/cmd-havespace.c, src/managesieve/cmd-listscripts.c,
	src/managesieve/cmd-logout.c, src/managesieve/cmd-noop.c,
	src/managesieve/cmd-putscript.c, src/managesieve/cmd-renamescript.c,
	src/managesieve/cmd-setactive.c, src/managesieve/main.c,
	src/managesieve/managesieve-client.c, src/managesieve/managesieve-
	client.h, src/managesieve/managesieve-commands.c, src/managesieve
	/managesieve-commands.h, src/managesieve/managesieve-common.h,
	src/managesieve/managesieve-quota.c, src/managesieve/managesieve-
	quota.h, src/managesieve/managesieve-settings.c, src/managesieve
	/managesieve-settings.h, src/sieve-tools/Makefile.am,
	src/testsuite/Makefile.am,
	tests/extensions/environment/basic.svtest:
	Merged Sieve and ManageSieve for Dovecot v2.0 into one Pigeonhole
	package.
	[a80a49e6756e]

	* src/lib-sieve/sieve-extensions.c:
	Fixed off-by-one bug in extension reloading.
	[5c7281bf5556]

	* src/lib-sieve/sieve-extensions.c:
	Improved extension unloading.
	[ffeb38617181]

	* src/lib-sieve/sieve-extensions.c:
	Fixed segfault bug caused by previous change, occuring when a plugin
	is unloaded.
	[9cb00cb9fbfb]

	* src/lib-sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, src/lib-sieve/sieve-extensions.c, src/lib-
	sieve/sieve-extensions.h, src/lib-sieve/sieve-plugins.c, src/lib-
	sieve/sieve.c:
	Improved various aspects of the plugin-related extension API.
	[a1ebe12c6986]

2010-01-12  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am:
	Forgot to add dsieve-config.h to installed headers.
	[f5509b2c9ca6]

	* src/lib-sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-common.c, src/lib-sieve/plugins/variables/ext-variables-
	limits.h, src/lib-sieve/plugins/variables/ext-variables-name.c, src
	/lib-sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Variables extension: removed public dependency on ext-variables-
	limits.h.
	[04df84baf174]

2010-01-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/sieve-
	result.c:
	Fixed a few memleaks caused by previous changes in error handling.
	[e584c69c99a6]

2010-01-10  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/mailto/uri-mailto.c:
	Enotify extension: mailto method: fixed small uri validation glitch.
	[445d46c7aa8c]

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/mailto/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h:
	Enotify extension: cleaned up notify method API (part is in previous
	change).
	[4f2cb8c56d10]

2010-01-12  Stephan Bosch  <stephan@rename-it.nl>

	* configure.in, src/lib-sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/plugins/enotify
	/ext-enotify-common.c, src/lib-sieve/plugins/enotify/ext-enotify-
	common.h, src/lib-sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/enotify/mailto/Makefile.am, src/lib-
	sieve/plugins/enotify/mailto/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/mailto/uri-mailto.c, src/lib-
	sieve/plugins/enotify/mailto/uri-mailto.h, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-error-private.h, src/lib-sieve/sieve-
	error.c, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-result.c,
	src/lib-sieve/sieve-result.h:
	Reworked error handler implementation and cleaned up enotify
	extension implementation.
	[72bf8c987ded]

2010-01-08  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/plugins/vacation/cmd-vacation.c,
	tests/extensions/vacation/utf-8.svtest:
	Vacation extension: subject is now only MIME-encoded when it
	contains 8bit characters.
	[aef14980b503]

	* configure.in:
	Fixed compile problems on systems with older autotools installed.
	[a3eb0b0b2ddf]

2010-01-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-filter.c, src/sieve-tools/sieve-test.c:
	Sieve-filter: made tool compile with Dovecot v2.0 (not working).
	[475cbc92aacd]

	* configure.in, src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool
	/sieve-tool.h, src/plugins/lda-sieve/Makefile.am, src/sieve-tools
	/sieve-filter.c, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/sieve-tools/sieved.c, src/testsuite/testsuite.c:
	Plugin support: added -P parameter to all sieve tools and enabled
	dict support.
	[e3d3d82febe3]

	* src/lib-sieve/sieve.c:
	Plugin support: fixed unloading problem.
	[7138e5d66a42]

	* src/lib-sieve/plugins/variables/ext-variables-namespaces.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Variables extension: finished namespaces support.
	[3cd717577603]

2010-01-03  Stephan Bosch  <stephan@rename-it.nl>

	* tests/extensions/spamvirustest/spamtest.svtest:
	Spamtest extension: added yesno-type header matching tests to the
	testsuite.
	[81389f35d988]

	* src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c:
	Spamtest extension: fixed small bug in yesno-type spam header
	matching.
	[cfe04d40b164]

	* src/testsuite/testsuite-settings.c:
	Testsuite: fixed panic occuring when unsetting an unknown
	configuration setting.
	[8384098c7b51]

	* tests/extensions/spamvirustest/spamtest.svtest:
	Spamtest extension: added tests for strlen values to the testsuite.
	[04194b5a68b7]

	* src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c:
	Spamtest extension: fixed bugs in extension unloading and in strlen
	value extraction.
	[d53b935ef35f]

	* src/testsuite/cmd-test-config.c, src/testsuite/ext-testsuite.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite-
	settings.c, src/testsuite/testsuite-settings.h:
	Testsuite: added support for removed settings.
	[596dc3b8be61]

	* tests/extensions/spamvirustest/spamtest.svtest:
	Spamtest extension: added various value tests to the testsuite.
	[f8ed8afd025d]

	* src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-common.c:
	Spamtest extension: fixed result when over the maximum score.
	[a6bd9a3fd5dc]

	* Makefile.am, src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-
	common.c, src/lib-sieve/plugins/spamvirustest/ext-spamvirustest-
	common.h, tests/extensions/spamvirustest/spamtest.svtest:
	Spamtest extension: further developed configuration loading and
	testing.
	[dac6ab7cd623]

	* src/testsuite/testsuite-log.c:
	Testsuite: enabled warnings in testsuite error handler.
	[a26d168e6c9d]

2010-01-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-log.c, src/testsuite/testsuite-log.h,
	src/testsuite/testsuite.c:
	Testsuite: added command line parameter for copying errors to
	stderr.
	[c3fff8c8250d]

2010-01-03  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-extensions.h,
	src/testsuite/Makefile.am, src/testsuite/cmd-test-config.c,
	src/testsuite/ext-testsuite.c, src/testsuite/testsuite-common.h,
	tests/extensions/subaddress/config.svtest:
	Testsuite: added support for changing and testing an extension's
	configuration.
	[6d81b4ee9e0e]

2010-01-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/date
	/tst-date.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/vacation/cmd-vacation.c, src
	/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h,
	src/testsuite/cmd-test-message.c, src/testsuite/tst-test-error.c,
	src/testsuite/tst-test-result.c:
	Adjusted tag parameter validation API.
	[07e60dfc49e4]

	* configure.in, src/lib-sieve-tool/Makefile.am, src/lib-
	sieve/Makefile.am, src/lib-sieve/plugins/body/Makefile.am, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/Makefile.am, src/lib-
	sieve/plugins/copy/Makefile.am, src/lib-
	sieve/plugins/date/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/environment/Makefile.am, src/lib-
	sieve/plugins/imap4flags/Makefile.am, src/lib-
	sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/mailbox/Makefile.am, src/lib-
	sieve/plugins/notify/Makefile.am, src/lib-
	sieve/plugins/regex/Makefile.am, src/lib-
	sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/spamvirustest/Makefile.am, src/lib-
	sieve/plugins/subaddress/Makefile.am, src/lib-
	sieve/plugins/vacation/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am, src/plugins/lda-
	sieve/Makefile.am, src/sieve-tools/Makefile.am, src/sieve-
	tools/debug/Makefile.am, src/testsuite/Makefile.am:
	Restructured handling of Dovecot includes in makefiles.
	[968a695f1a6a]

	* src/lib-sieve/plugins/imap4flags/Makefile.am, src/sieve-
	tools/debug/Makefile.am:
	Forgot to update two makefiles.
	[bae6e37d4164]

	* configure.in:
	Set default dovecot directory to ../dovecot-2.0
	[c99995d62181]

	* Makefile.am, configure.in, src/Makefile.am, src/lib-sieve-
	tool/Makefile.am, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/body/Makefile.am, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/Makefile.am, src/lib-sieve/plugins/copy/Makefile.am,
	src/lib-sieve/plugins/date/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/environment/Makefile.am, src/lib-
	sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/mailbox/Makefile.am, src/lib-
	sieve/plugins/notify/Makefile.am, src/lib-
	sieve/plugins/regex/Makefile.am, src/lib-
	sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/spamvirustest/Makefile.am, src/lib-
	sieve/plugins/subaddress/Makefile.am, src/lib-
	sieve/plugins/vacation/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am, src/plugins/lda-
	sieve/Makefile.am, src/sieve-tools/Makefile.am,
	src/testsuite/Makefile.am:
	Added support for fully compiling against installed Dovecot
	libraries.
	[97df72aa1ed6]

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve-tool/mail-raw.h, src
	/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h, src
	/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-
	keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-require.c,
	src/lib-sieve/cmd-stop.c, src/lib-sieve/cmp-i-ascii-casemap.c, src
	/lib-sieve/cmp-i-octet.c, src/lib-sieve/ext-encoded-character.c, src
	/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/mcht-contains.c, src/lib-sieve
	/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-sieve/plugins/body
	/ext-body-common.c, src/lib-sieve/plugins/body/ext-body-common.h,
	src/lib-sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/body
	/tst-body.c, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-
	cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy/ext-copy.c, src
	/lib-sieve/plugins/date/ext-date-common.c, src/lib-
	sieve/plugins/date/ext-date-common.h, src/lib-sieve/plugins/date
	/ext-date.c, src/lib-sieve/plugins/date/tst-date.c, src/lib-
	sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/plugins/enotify
	/ext-enotify-common.c, src/lib-sieve/plugins/enotify/ext-enotify-
	common.h, src/lib-sieve/plugins/enotify/ext-enotify-limits.h, src
	/lib-sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, src/lib-sieve/plugins/enotify/tst-notify-
	method-capability.c, src/lib-sieve/plugins/enotify/tst-valid-notify-
	method.c, src/lib-sieve/plugins/enotify/vmodf-encodeurl.c, src/lib-
	sieve/plugins/environment/ext-environment-common.c, src/lib-
	sieve/plugins/environment/ext-environment-common.h, src/lib-
	sieve/plugins/environment/ext-environment.c, src/lib-
	sieve/plugins/environment/sieve-ext-environment.h, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/include/cmd-global.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-limits.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/mailbox
	/ext-mailbox-common.h, src/lib-sieve/plugins/mailbox/ext-mailbox.c,
	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/notify/ext-notify-common.c, src
	/lib-sieve/plugins/notify/ext-notify-common.h, src/lib-
	sieve/plugins/notify/ext-notify-limits.h, src/lib-
	sieve/plugins/notify/ext-notify.c, src/lib-sieve/plugins/regex/ext-
	regex-common.c, src/lib-sieve/plugins/regex/ext-regex-common.h, src
	/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/ext-relational-
	common.c, src/lib-sieve/plugins/relational/ext-relational-common.h,
	src/lib-sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.h, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest.c, src/lib-
	sieve/plugins/spamvirustest/tst-spamvirustest.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-arguments.h, src/lib-sieve/plugins/variables/ext-
	variables-common.c, src/lib-sieve/plugins/variables/ext-variables-
	common.h, src/lib-sieve/plugins/variables/ext-variables-dump.c, src
	/lib-sieve/plugins/variables/ext-variables-dump.h, src/lib-
	sieve/plugins/variables/ext-variables-limits.h, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.c, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/rfc2822.c, src
	/lib-sieve/rfc2822.h, src/lib-sieve/sieve-actions.c, src/lib-sieve
	/sieve-actions.h, src/lib-sieve/sieve-address-parts.c, src/lib-sieve
	/sieve-address-parts.h, src/lib-sieve/sieve-address.c, src/lib-sieve
	/sieve-address.h, src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-
	ast.h, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve/sieve-
	binary-dumper.h, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	binary.h, src/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-
	code-dumper.h, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-
	code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-config.h, src/lib-sieve/sieve-dump.h, src/lib-sieve/sieve-
	error-private.h, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-
	error.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-
	extensions.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	lexer.h, src/lib-sieve/sieve-limits.h, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve-
	match.c, src/lib-sieve/sieve-match.h, src/lib-sieve/sieve-message.c,
	src/lib-sieve/sieve-message.h, src/lib-sieve/sieve-objects.c, src
	/lib-sieve/sieve-objects.h, src/lib-sieve/sieve-parser.c, src/lib-
	sieve/sieve-parser.h, src/lib-sieve/sieve-plugins.c, src/lib-sieve
	/sieve-plugins.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h, src/lib-sieve/sieve-script-private.h, src/lib-sieve/sieve-
	script.c, src/lib-sieve/sieve-script.h, src/lib-sieve/sieve-
	settings.c, src/lib-sieve/sieve-settings.h, src/lib-sieve/sieve-
	smtp.c, src/lib-sieve/sieve-smtp.h, src/lib-sieve/sieve-types.h, src
	/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h, src
	/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-allof.c, src/lib-sieve/tst-anyof.c, src
	/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src/lib-sieve
	/tst-not.c, src/lib-sieve/tst-size.c, src/lib-sieve/tst-truefalse.c,
	src/plugins/lda-sieve/lda-sieve-log.c, src/plugins/lda-sieve/lda-
	sieve-log.h, src/plugins/lda-sieve/lda-sieve-plugin.c, src/plugins
	/lda-sieve/lda-sieve-plugin.h, src/sieve-tools/debug/cmd-debug-
	print.c, src/sieve-tools/debug/ext-debug-common.h, src/sieve-
	tools/debug/ext-debug.c, src/sieve-tools/debug/sieve-ext-debug.h,
	src/sieve-tools/sieve-filter.c, src/sieve-tools/sieve-test.c, src
	/sieve-tools/sievec.c, src/sieve-tools/sieved.c, src/testsuite/cmd-
	test-binary.c, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-
	test-mailbox.c, src/testsuite/cmd-test-message.c, src/testsuite/cmd-
	test-result-print.c, src/testsuite/cmd-test-result-reset.c,
	src/testsuite/cmd-test-set.c, src/testsuite/cmd-test.c,
	src/testsuite/ext-testsuite.c, src/testsuite/testsuite-arguments.c,
	src/testsuite/testsuite-arguments.h, src/testsuite/testsuite-
	binary.c, src/testsuite/testsuite-binary.h, src/testsuite/testsuite-
	common.c, src/testsuite/testsuite-common.h, src/testsuite/testsuite-
	log.c, src/testsuite/testsuite-log.h, src/testsuite/testsuite-
	mailstore.c, src/testsuite/testsuite-mailstore.h, src/testsuite
	/testsuite-message.c, src/testsuite/testsuite-message.h,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-
	objects.h, src/testsuite/testsuite-result.c, src/testsuite
	/testsuite-result.h, src/testsuite/testsuite-script.c, src/testsuite
	/testsuite-script.h, src/testsuite/testsuite-settings.c,
	src/testsuite/testsuite-settings.h, src/testsuite/testsuite-smtp.c,
	src/testsuite/testsuite-smtp.h, src/testsuite/testsuite-
	substitutions.c, src/testsuite/testsuite-substitutions.h,
	src/testsuite/testsuite.c, src/testsuite/tst-test-error.c,
	src/testsuite/tst-test-multiscript.c, src/testsuite/tst-test-result-
	execute.c, src/testsuite/tst-test-result.c, src/testsuite/tst-test-
	script-compile.c, src/testsuite/tst-test-script-run.c:
	Updated all copyright messages to the new year.
	[bd745cd4761b]

2010-01-01  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-plugins.c:
	Plugin support: removed ability to have duplicate plugins in
	different directories.
	[3fb7c386f01c]

2009-12-31  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Fixed yet another small textual error in the README file.
	[8af2f734b1df]

	* README:
	Fixed small textual error in the README file.
	[8711d4c7f77e]

	* src/lib-sieve/sieve-plugins.c:
	Further developed support for Sieve engine plugins.
	[6225e0693c48]

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-common.h, src/lib-
	sieve/sieve-plugins.c, src/lib-sieve/sieve-plugins.h, src/lib-
	sieve/sieve.c:
	Further developed support for Sieve engine plugins.
	[a55b319681bc]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-sieve/sieve.c:
	dded preliminary support for plugins.
	[6e82259d40e5]

	* src/lib-sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h:
	Enotify extension: adjusted notify method registration API.
	[49de5457474d]

2009-12-30  Stephan Bosch  <stephan@rename-it.nl>

	* tests/extensions/imap4flags/basic.svtest:
	Imap4flags extension: added tests to verify removeflag behavior.
	[b63b2efa57f8]

	* src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c:
	Imap4flags extension: fixed bug in removeflag: removing a single
	flag failed due to off-by-one error.
	[1ab0dc9e154d]

	* Makefile.am, tests/extensions/imap4flags/flagstring.svtest:
	Imap4flags extension: added tests for flag string management.
	[607d8fa023a6]

2009-12-31  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated README file.
	[cc65fb068714]

2009-12-30  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, configure.in, doc/rfc/spamvirustest.rfc5235.txt, src/lib-
	sieve/Makefile.am, src/lib-sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/spamvirustest/Makefile.am, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.c, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest-common.h, src/lib-
	sieve/plugins/spamvirustest/ext-spamvirustest.c, src/lib-
	sieve/plugins/spamvirustest/tst-spamvirustest.c, src/lib-sieve
	/sieve-extensions.c, src/lib-sieve/sieve-extensions.h:
	Built basic implementation of the spamtest, spamtestplus and
	virustest extensions (unfinished).
	[afdd60d29da1]

2009-12-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-script.c, src/lib-sieve/sieve.c, src/plugins
	/lda-sieve/lda-sieve-plugin.c:
	Improved EACCES error messages for stat() and lstat() syscalls.
	[3dda16391ef9]

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h,
	src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-
	settings.h, src/lib-sieve/sieve-types.h, src/lib-sieve/sieve.c, src
	/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-sieve-plugin.c,
	src/testsuite/testsuite.c:
	Renamed sieve_callbacks to sieve_environment and restructured
	settings API.
	[482a1ca1cdbe]

	* Makefile.am, src/lib-sieve/plugins/notify/cmd-denotify.c, src/lib-
	sieve/plugins/notify/ext-notify-common.h, src/lib-
	sieve/plugins/notify/ext-notify.c, src/lib-sieve/sieve-actions.h,
	src/lib-sieve/sieve-comparators.h, src/lib-sieve/sieve-result.c, src
	/lib-sieve/sieve-result.h, tests/deprecated/notify/denotify.svtest:
	Deprecated notify extension: implemented denotify command.
	[1f83ea718499]

2009-12-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-script.c, src/lib-
	sieve/sieve-script.h:
	Moved size limit enforcement to script compilation (lexer) in stead
	of during opening the stream.
	[b75c48ea35ca]

2009-12-25  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: log messages now include the lda session ID;
	forgot to set master error handler.
	[4772ac2cece0]

	* src/plugins/lda-sieve/Makefile.am, src/plugins/lda-sieve/lda-sieve-
	log.c:
	Previous commit was broken.
	[3310ecdadfb0]

	* src/plugins/lda-sieve/lda-sieve-log.c, src/plugins/lda-sieve/lda-
	sieve-log.h, src/plugins/lda-sieve/lda-sieve-plugin.c:
	Added LDA session ID to log messages produced by the Sieve plugin.
	[73299be49eb6]

	* src/lib-sieve/sieve-script.c:
	Fixed compiler warning.
	[40998e3c35b0]

2009-12-23  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/include/cmd-global.c, src/lib-
	sieve/plugins/include/ext-include-variables.c,
	tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/variables.sieve,
	tests/extensions/include/variables.svtest:
	Include extension: global command may now appear anywhere in a
	script.
	[0a8e99bf2961]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation extension: fixed typo in runtime log message (patch by
	Julian Cowley).
	[2f10293da220]

	* tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/global-namespace.sieve,
	tests/extensions/include/errors/scriptname.sieve,
	tests/extensions/include/included/variables-included1.sieve,
	tests/extensions/include/included/variables-included2.sieve:
	Testsuite: added tests for new features of the include extension.
	[3a440ffb8d4f]

	* doc/rfc/draft-ietf-sieve-include-01.txt, doc/rfc/draft-ietf-sieve-
	include-03.txt:
	Updated specification of include extension to latest version.
	[7a250e81774a]

	* TODO, src/lib-sieve/plugins/include/cmd-global.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c:
	Include extension: implemented global variables namespace.
	[f1940bd63811]

	* TODO, src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.c, src/lib-
	sieve/plugins/variables/ext-variables-namespaces.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Variables extension: added basic namespace support.
	[5f9172865864]

2009-12-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h:
	Variables extension: improved source code comment.
	[886d009af9cd]

2009-12-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-limits.h, src/lib-
	sieve/sieve-script.c, src/lib-sieve/sieve-settings.c, src/lib-sieve
	/sieve-settings.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h:
	Added configurable script size limit.
	[b852a43abfb2]

2009-12-20  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/include/cmd-include.c, src/lib-sieve
	/sieve-script.c, src/lib-sieve/sieve-script.h:
	Implemented script name checking using the requirements specified in
	the ManageSieve draft.
	[fd91529796a4]

2009-12-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve/plugins/mailbox/tag-
	mailbox-create.c, src/lib-sieve/sieve-actions.c, src/sieve-tools
	/sieve-filter.c, src/testsuite/testsuite-mailstore.c:
	Another Dovecot lib-storage API change (patch by Timo Sirainen).
	[a10ee4e66274]

2009-12-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c:
	Adjusted to changes in Dovecot buffer API (patch by Pascal Volk).
	[b92e0d85deaa]

2009-11-19  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-
	tool.h, src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/sieve-settings.h, src/lib-sieve/sieve-types.h, src/plugins
	/lda-sieve/lda-sieve-plugin.c, src/testsuite/testsuite.c:
	Made homedir aquisition a callback.
	[6f385f0d6741]

	* src/lib-sieve/sieve-settings.c:
	A warning is now produced when parsing invalid integer settings.
	[fd9079d8ded6]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-limits.c, src/lib-sieve/sieve-
	limits.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	settings.c, src/lib-sieve/sieve-settings.h, src/lib-sieve/sieve.c:
	Made limits on the number of redirects and the number of actions in
	general configurable.
	[a33fae9ac8a3]

2009-11-18  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Fixed homedir expansion bug in the include extension.
	[11b358b6507e]

2009-11-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-sieve
	/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-
	script.c, src/lib-sieve/sieve-script.h:
	Made sure that scripts are only recompiled when the script file - or
	the symlink pointing to it - is strictly newer.
	[2018024b6639]

2009-11-16  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/date/tst-date.c:
	Fixed comment errors in date extension.
	[72a03c9a557f]

2009-11-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA Sieve plugin: small cosmetic changes in the sources.
	[d96f51e39780]

	* src/lib-sieve/plugins/subaddress/ext-subaddress.c:
	Subaddress extension: now uses Dovecot's recipient_delimiter setting
	in stead of its own sieve_subaddress_sep setting.
	[309421701bd1]

2009-11-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	(Hopefully) fixed home expansion in LDA Sieve plugin.
	[1f96b33485f3]

	* configure.in:
	Fixed dovecot doc dir.
	[d4c9bd34cf21]

	* src/lib-sieve/sieve-error.c:
	Forgot to add sieve_debug after porting logging change from v1.2.
	[ba1485e94bd4]

	* configure.in, doc/example-config/conf.d/Makefile.am:
	Fixed install location of example config.
	[0569cfca9e6f]

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h,
	src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-
	sieve/sieve-types.h, src/plugins/lda-sieve/lda-sieve-plugin.c:
	Made LDA Sieve plugin recognize the deliver_log_format setting.
	[9e74d01b9e56]

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-error-private.h, src
	/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h, src/plugins
	/lda-sieve/lda-sieve-plugin.c:
	Added i_debug support.
	[a65b50f4ef24]

	* configure.in:
	Fixed a bug in configure.in.
	[c75a0752c205]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/environment/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am, src/sieve-tools/Makefile.am:
	Corrected install directories for headers and libraries.
	[cbbd5008ecc1]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/environment/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am, src/plugins/lda-
	sieve/Makefile.am, src/sieve-tools/Makefile.am,
	src/testsuite/Makefile.am:
	Made Sieve library a shared library.
	[8e2debe5185e]

2009-10-31  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-result.c:
	Fixed bug in result printing (untroduced in large rework).
	[28433866434a]

	* src/lib-sieve/sieve-extensions.c:
	Fixed bug in the extensions configuration (untroduced in large
	rework).
	[8b0232e6404d]

2009-11-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-fileinto.c, src/lib-sieve/sieve-actions.c, src
	/lib-sieve/sieve-actions.h:
	Fixed logging of mailbox names. It logged the converted mUTF7
	version in stead of the original UTF8.
	[e5f017becc6b]

2009-10-31  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve.c:
	Fixed minor memory leak in the multiscript support.
	[8f5103580198]

2009-11-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-types.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-tools/sieve-
	test.c:
	Adjusted to changes in Dovecot v2.0's LDA duplicate checking API.
	[a84e0ae3cca8]

	* src/lib-sieve/plugins/include/ext-include-common.c,
	src/testsuite/Makefile.am, src/testsuite/testsuite-script.c,
	src/testsuite/testsuite-settings.c, src/testsuite/testsuite-
	settings.h, src/testsuite/testsuite.c:
	Fixed v2.0-specific settings-related bugs remaining in the port from
	v1.2.
	[41ddd95c849d]

	* src/lib-sieve-tool/mail-raw.c, src/sieve-tools/sieve-test.c,
	src/testsuite/testsuite-mailstore.c:
	Adjusted to API changes in Dovecot v2.0.
	[8ac91764377e]

	* src/sieve-tools/sieve-test.c, src/testsuite/testsuite.c:
	Merged concurrent changes.
	[dbad040eed12]

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h,
	src/lib-sieve/Makefile.am, src/lib-sieve/plugins/include/cmd-
	include.c, src/lib-sieve/plugins/include/ext-include-binary.c, src
	/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-
	settings.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-tools/sievec.c,
	src/testsuite/Makefile.am, src/testsuite/testsuite.c:
	Properly implemented settings retrieval API.
	[a25366824f5e]

	* src/lib-sieve/plugins/imap4flags/tag-flags.c:
	Fixed compiler warning in imap4flags extension.
	[124778545f5b]

2009-11-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h,
	src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve
	/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-
	require.c, src/lib-sieve/cmd-stop.c, src/lib-sieve/cmp-i-ascii-
	casemap.c, src/lib-sieve/cmp-i-octet.c, src/lib-sieve/ext-encoded-
	character.c, src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-
	fileinto.c, src/lib-sieve/ext-reject.c, src/lib-sieve/mcht-
	contains.c, src/lib-sieve/mcht-is.c, src/lib-sieve/mcht-matches.c,
	src/lib-sieve/plugins/Makefile.am, src/lib-sieve/plugins/body/ext-
	body-common.c, src/lib-sieve/plugins/body/ext-body-common.h, src
	/lib-sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/body/tst-
	body.c, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i
	-ascii-numeric.c, src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/date/ext-date-common.c, src/lib-sieve/plugins/date
	/ext-date-common.h, src/lib-sieve/plugins/date/ext-date.c, src/lib-
	sieve/plugins/date/tst-date.c, src/lib-sieve/plugins/enotify/cmd-
	notify.c, src/lib-sieve/plugins/enotify/ext-enotify-common.c, src
	/lib-sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, src/lib-sieve/plugins/enotify/tst-notify-
	method-capability.c, src/lib-sieve/plugins/enotify/tst-valid-notify-
	method.c, src/lib-sieve/plugins/enotify/vmodf-encodeurl.c, src/lib-
	sieve/plugins/environment/ext-environment-common.c, src/lib-
	sieve/plugins/environment/ext-environment-common.h, src/lib-
	sieve/plugins/environment/ext-environment.c, src/lib-
	sieve/plugins/environment/sieve-ext-environment.h, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/include/cmd-global.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/mailbox
	/ext-mailbox-common.h, src/lib-sieve/plugins/mailbox/ext-mailbox.c,
	src/lib-sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/notify/ext-notify-common.c, src
	/lib-sieve/plugins/notify/ext-notify-common.h, src/lib-
	sieve/plugins/notify/ext-notify.c, src/lib-sieve/plugins/regex/ext-
	regex-common.c, src/lib-sieve/plugins/regex/ext-regex-common.h, src
	/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/ext-relational-
	common.c, src/lib-sieve/plugins/relational/ext-relational-common.h,
	src/lib-sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-arguments.h, src/lib-sieve/plugins/variables/ext-
	variables-common.c, src/lib-sieve/plugins/variables/ext-variables-
	common.h, src/lib-sieve/plugins/variables/ext-variables-dump.c, src
	/lib-sieve/plugins/variables/ext-variables-dump.h, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-actions.c,
	src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-address-parts.c,
	src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-ast.c, src
	/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-binary-dumper.c, src
	/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-code-dumper.c, src/lib-sieve/sieve-code-dumper.h, src
	/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve
	/sieve-commands.c, src/lib-sieve/sieve-commands.h, src/lib-sieve
	/sieve-common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/lib-sieve/sieve-dump.h, src/lib-sieve
	/sieve-extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve
	/sieve-generator.c, src/lib-sieve/sieve-generator.h, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-
	sieve/sieve-match-types.c, src/lib-sieve/sieve-match-types.h, src
	/lib-sieve/sieve-match.c, src/lib-sieve/sieve-match.h, src/lib-sieve
	/sieve-message.c, src/lib-sieve/sieve-message.h, src/lib-sieve
	/sieve-objects.c, src/lib-sieve/sieve-objects.h, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-sieve/sieve-
	script-private.h, src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-
	script.h, src/lib-sieve/sieve-types.h, src/lib-sieve/sieve-
	validator.c, src/lib-sieve/sieve-validator.h, src/lib-sieve/sieve.c,
	src/lib-sieve/sieve.h, src/lib-sieve/tst-address.c, src/lib-sieve
	/tst-allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c,
	src/lib-sieve/tst-header.c, src/lib-sieve/tst-not.c, src/lib-sieve
	/tst-size.c, src/lib-sieve/tst-truefalse.c, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/sieve-tools/debug/cmd-debug-print.c, src
	/sieve-tools/debug/ext-debug-common.h, src/sieve-tools/debug/ext-
	debug.c, src/sieve-tools/debug/sieve-ext-debug.h, src/sieve-tools
	/sieve-filter.c, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/sieve-tools/sieved.c, src/testsuite/cmd-test-
	binary.c, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-test-
	mailbox.c, src/testsuite/cmd-test-message.c, src/testsuite/cmd-test-
	result-print.c, src/testsuite/cmd-test-result-reset.c, src/testsuite
	/cmd-test-set.c, src/testsuite/cmd-test.c, src/testsuite/ext-
	testsuite.c, src/testsuite/testsuite-arguments.c, src/testsuite
	/testsuite-arguments.h, src/testsuite/testsuite-binary.c,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-
	objects.h, src/testsuite/testsuite-result.c, src/testsuite
	/testsuite-script.c, src/testsuite/testsuite-substitutions.c,
	src/testsuite/testsuite-substitutions.h, src/testsuite/testsuite.c,
	src/testsuite/tst-test-error.c, src/testsuite/tst-test-
	multiscript.c, src/testsuite/tst-test-result-execute.c,
	src/testsuite/tst-test-result.c, src/testsuite/tst-test-script-
	compile.c, src/testsuite/tst-test-script-run.c,
	tests/compile/errors/typos.sieve,
	tests/extensions/environment/basic.svtest,
	tests/extensions/imap4flags/multiscript.svtest:
	Major rework of extension handling, making sure that no global state
	is maintained.
	[8e40158c1d31]

2009-10-28  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/rfc2822.c, src
	/lib-sieve/rfc2822.h, tests/extensions/vacation/utf-8.svtest:
	Message headers produced from user-supplied data are now
	RFC2047-encoded if necessary for outgoing messages.
	[58496c0bc632]

2009-10-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-test.c, src/testsuite/testsuite.c:
	Adjusted to changes in the Dovecot service API.
	[5a90dd015649]

2009-10-22  Stephan Bosch  <stephan@rename-it.nl>

	* configure.in:
	Set Dovecot version to v2.0 in configure.in.
	[0336d46d099b]

	* Makefile.am, configure.in, doc/Makefile.am, doc/example-
	config/Makefile.am, doc/example-config/conf.d/Makefile.am, doc
	/example-config/conf.d/sieve.conf, doc/man/Makefile.am:
	Added example configuration.
	[5cd305cc30aa]

2009-10-21  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/Makefile.am:
	Moved Sieve plugin installation from modules/lda to modules.
	[f3f739dc4a2c]

2009-10-20  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/notify/cmd-notify.c, src/lib-
	sieve/plugins/notify/ext-notify-common.c, src/lib-
	sieve/plugins/notify/ext-notify-common.h,
	tests/deprecated/notify/mailto.svtest:
	Notify (deprecated): added support for the $text$ substitution.
	[3996cc9c30c3]

	* src/lib-sieve/plugins/notify/cmd-notify.c:
	Fixed indentation problems in obsolete notify extension.
	[bb15333912d3]

2009-10-21  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-test.c, src/testsuite/testsuite.c:
	Adjusted to master service changes in the Dovecot API.
	[ddee62bdfb20]

	* src/sieve-tools/sieve-test.c, src/testsuite/testsuite.c:
	Adjusted to changes in Dovecot Master Service API.
	[9cf994bf54e9]

2009-10-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h,
	src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-settings.h, src
	/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/sieve-tools/sieve-filter.c, src/sieve-tools
	/sieve-test.c, src/sieve-tools/sievec.c, src/sieve-tools/sieved.c,
	src/testsuite/Makefile.am, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-script.c, src/testsuite/testsuite-
	settings.c, src/testsuite/testsuite-settings.h,
	src/testsuite/testsuite.c:
	Finished new settings handling, including debugging support.
	[f534f336e049]

2009-10-18  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/Makefile.am, src/lib-sieve/plugins/include/ext-
	include-common.c, src/lib-sieve/plugins/subaddress/ext-subaddress.c,
	src/lib-sieve/sieve-settings.c, src/lib-sieve/sieve-settings.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/testsuite/testsuite-
	script.c, src/testsuite/testsuite.c:
	Implemented Sieve settings handling (debug not working yet).
	[561cb8e1ca43]

	* TODO:
	Cleaned up TODO file.
	[3e34914de1f5]

	* src/testsuite/cmd-test-message.c, src/testsuite/testsuite-script.c,
	tests/extensions/imap4flags/multiscript.svtest,
	tests/extensions/imap4flags/multiscript/fileinto.sieve,
	tests/extensions/imap4flags/multiscript/setflag.sieve:
	Testsuite: added multiscript flag tests for the imap4flags
	extension.
	[66f8222dfd5a]

2009-10-17  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, TODO, src/testsuite/Makefile.am, src/testsuite/ext-
	testsuite.c, src/testsuite/testsuite-common.h, src/testsuite
	/testsuite-script.c, src/testsuite/testsuite-script.h, src/testsuite
	/tst-test-multiscript.c,
	tests/extensions/imap4flags/multiscript.svtest,
	tests/extensions/imap4flags/multiscript/group-spam.sieve,
	tests/extensions/imap4flags/multiscript/sent-store.sieve,
	tests/extensions/imap4flags/multiscript/spam.sieve:
	Test suite: added multiscript support and added some new tests with
	the new feature.
	[7b3d4754abcc]

	* TODO:
	Updated TODO.
	[a7e01c7445c9]

	* TODO:
	Updated TODO.
	[0b56ee19acb1]

	* src/lib-sieve/sieve-binary.c:
	Fixed race condition occuring when multiple instances are saving the
	same binary (patch by Timo Sirainen).
	[dfe314732ead]

2009-10-11  Stephan Bosch  <stephan@rename-it.nl>

	* tests/extensions/body/content.svtest:
	Test suite: added tests for not yet working body extension features.
	[d7aabdc28751]

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Body extension: minor code cleanups.
	[3d6167a7d84c]

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Body extension: fixed minor comment error.
	[e27d70b255c0]

	* tests/extensions/body/basic.svtest,
	tests/extensions/body/content.svtest:
	Test suite: restructured tests for body extension.
	[e81ffa9264da]

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Body extension: made parsing of content-type header more robust.
	[9138267066df]

	* Makefile.am, tests/extensions/body/content.svtest:
	Test suite: added tests for basic use of :content with body test.
	[bb8baa28bb6f]

2009-10-10  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Added TODO item.
	[bf567b45f67a]

	* Makefile.am, src/lib-sieve/plugins/body/ext-body-common.c, src/lib-
	sieve/plugins/body/ext-body-common.h, src/lib-sieve/plugins/body
	/tst-body.c, tests/extensions/body/basic.svtest,
	tests/extensions/body/raw.svtest:
	Body extension: implemented proper handling of the :raw transform.
	[01da6cfd93b1]

2009-10-04  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/sieve-lexer.c,
	tests/compile/warnings.svtest, tests/compile/warnings/eof.sieve:
	Made compiler more lenient towars missing CRLF at the end of the
	script in a hash comment.
	[9329af8dad5c]

2009-09-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Body extension: don't give SKIP_BODY_BLOCK flag to message parser,
	we want the body! (patch by Timo Sirainen).
	[95124cb59789]

	* TODO:
	Added TODO item.
	[3c71fe53eaff]

	* src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/sieve-result.c, src/lib-sieve/sieve-result.h:
	Fixed handling of implicit side effects for multiscript execution.
	[eccdf76ce8d9]

	* src/lib-sieve/sieve-result.c:
	Fixed bug in multiscript support; subsequent keep actions were not
	always merged correctly.
	[123aea062d7a]

	* src/sieve-tools/sieve-test.c:
	Fixed segfault bug in the sieve-test tool.
	[81ba4f73b601]

	* src/lib-sieve/sieve-result.c:
	Fixed segfault bug triggered by merging side effects in duplicate
	actions.
	[6744af5643f7]

2009-10-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Sieve plugin: don't try stat the user's personal script if it is not
	specified (NULL).
	[1e8f0d9ae784]

	* src/lib-sieve/plugins/mailbox/Makefile.am, src/lib-
	sieve/plugins/mailbox/cmd-mailboxexists.c, src/lib-
	sieve/plugins/mailbox/tst-mailboxexists.c:
	Mailbox extension: mailboxexists source file had wrong name; it is a
	test and not a command.
	[1360745e7ace]

2009-08-21  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/ext-enotify-common.h:
	Enotify: removed spurious extern declaration of notify_extension.
	[c8824df81a65]

	* src/lib-sieve/plugins/notify/ext-enotify.c:
	Notify (deprecated): removed spurious source file.
	[f082db515bea]

	* src/testsuite/testsuite-common.c, src/testsuite/testsuite-script.c:
	Fixed compile warnings in test suite.
	[7cd4758983a7]

2009-08-16  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[976cbfde079a]

	* Makefile.am, src/testsuite/testsuite-script.c,
	src/testsuite/testsuite.c, tests/extensions/include/execute.svtest,
	tests/extensions/include/execute/actions-fileinto.sieve,
	tests/extensions/include/execute/included/actions-fileinto1.sieve,
	tests/extensions/include/execute/included/actions-fileinto2.sieve,
	tests/extensions/include/execute/included/actions-fileinto3.sieve:
	Testsuite: added action execution test for the include extension
	with stored binaries.
	[b9686050b894]

	* src/lib-sieve/sieve-script.c:
	Made sure script can be compared to NULL.
	[e585067c6ac4]

	* src/lib-sieve/sieve-error.c:
	Fixed bug in error reporting when binary-related script object is
	not set.
	[7f34da6f2b66]

	* Makefile.am, src/testsuite/Makefile.am, src/testsuite/cmd-test-
	binary.c, src/testsuite/ext-testsuite.c, src/testsuite/testsuite-
	binary.c, src/testsuite/testsuite-binary.h, src/testsuite/testsuite-
	common.c, src/testsuite/testsuite-common.h, src/testsuite/testsuite-
	script.c, src/testsuite/testsuite-script.h,
	tests/compile/examples.svtest, tests/execute/examples.svtest:
	Testsuite: added support for testing binaries stored on disk.
	[a94d61c99995]

2009-08-15  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO list.
	[6c364ed63a26]

2009-10-13  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated documentation.
	[f422e31d85cb]

2009-08-15  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, tests/extensions/date/basic.svtest,
	tests/extensions/date/date-parts.svtest,
	tests/extensions/date/zones.svtest:
	Testsuite: added tests for the new date extension.
	[0183618f55ae]

	* src/lib-sieve/Makefile.am, src/lib-sieve/plugins/Makefile.am, src
	/lib-sieve/plugins/date/ext-date.c, src/lib-sieve/sieve-
	extensions.c:
	Date extension: now included in default compile.
	[41025da37acd]

	* src/lib-sieve/plugins/date/tst-date.c:
	Date extension: accidentally committed debug printf.
	[7e01838b06cf]

	* src/lib-sieve/plugins/date/ext-date-common.c, src/lib-
	sieve/plugins/date/tst-date.c:
	Date extension: fixed problems in time zone handling.
	[7da6a9eef33c]

	* src/testsuite/testsuite-message.c:
	Testsuite: added some debug code.\n
	[fbae80b8b66c]

	* src/lib-sieve/plugins/date/ext-date-common.c:
	Date extension: fixed bug in julian date calculation.
	[0029fe51d7a9]

	* src/lib-sieve/plugins/date/ext-date-common.c, src/lib-
	sieve/plugins/date/tst-date.c:
	Date extension: fixed a few bugs related to date part extraction.
	[a5dfbb88b723]

	* src/lib-sieve/plugins/date/tst-date.c:
	Date extension: fixed errorhandling of gmtime() call.
	[e005234a519d]

	* src/lib-sieve/plugins/date/ext-date-common.c, src/lib-
	sieve/plugins/date/tst-date.c:
	Date extension: completed implementation.
	[f2d889c32235]

	* src/lib-sieve/plugins/date/ext-date-common.c:
	Date extension: all simple integer date parts are fixed-length
	strings.
	[ee926bd18a79]

	* src/lib-sieve/plugins/date/ext-date-common.c, src/lib-
	sieve/plugins/date/ext-date-common.h, src/lib-sieve/plugins/date
	/tst-date.c:
	Date extension: implemented time zone handling.
	[aa06078358db]

	* src/lib-sieve/plugins/date/ext-date-common.c:
	Date extension: implemented iso8601 date part.
	[0fde388cc18f]

	* src/lib-sieve/plugins/date/ext-date-common.c:
	Date extension: implemented a few more date parts.
	[4069c439b743]

2009-10-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Adjusted to changes in smtp_client API in Dovecot.
	[5fdf9c8c4cf7]

2009-08-12  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-test.c, src/testsuite/testsuite-mailstore.c:
	Fixed segfault occuring when message was stored. Namespace was not
	properly initialized.
	[1d194d46d6e6]

2009-08-10  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am:
	Fixed distribution of unfinished features.
	[c4be905fb1ca]

2009-08-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/date/Makefile.am, src/lib-sieve/plugins/date
	/ext-date-common.c, src/lib-sieve/plugins/date/ext-date-common.h,
	src/lib-sieve/plugins/date/ext-date.c, src/lib-sieve/plugins/date
	/tst-date.c:
	Date extension: built infrastructure for date part testing.
	[3cf062f7421c]

2009-08-07  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, doc/man/sieve-filter.1:
	Sieve-filter: created man-page a design for the command line
	options.
	[99c6e5552774]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Include: compare execution result to SIEVE_EXEC_OK and not to zero.
	[92734daae92b]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h:
	Include: fixed return type of execution function.
	[0abea4922a64]

	* src/lib-sieve/plugins/include/ext-include-binary.c:
	Fixed erroneous comment in binary implementation.
	[bc192f7075c0]

2009-08-06  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Fixed typo in TODO file.
	[68666accff61]

2009-08-05  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[b530973e99bb]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-sieve/plugins/date/Makefile.am,
	src/lib-sieve/plugins/date/ext-date-common.h, src/lib-
	sieve/plugins/date/ext-date.c, src/lib-sieve/plugins/date/tst-
	date.c, src/lib-sieve/sieve-extensions.c:
	Built skeleton implementation for the date extension (RFC 5260).
	[ff5979767175]

	* src/lib-sieve/plugins/body/tst-body.c:
	Body: fixed erroneous return code for invalid optional operand.
	[fc263abeb9cd]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	interpreter.c:
	Be explicit about signedness of data in binary code representation.
	Some architectures, like ARM, differ in this respect.
	[8e23a49f9238]

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-sieve/plugins/mailbox
	/ext-mailbox.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	code.h:
	Side-effect argumennt registrations were not using the
	SIEVE_OPT_SIDE_EFFECT constant.
	[b69cb367d1f4]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-common.h:
	Removed direct stdint.h includes to prevent portability issues.
	[ed25e185cc91]

2009-08-04  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Reprioritized and reformatted TODO file.
	[5cafc38728df]

	* src/lib-sieve/sieve.c:
	Fixed segfault bug in the handling of script open failures.
	[07919954a0c3]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c:
	Include: further adjusted log and user messages.
	[b2ae0e73b3ad]

2009-08-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c:
	Mailbox extension: ported mailboxexists test to Dovecot v2.0.
	[30f3634e22f5]

2009-08-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA-Sieve plugin: fixed copy-paste mixup between sieve_after and
	sieve_before. If only a sieve_after script was active, nothing would
	have been executed. Patch by Mike Abbott.
	[df5920e13fa1]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Include: fixed bug in /home/stephan substitution in sieve_dir path.
	[d4ea5738def6]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.h:
	Include: improved error messages for include failures.
	[646c4fbef325]

	* src/lib-sieve/plugins/include/cmd-include.c:
	Include: removed variables-related FIXME and substituted a permanent
	error message.
	[b117750b4e93]

2009-08-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/testsuite/Makefile.am:
	Forgot to add header in Makefile.am for testsuite.
	[ad4cbab266f2]

	* src/lib-sieve/plugins/mailbox/Makefile.am:
	Fixed automake bug in new maibox extension sources.
	[1088760d7651]

2009-08-02  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am:
	Testsuite: made valgrind report all allocated blocks that remain at
	program end.
	[82c858975b20]

	* src/testsuite/testsuite-common.c:
	Testsuite: properly deallocated test name string buffer upon close.
	[a0f11e6bccd2]

	* src/lib-sieve/sieve-match.c:
	Fixed memory leak in matching code caused by earlier fix.
	[9106c93f5b24]

	* src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/sieve-
	tools/sieved.c:
	Made proper API for loading a binary directly.
	[d7f89fd75c30]

	* tests/extensions/imap4flags/flagstore.svtest:
	Testsuite: added an important test for the imap4flags extension.
	[c85574d4ced0]

	* Makefile.am, TODO, tests/extensions/imap4flags/flagstore.svtest:
	Imap4flags: added flag storage tests using mailbox loopback.
	[533a8be6c698]

	* src/lib-sieve/plugins/imap4flags/ext-imap4flags-common.c,
	tests/extensions/imap4flags/basic.svtest:
	Imap4flags: now reads initial flags and keywords from supplied mail.
	Upon delivery this is empty, which still matches the specification.
	[464c81defe94]

	* src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h:
	Added access methods for message data en script environment to
	result object.
	[6b22742e6d02]

	* Makefile.am, TODO, src/testsuite/cmd-test-message.c, src/testsuite
	/testsuite-mailstore.c, tests/execute/mailstore.svtest,
	tests/extensions/mailbox/execute.svtest:
	Testsuite: added support for testing delivered messages by looping
	these back as the evaluated message. Added tests for the fileinto
	command.
	[2f89bf8ee733]

2009-08-11  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated README.
	[6e528619165d]

2009-08-01  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c, src/lib-
	sieve/plugins/mailbox/ext-mailbox.c:
	Updated TODO and added a FIXME to the mailbox extension (no ACL
	support yet, but required by RFC).
	[f71288aae9af]

	* Makefile.am, tests/extensions/mailbox/execute.svtest:
	Testsuite: added tests for the mailbox extension.
	[c27af28d66e1]

	* src/lib-sieve/plugins/mailbox/cmd-mailboxexists.c, src/lib-
	sieve/plugins/mailbox/ext-mailbox.c:
	Mailbox extension: finished implementation.
	[050b3f906f84]

	* src/lib-sieve/sieve-lexer.c:
	Small code cleanup in the lexer code.
	[84154a1d2c0d]

	* doc/man/sieve-test.1, doc/man/sievec.1, doc/man/sieved.1:
	Updated man pages.
	[b7fda90bf62f]

2009-07-31  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-script.c:
	Fixed bug in the derivation of the binary path from the script path.
	A bare filename would yield a path relative to root.
	[a247f98b25a2]

2009-08-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/testsuite/Makefile.am, src/testsuite/cmd-test-mailbox.c,
	src/testsuite/ext-testsuite.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-mailstore.c, src/testsuite/testsuite-
	mailstore.h, src/testsuite/testsuite-message.c, src/testsuite
	/testsuite-message.h, src/testsuite/testsuite.c,
	tests/execute/actions.svtest,
	tests/extensions/imap4flags/execute.svtest:
	Testsuite: added support for testing mailbox operations.
	[b32883ed12a6]

	* src/lib-sieve/sieve-actions.c, src/sieve-tools/sieve-test.c:
	Fixed indent problems.
	[02f1082c0a7e]

2009-07-31  Stephan Bosch  <stephan@rename-it.nl>

	* autogen.sh, configure.in:
	Use foreign automake option so it doesn't complain about missing
	ChangeLog.
	[298da44999c3]

2009-07-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/regex/mcht-regex.c:
	Regex: documented source code a little better.
	[45cf26bce98a]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/plugins/body/tst-body.c,
	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c, src
	/lib-sieve/plugins/environment/tst-environment.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/mcht-count.c, src
	/lib-sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-
	match.c, src/lib-sieve/sieve-match.h, src/lib-sieve/tst-address.c,
	src/lib-sieve/tst-header.c, src/testsuite/tst-test-error.c,
	src/testsuite/tst-test-result.c:
	Made sieve_match_context use a proper pool in stead of the
	datastack.
	[40140c6e7a79]

2009-07-29  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Added TODO item.
	[b4720f844d84]

	* src/lib-sieve/plugins/include/ext-include.c:
	Include: fixed assertion fail caused by missing initialization (bug
	surfaces only for stored binaries).
	[bfa00c2ec339]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Include: include error message for failed :global include.
	[a045223e4c9c]

2009-07-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-filter.c:
	Sieve-filter: removed unnecessary MAILBOX_TRANSACTION_FLAG_REFRESH
	flag for mailbox_transaction_begin().
	[2d34a64e5b28]

	* TODO:
	Reprioritized TODO.
	[0e3be67b63e7]

2009-08-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/plugins/mailbox/tag-
	mailbox-create.c, src/lib-sieve/plugins/notify/cmd-notify.c, src
	/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h:
	Fixed compile warnings introduced by porting from v1.2.
	[163f0cabc2a5]

	* src/lib-sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-sieve
	/sieve-actions.c, src/lib-sieve/sieve-actions.h:
	Mailbox extension: implemented the :create tagged argument for the
	fileinto command.
	[11b04cd5b5e4]

	* src/lib-sieve/sieve-actions.c:
	Fixed compile error introduced by porting from v1.2.
	[75ab55b2f60b]

	* src/lib-sieve/plugins/imap4flags/tag-flags.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h:
	Sieve-filter: added support for setting flags on message in the
	source folder.
	[75767922023a]

2009-07-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-filter.c:
	Sieve-filter: corrected and optimized mail filter loop.
	[f6a762122cea]

2009-08-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed broken wiki reference in error message.
	[5e82f7989d85]

2009-07-26  Stephan Bosch  <stephan@rename-it.nl>

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/mailbox/Makefile.am, src/lib-sieve/plugins/mailbox
	/cmd-mailboxexists.c, src/lib-sieve/plugins/mailbox/ext-mailbox-
	common.h, src/lib-sieve/plugins/mailbox/ext-mailbox.c, src/lib-
	sieve/plugins/mailbox/tag-mailbox-create.c, src/lib-sieve/sieve-
	extensions.c:
	Implemented skeleton of the mailbox extension.
	[4cb205ba920b]

	* src/lib-sieve/plugins/Makefile.am, src/lib-sieve/plugins/notify/cmd-
	denotify.c:
	Notify (deprecated): fixed compiler warnings.
	[4a5bd3fa8eb1]

2009-07-25  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-types.h, src
	/sieve-tools/sieve-filter.c:
	Sieve-filter: implemented alternative discard actions.
	[d64e3e1f0dfb]

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-types.h, src
	/sieve-tools/sieve-filter.c:
	Sieve-filter: implemented expunging filtered messages in the source
	folder (move).
	[eab85b0709d7]

	* src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/sieve-tools/sieve-filter.c, src/sieve-tools
	/sieve-test.c:
	Added means to get keep status from sieve execution through main
	Sieve library API.
	[18763ec1c15d]

	* src/sieve-tools/sieve-filter.c:
	Minor changes to the sieve-filter tool.
	[52e869ab259f]

2009-08-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h:
	Restructured store action implementation to properly handle an
	attempt to store (keep) a message in the folder it originates from.
	[626f8092cf3a]

	* src/lib-sieve/plugins/notify/Makefile.am, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/notify/ext-notify-common.c, src
	/lib-sieve/plugins/notify/ext-notify-common.h, src/lib-
	sieve/plugins/notify/ext-notify.c:
	Notify (deprecated): implemented skeleton of the denotify command.
	[67f0b852f75b]

2009-07-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c:
	Fallback to INBOX when storing into a namespace prefix used wrong
	storage.
	[0dbbaeacd983]

	* src/sieve-tools/sieve-filter.c:
	Separated source and destination mail store for sieve-filter tool.
	[01df49ad5a37]

2009-08-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c:
	Showed wrong folder name upon INBOX fallback.
	[bda5e7d84075]

	* src/lib-sieve/sieve-actions.c:
	Fixed some code indent problems.
	[57f0f0849c6d]

	* src/lib-sieve/sieve-actions.c:
	Made attempt to store in a namespace prefix fall back into INBOX.
	[a7e4da2f3db1]

	* src/lib-sieve/sieve-actions.c:
	Fixed logging of folder namespace prefix in store action.
	[538268fe747b]

2009-07-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-validator.c:
	Fixed potential segfault argument parameter validation.
	[eee3fb8206f3]

2009-07-21  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/testsuite/testsuite.c, tests/execute/smtp.svtest,
	tests/extensions/enotify/mailto.svtest,
	tests/extensions/reject/smtp.svtest,
	tests/extensions/vacation/smtp.svtest:
	Testsuite: added tests on the envelope of outgoing messages produced
	by redirect, enotify:mailto, reject and vacation.
	[57b4ac2c5bf5]

2009-08-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/enotify/cmd-notify.c, src
	/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/notify/cmd-notify.c, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	address.c, src/lib-sieve/sieve-address.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-message.c, src/lib-sieve/sieve-message.h, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-
	sieve/sieve.c, src/testsuite/testsuite-common.c, src/testsuite
	/testsuite-common.h, src/testsuite/testsuite-log.c, src/testsuite
	/testsuite-message.c, src/testsuite/testsuite-message.h,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-result.c,
	src/testsuite/testsuite-smtp.c, src/testsuite/testsuite.c:
	Major rework of envelope address handling: a normalized version of
	the envelope addresses is maintained in the message context and
	message context is now also available during action execution.
	[5c71f1efc725]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/plugins/notify/cmd-notify.c, src/lib-sieve/sieve-address.c,
	src/sieve-tools/sieve-test.c, src/testsuite/testsuite-smtp.c:
	Fixed segfault bug: made sure return_path is never used without
	checking for NULL first.
	[a677e4546ef5]

	* src/sieve-tools/Makefile.am:
	Removed the sieve-filter tool from the default build. Need to
	specify --with-unfinished-features to get this tool built.
	[85b85ab59d22]

2009-07-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-reject.c, src/lib-sieve/sieve-extensions.c:
	Added compilation support for ereject extension. It is unfinished
	right now and performs exactly the same action as reject.
	[462b8c61c94f]

	* configure.in, dsieve-config.h.in:
	Fixed bugs in the autoconf structure regarding enabling/disabling
	unfinished features.
	[b97b25de4986]

	* doc/rfc/draft-ietf-sieve-refuse-reject-07.txt, doc/rfc/reject-
	ereject.rfc5429.txt:
	Downloaded RFC for reject and ereject extensions.
	[a119cbed868a]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-error.c, src/lib-
	sieve/sieve-script.c:
	Improved file manipulation error messages regarding EACCES error.
	[f031fa4238b2]

2009-07-18  Stephan Bosch  <stephan@rename-it.nl>

	* tests/extensions/subaddress/basic.svtest:
	Testsuite: added tests for envelope/address test behavior with non-
	existant subaddress :detail part.
	[1bb5e0f7b1d2]

	* src/lib-sieve/ext-envelope.c:
	Envelope: fixed bug in application of address parts; failure to
	obtain the part would cause inappropriate match success (bug
	reported by Ron Lee)
	[5de3c8a5f6ce]

	* src/lib-sieve/tst-address.c:
	Added additional headers to the list of allowed headers for the
	address test.
	[30414d6746ca]

2009-07-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/notify/ext-notify.c:
	Notify (deprecated): added FIXME notice with missing compatibility
	features.
	[35e1295ea178]

	* Makefile.am, tests/deprecated/notify/basic.svtest,
	tests/deprecated/notify/errors.svtest,
	tests/deprecated/notify/errors/options.sieve,
	tests/deprecated/notify/execute.svtest,
	tests/deprecated/notify/execute/duplicates.sieve,
	tests/deprecated/notify/mailto.svtest:
	Testsuite: added tests for deprecated notify extension.
	[007b35de02fa]

2009-07-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/notify/cmd-notify.c:
	Notify (deprecated): fixed compile error due to inappropriate use of
	SMTP API.
	[54ad4536841b]

	* src/testsuite/testsuite.c:
	Testsuite: added support for specifying the available extensions at
	the commandline.
	[170d8a31ef86]

2009-07-17  Stephan Bosch  <stephan@rename-it.nl>

	* tests/extensions/enotify/errors.svtest,
	tests/extensions/enotify/errors/from-mailto.sieve:
	Testsuite: Notify: added test with empty :from argument for notify
	command.
	[f39d6ed684e2]

	* src/lib-sieve/plugins/notify/cmd-notify.c:
	Notify (deprecated): fixed segfault bug in the :options argument
	validation.
	[048e94ca71ba]

	* src/lib-sieve/plugins/notify/cmd-notify.c:
	Notify (deprecated): added runtime check for recipient limit.
	[e6e16114481a]

	* src/lib-sieve/plugins/notify/cmd-notify.c:
	Notify (deprecated): added runtime check for duplicate recipients.
	[cd9dec9b167b]

	* src/lib-sieve/plugins/notify/cmd-notify.c:
	Notify (deprecated): added support for substitutions in the
	notification message.
	[fe51d4b64e0c]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-sieve/plugins/enotify
	/ext-notify.c, src/lib-sieve/plugins/notify/Makefile.am, src/lib-
	sieve/plugins/notify/cmd-denotify.c, src/lib-sieve/plugins/notify
	/cmd-notify.c, src/lib-sieve/plugins/notify/ext-enotify.c, src/lib-
	sieve/plugins/notify/ext-notify-common.h, src/lib-
	sieve/plugins/notify/ext-notify-limits.h, src/lib-
	sieve/plugins/notify/ext-notify.c:
	Made deprecated notify extension implementation compatible with
	cmusieve, except for the denotify command.
	[57acd5ea66a6]

2009-07-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/plugins/enotify
	/ext-enotify-common.h, src/lib-sieve/plugins/enotify/ext-notify.c,
	src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve
	/sieve-extensions.c:
	Added partial support for the depricated notify extension.
	[04930ea21dac]

2009-07-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-validator.c:
	Fixed validator extension validation. It validated the first non-
	require command before validating the extensions, which produced
	useless error messages.
	[e3a1aebb10be]

	* src/lib-sieve/cmd-discard.c:
	Made discard action log a message to avoid confusion about
	disappearing messages.
	[d98cf92836c8]

2009-07-15  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/rfc2822.c, src/lib-sieve/rfc2822.h:
	Inappropriately ignored return value from fwrite in outgoing message
	construction.
	[83eab5d75a77]

2009-07-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c:
	Adjusted to Dovecot mail API changes.
	[e82ff1bbff50]

2009-07-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imap4flags/ext-imapflags.c, src/lib-sieve
	/sieve-extensions.c:
	Apparently, deprecated is spelled with an 'e'.
	[e3546070b758]

2009-07-06  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-ast.c:
	Fixed AIX compile problem provisionally.
	[30bc6ea71f99]

2009-07-05  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[50749e3d12de]

	* .hgignore:
	Added item to .hgignore.
	[d3dd0a905384]

	* doc/man/sieve-test.1, doc/man/sievec.1, doc/man/sieved.1, src/sieve-
	tools/sieve-filter.c, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/sieve-tools/sieved.c:
	Improved consistency of sieve tool documentation.
	[895b26af0ab2]

2009-07-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-extensions.c:
	Enhanced extensions configuration, allowing to specify the enabled
	extensions relatively to the default.
	[bbaea32e0601]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Sieve plugin: forgot to initialize script execution status.
	[367f3a446dbf]

2009-07-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Sieve plugin: fixed logging for execution of default main script
	(went to STDERR).
	[8f9e8033cdd4]

2009-06-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h:
	Added support for CRLF line breaks in strbuf error handler
	(ManageSieve fix).
	[9c0871a1687b]

2009-06-21  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve-tool/mail-raw.h, src
	/lib-sieve/sieve-actions.c:
	Adjusted to mailbox API changes in Dovecot.
	[3ac2e22865a9]

2009-06-01  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Body: fixed potential problems wil NUL characters in body parts.
	[71c69a731887]

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Body: fixed assert failure caused by ugly code and a change in
	dovecot.
	[8de1f3d66d4c]

2009-05-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Body: fixed part of the assert fail problems (Dovecot change).
	[234ac9d21024]

	* src/lib-sieve-tool/mail-raw.c, src/sieve-tools/sieve-test.c:
	Adjusted to changes in Dovecot regarding opening a raw stream.
	[f8b5f7438fbc]

2009-05-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Started using v2.0 settings interface to get plugin settings.
	[c76b3eb2df2e]

2009-05-23  Stephan Bosch  <stephan@rename-it.nl>

	* .hgignore, src/lib-sieve-tool/Makefile.am, src/lib-sieve-tool/mail-
	raw.c, src/lib-sieve-tool/mail-raw.h, src/lib-sieve-tool/sieve-
	tool.c, src/lib-sieve-tool/sieve-tool.h, src/lib-sieve/Makefile.am,
	src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-smtp.c, src/lib-sieve/sieve-smtp.h,
	src/lib-sieve/sieve-types.h, src/plugins/lda-sieve/Makefile.am,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-
	tools/Makefile.am, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/sieve-tools/sieved.c, src/testsuite/Makefile.am,
	src/testsuite/testsuite-message.c, src/testsuite/testsuite-
	message.h, src/testsuite/testsuite-smtp.c, src/testsuite/testsuite-
	smtp.h, src/testsuite/testsuite.c:
	Migrated Dovecot Sieve to Dovecot v2.0.
	[c295779a2903]

2009-05-18  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Fixed compiler warning.
	[4c5c04dd182a]

2009-05-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Made default of sieve_dir setting match the ManageSieve
	implementation.
	[334612126bb7]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Fixed indent problems.
	[f949723e32ef]

2009-04-18  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS, configure.in:
	Released v0.1.5 for Dovecot v1.2.rc3.
	[61b52e4618e3]

	* src/lib-sieve/sieve-binary.c:
	Increased binary version number.
	[6f3609b58136]

	* src/lib-sieve/cmd-require.c, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/sieve-validator.h, tests/compile/errors.svtest,
	tests/compile/errors/require.sieve:
	Improved error message for unknown Sieve extension to account for
	core commands included as an extension.
	[c3736fb49332]

2009-04-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed bug in the Sieve plugin's return value that caused omission of
	delivery when no Sieve scripts are present. Bug spotted by Matthijs
	Kooijman.
	[4c858f06b15f]

2009-04-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/environment/ext-environment-common.c:
	Environment: fixed compiler warning.
	[afc482d21847]

	* NEWS:
	Updated NEWS file for upcoming v1.2 release.
	[f4230bed0845]

	* tests/extensions/environment/rfc.svtest:
	Testsuite: forgot to add new testcase file.
	[26e1e01da8bb]

2009-04-12  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/plugins/environment/ext-environment-
	common.c, src/lib-sieve/plugins/environment/tst-environment.c:
	Environment: fixed segfault and fixed some rfc deviations.
	[831a0a96ea5b]

	* src/lib-sieve/plugins/environment/ext-environment-common.c, src/lib-
	sieve/plugins/environment/sieve-ext-environment.h,
	src/testsuite/testsuite.c,
	tests/extensions/environment/basic.svtest:
	Environment: activated host environment item.
	[01b2712fd398]

	* Makefile.am, TODO, configure.in, doc/rfc/environment.rfc5183.txt,
	src/lib-sieve/Makefile.am, src/lib-sieve/plugins/Makefile.am, src
	/lib-sieve/plugins/environment/Makefile.am, src/lib-
	sieve/plugins/environment/ext-environment-common.c, src/lib-
	sieve/plugins/environment/ext-environment-common.h, src/lib-
	sieve/plugins/environment/ext-environment.c, src/lib-
	sieve/plugins/environment/sieve-ext-environment.h, src/lib-
	sieve/plugins/environment/tst-environment.c, src/lib-sieve/sieve-
	extensions.c, tests/extensions/environment/basic.svtest:
	Implemented core support for the environment extension.
	[9d6ceadb490a]

2009-04-11  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, tests/extensions/include/included-global/rfc-
	ex1-spam_tests.sieve, tests/extensions/include/included/rfc-
	ex1-always_allow.sieve, tests/extensions/include/included/rfc-
	ex1-mailing_lists.sieve, tests/extensions/include/included/rfc-
	ex1-spam_tests.sieve, tests/extensions/include/included/rfc-
	ex2-spam_filter_script.sieve,
	tests/extensions/include/included/twice-1.sieve,
	tests/extensions/include/included/twice-2.sieve,
	tests/extensions/include/rfc-ex1-default.sieve,
	tests/extensions/include/rfc-ex2-default.sieve,
	tests/extensions/include/rfc.svtest,
	tests/extensions/include/twice.svtest:
	Include: added various tests to the testsuite.
	[ac4fc49c6be1]

	* src/lib-sieve/plugins/include/ext-include-variables.c:
	Include: fixed bug in binary save of global variable scope.
	[593fe13ac0c9]

2009-04-10  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, README, TODO, src/lib-sieve/plugins/include/cmd-
	include.c, src/lib-sieve/plugins/include/ext-include-common.c, src
	/lib-sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c,
	tests/extensions/include/included/once-2.sieve,
	tests/extensions/include/included/once-3.sieve,
	tests/extensions/include/included/once-4.sieve,
	tests/extensions/include/once.svtest:
	Include: implemented :once modifier for the include command.
	[d6e436b78853]

	* src/testsuite/cmd-test.c:
	Testsuite: fixed minor result passing problem in test code
	generation.
	[4c416bcfd49c]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Include: improved runtime script handling.
	[2fd8feba11dd]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Include: added runtime check for circular include.
	[b21eb653f1dd]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Fixed a few small indent problems.
	[e948085b5b67]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-sieve/sieve-
	binary-dumper.c, tests/extensions/include/included/once-1.sieve,
	tests/extensions/include/included/once-2.sieve,
	tests/extensions/include/once.svtest:
	Include: added skeleton :once modifier.
	[08f3b665caee]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Include: fixed bug in sub-sub include.
	[f333ecabb7d4]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed warnings in revised plugin code.
	[a92742e9a7c1]

	* doc/man/sieve-test.1:
	Minor update to the sieve-test manpage
	[e400b5a9e182]

	* README, src/lib-sieve/plugins/include/ext-include.c:
	Include: updated implementation status.
	[3717f4f237d9]

	* doc/rfc/draft-daboo-sieve-include-05.txt, doc/rfc/draft-ietf-sieve-
	include-01.txt:
	Replaced include specification with latest draft.
	[d8f0bdecc0e8]

	* src/lib-sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/include/cmd-global.c, src/lib-sieve/plugins/include
	/cmd-import.c, src/lib-sieve/plugins/include/ext-include-common.c,
	src/lib-sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c,
	tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/import-runtime.sieve,
	tests/extensions/include/errors/variables-inactive.sieve,
	tests/extensions/include/errors/variables.sieve,
	tests/extensions/include/included/variables-included1.sieve,
	tests/extensions/include/included/variables-included2.sieve,
	tests/extensions/include/included/variables-included3.sieve,
	tests/extensions/include/variables.svtest:
	Include: replaced import/export commands with global command as
	specified in latest draft. Import/export are now DEPRICATED.
	[6fff255fe757]

	* src/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve
	/sieve-address-parts.c, tests/address.svtest,
	tests/extensions/subaddress/basic.svtest:
	Definitively fixed handling group specifications in mailbox lists of
	address headers.
	[914c3c1f5f8c]

	* doc/man/sieve-test.1:
	Fixed minor typo in sieve-test man page.
	[b3ad017662d1]

	* TODO:
	Updated TODO.
	[e89b270850c6]

	* src/lib-sieve/sieve-error-private.h, src/lib-sieve/sieve-error.c,
	src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-
	sieve/sieve-script.c, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-tools/sieve-
	test.c:
	Major rework of the multiscript support for better error handling.
	[6dcfb15cf051]

2009-04-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Improved plugin debug message.
	[24847d4c5ef8]

2009-04-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed problem of unexecuted before/after global scripts when user
	script is missing.
	[4d2503564c59]

2009-04-07  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c:
	Adjusted to signal handler API changes in Dovecot.
	[b7e376b7fb07]

2009-04-06  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve
	/sieve-address-parts.c:
	Fixed segfault bug caused by undisclosed-recipients:; when fed to
	the subaddress extension.
	[ec78123ec073]

2009-03-21  Stephan Bosch  <stephan@rename-it.nl>

	* .hgtags:
	Added tag 0.1.4 for changeset b7eb19f14fa7
	[38ef3a309167]

	* NEWS, configure.in:
	Released v0.1.4 for Dovecot v1.2.beta3.
	[b7eb19f14fa7] [0.1.4]

2009-03-20  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieve-test.1:
	Documented vnd.dovecot.debug in the sieve-test man page.
	[3e4cc10a3d89]

	* NEWS:
	Updated NEWS file.
	[9daef35779e6]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h, src/sieve-
	tools/sieve-filter.c, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/sieve-tools/sieved.c:
	Improved error handling and added debug extension to all applicable
	Sieve tools.
	[ae2f39427f14]

2009-03-14  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h:
	Created replaceable error handler for system errors.
	[539cfb9b9507]

	* TODO, configure.in, src/sieve-tools/Makefile.am, src/sieve-
	tools/debug/Makefile.am, src/sieve-tools/debug/cmd-debug-print.c,
	src/sieve-tools/debug/ext-debug-common.h, src/sieve-tools/debug/ext-
	debug.c, src/sieve-tools/debug/sieve-ext-debug.h, src/sieve-tools
	/sieve-test.c:
	Added Dovecot-specific debug extension to the sieve-test tool.
	[a74dc7f32b71]

	* TODO, src/sieve-tools/sieve-filter.c:
	Sieve-filter: implemented basic filtering.
	[8862c90bc395]

2009-03-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/Makefile.am, src/testsuite/Makefile.am:
	Removed unnecessary linker flags that break Solaris compilation.
	[45c04b2fe529]

2009-02-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/regex/ext-regex-common.h, src/lib-
	sieve/plugins/relational/ext-relational-common.h, src/lib-sieve
	/sieve-address-parts.c, src/lib-sieve/sieve-address-parts.h, src
	/lib-sieve/sieve-code.h, src/lib-sieve/sieve-match-types.c, src/lib-
	sieve/sieve-match-types.h:
	Fixed MAC OSX compile problems: forgot extern modifier at various
	places.
	[ab9a06342d33]

2009-02-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/mail-raw.c:
	Fixed issue with opening relative paths as a mail file.
	[4d642db0b754]

	* src/lib-sieve-tool/mail-raw.c:
	Fixed tmp file name for raw storage used for sieve tools.
	[54a07ebb8e1f]

2009-02-19  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[7d45c1fdf9c1]

	* doc/rfc/collation.rfc4790.txt, doc/rfc/i-ascii-numeric.rfc2244.txt:
	Removed inappropriate ACAP rfc for i;ascii-numeric comparator and
	substituted rfc4790 in stead.
	[cebc91cd58e1]

2009-02-15  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-tools/sieve-filter.c:
	Sieve-filter: developed listing messages in a folder a little
	further.
	[e7dd36461c67]

	* .hgignore, src/sieve-tools/Makefile.am, src/sieve-tools/sieve-
	filter.c:
	Started work on sieve-filter tool.
	[85230557972e]

2009-02-14  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-
	validator.c, src/testsuite/cmd-test-message.c, src/testsuite
	/testsuite-common.c, src/testsuite/testsuite-common.h, src/testsuite
	/testsuite-smtp.c, src/testsuite/testsuite-smtp.h,
	tests/extensions/enotify/mailto.svtest:
	Testsuite: added a few final important tests for the enotify
	extension.
	[75b6dac1df2a]

2009-02-13  Stephan Bosch  <stephan@rename-it.nl>

	* .hgtags:
	Added tag 0.1.3 for changeset 8bdff47ab3f0
	[977e30fa18c2]

	* configure.in:
	Released v0.1.3 for Dovecot v1.2.beta1.
	[8bdff47ab3f0] [0.1.3]

2009-02-12  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Added items to the TODO list.
	[1c401bb66e52]

	* doc/man/sievec.1:
	Minor changes to the sievec man page.
	[c8c404ceeb47]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-script.c, src/lib-
	sieve/sieve-script.h:
	Saved binary now has at most the same permissions as the script file
	itself.
	[3bdd01261818]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-extensions.c:
	Fixed bug the code generation of extensions.
	[3eb2562e40e8]

	* doc/man/sieved.1, src/sieve-tools/sieved.c:
	Added -x parameter to sieved tool.
	[c98dafdf1f49]

2009-02-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-validator.c:
	Fixed small bug in the extension validation.
	[15dd897287d2]

	* src/lib-sieve/sieve-extensions.c:
	Imapflags: marked as depricated and disabled by default.
	[95a9bb61d7ca]

	* src/lib-sieve/sieve-validator.c:
	Properly implemented verification of loaded extensions after last
	require command is validated.
	[cbb12efa1f1b]

	* tests/extensions/variables/match.svtest:
	Testsuite: added small test for ?* match values.
	[2d132b56398a]

	* NEWS:
	Updated NEWS file for next release.
	[a57d7b6d95a8]

2009-02-08  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, tests/extensions/vacation/message.svtest,
	tests/extensions/vacation/references.svtest:
	Testsuite: added message tests for the vacation extension.
	[7a074a0ff5c0]

	* src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/testsuite/Makefile.am, src/testsuite/cmd-test-
	result-reset.c, src/testsuite/ext-testsuite.c, src/testsuite
	/testsuite-common.h, src/testsuite/testsuite-result.c, src/testsuite
	/testsuite-result.h, src/testsuite/tst-test-script-run.c,
	tests/extensions/enotify/mailto.svtest:
	Testsuite: added support for resetting the result.
	[42b3ec181e64]

	* tests/extensions/enotify/mailto.svtest:
	Testsuite: added tests for enotify with multiple recipients.
	[c84f556f3115]

	* Makefile.am, TODO, src/lib-sieve/plugins/include/cmd-import.c, src
	/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/tst-
	size.c, src/testsuite/Makefile.am, src/testsuite/cmd-test-message.c,
	src/testsuite/ext-testsuite.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-message.c, src/testsuite/testsuite-
	message.h, src/testsuite/testsuite-objects.c, src/testsuite
	/testsuite-result.c, src/testsuite/testsuite-smtp.c, src/testsuite
	/testsuite-smtp.h, src/testsuite/tst-test-result-execute.c,
	tests/extensions/enotify/mailto.svtest:
	Testsuite: added support for looping back outgoing SMTP messages
	back into the test.
	[3f857d8c403e]

2009-02-07  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/cmd-redirect.c, src/lib-sieve/plugins/enotify
	/ntfy-mailto.c, src/lib-sieve/plugins/vacation/cmd-vacation.c, src
	/lib-sieve/sieve-address.c, src/lib-sieve/sieve-address.h:
	Defined very basic function for address comparison.
	[e4283ec36db2]

	* src/lib-sieve/sieve-actions.c:
	Adjusted store action to API changes in Dovecot.
	[d2ed402f1a5f]

2009-02-06  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/sieve-
	address.c, tests/extensions/vacation/execute/action.sieve:
	Vacation: made addresses comparison case-insensitive.
	[b315fde89b8a]

2009-02-05  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated documentation.
	[cea5c68baa2e]

	* src/lib-sieve/plugins/imap4flags/tag-flags.c,
	tests/extensions/imap4flags/execute/imapflags.sieve:
	Imap4flags: fixed dumping of \flagged flag in flags side effect.
	[a1ad7bbd3ef7]

	* Makefile.am, src/lib-sieve/plugins/imap4flags/Makefile.am, src/lib-
	sieve/plugins/imap4flags/ext-imapflags.c, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-extensions.c, src
	/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-validator.c,
	src/testsuite/testsuite.c,
	tests/extensions/imap4flags/errors.svtest,
	tests/extensions/imap4flags/errors/imapflags.sieve,
	tests/extensions/imap4flags/execute/imapflags.sieve:
	Imap4flags: added support for obsolete imapflags extension for
	backwards compatibility with CMUSieve.
	[4e58445b4f87]

2009-02-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h:
	Validator: added support for checking loaded extensions.
	[ab9545a27bbf]

	* src/lib-sieve/cmd-require.c, src/lib-sieve/sieve-extensions.c, src
	/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/sieve-validator.h:
	Added facilities for requiring extensions and making extensions
	mutually exclusive.
	[37fc919d3450]

	* Makefile.am, tests/extensions/imap4flags/basic.svtest,
	tests/extensions/imap4flags/execute.svtest,
	tests/extensions/imap4flags/execute/flags-side-effect.sieve,
	tests/extensions/imap4flags/hasflag.svtest,
	tests/extensions/imapflags/basic.svtest,
	tests/extensions/imapflags/execute.svtest,
	tests/extensions/imapflags/execute/flags-side-effect.sieve,
	tests/extensions/imapflags/hasflag.svtest:
	Imap4flags: gave testsuite directory proper name.
	[f0299c1886fe]

	* src/lib-sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-sieve/sieve-
	extensions.c:
	Imap4flags: properly named extension objects.
	[581df7c170d1]

	* src/lib-sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c:
	Imap4flags: properly named functions.
	[debaa7e5a036]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/imap4flags/Makefile.am, src/lib-
	sieve/plugins/imap4flags/cmd-flag.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.c, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags-common.h, src/lib-
	sieve/plugins/imap4flags/ext-imap4flags.c, src/lib-
	sieve/plugins/imap4flags/tag-flags.c, src/lib-
	sieve/plugins/imap4flags/tst-hasflag.c, src/lib-
	sieve/plugins/imapflags/Makefile.am, src/lib-sieve/plugins/imapflags
	/cmd-flag.c, src/lib-sieve/plugins/imapflags/ext-imapflags-common.c,
	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c:
	Imap4flags: properly named extension directory and source files.
	[c8d2f78230f9]

2009-02-03  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Fixed README: now mentions the naming differences of the imap4flags
	and enotify extensions compared to the old CMU Sieve plugin.
	[f33ee1af3bdb]

2009-02-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-redirect.c:
	Fixed compile warning caused by missing include.
	[c0a84cf64bbd]

2009-02-01  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/draft-ietf-sieve-notify-12.txt, doc/rfc/draft-ietf-sieve-
	notify-mailto-10.txt, doc/rfc/notify-mailto.rfc5436.txt,
	doc/rfc/notify.rfc5435.txt, src/lib-sieve/plugins/enotify/ext-
	enotify.c, src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Installed RFC documents for notify extension and corresponding
	mailto method.
	[b11bd3479721]

	* src/lib-sieve/mcht-matches.c, tests/match-types/matches.svtest:
	Cleaned up :matches match-type code.
	[ca2edcc58fba]

	* src/lib-sieve/mcht-matches.c, tests/match-types/matches.svtest:
	Fixed bug in the :matches match type.
	[88cc4bf1c396]

2009-01-27  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Added important TODO item.
	[42e154b8792e]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/rfc2822.c:
	Changed SMTP message generation back to CRLF, because the Sieve
	engine uses CRLF internally.
	[082216ad12d6]

	* src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve/sieve-code-
	dumper.c, src/lib-sieve/sieve-code.c:
	Fixed use of data stack by binary dumping code.
	[258e357cfbf7]

	* src/lib-sieve/plugins/regex/mcht-regex.c:
	Regex: fixed segfault bug occuring when regex is freed.
	[6ed559a5f677]

	* src/testsuite/tst-test-script-compile.c:
	Testsuite: fixed warning.
	[abc7331b2124]

	* src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-validator.c:
	Increased various initial pool sizes.
	[cdb4b96e70a8]

2009-01-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c:
	Increased initial size of binary's lazy_file pool.
	[7caaa891d5f4]

	* src/lib-sieve/rfc2822.c:
	Fixed error in the SMTP message composition that caused mixing of
	CRLF and LF in redirected messages.
	[2ae233b6f5ad]

2009-01-22  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS:
	Updated NEWS file.
	[a8e587b0409e]

	* NEWS:
	Updated NEWS file.
	[b93c8d7802a3]

	* README:
	Updated README file.
	[171133900f9b]

	* NEWS:
	Prepared NEWS file for next release.
	[42ef7e546072]

	* INSTALL:
	Updated documentation.
	[32812e4f4722]

	* Makefile.am, tests/extensions/regex/match-values.svtest:
	Testsuite: added simple tests for the match values produced by the
	:regex match.
	[7a91f98d0be1]

	* src/lib-sieve/plugins/regex/mcht-regex.c:
	Regex: fixed bug in the match value indexes.
	[de6db6757418]

2009-01-18  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/draft-degener-sieve-multiscript-00.txt:
	Added multiscript draft to the doc/rfc directory.
	[fa223cfeaa35]

	* src/testsuite/Makefile.am, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite-message.c,
	src/testsuite/testsuite-smtp.c, src/testsuite/testsuite-smtp.h,
	src/testsuite/testsuite.c, src/testsuite/tst-test-script-run.c:
	Testsuite: added storage of outgoing SMTP messages.
	[3fd7e83720fb]

	* src/testsuite/Makefile.am, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite-message.c,
	src/testsuite/testsuite-message.h, src/testsuite/testsuite-
	objects.c, src/testsuite/testsuite.c:
	Testsuite: exported message handling to separate module.
	[b15cfe188d87]

2009-01-16  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, src/lib-sieve/sieve-result.c, src/lib-sieve
	/sieve-result.h:
	Enotify: cleaned up method API.
	[466e57aedb29]

	* tests/extensions/imapflags/basic.svtest,
	tests/extensions/imapflags/hasflag.svtest:
	Testsuite: improved testsuite with respect to testing of setflag,
	addflag and removeflag commands.
	[18b4ee74fc9c]

	* TODO, src/lib-sieve/plugins/imapflags/Makefile.am, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-flag.c, src/lib-sieve/plugins/imapflags
	/cmd-removeflag.c, src/lib-sieve/plugins/imapflags/cmd-setflag.c,
	src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h:
	Imap4flags: merged setflag, addflag and removeflag implementations.
	[38189d0d5785]

	* INSTALL, src/lib-sieve/plugins/subaddress/ext-subaddress.c:
	Added sieve_subaddress_sep setting.
	[fac1579a1164]

2009-01-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-address.c, tests/compile/errors.svtest,
	tests/compile/errors/out-address.sieve:
	Fixed bug in the outgoing mail address verification.
	[60b3f236c3bc]

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c,
	tests/extensions/enotify/execute.svtest,
	tests/extensions/enotify/execute/duplicates.sieve:
	Enotify/Mailto: prevented single recipient from receiving multiple
	notifications on the same message.
	[38b1269f8e10]

	* src/testsuite/testsuite.c:
	Testsuite: fixed segfault bugs in the error handling.
	[31804bc166e3]

2009-01-10  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Small project status update to the README.
	[31fb740ce85c]

	* TODO, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, tests/extensions/enotify/execute.svtest,
	tests/extensions/enotify/execute/duplicates.sieve:
	Enotify: added API for detecting and killing duplicate notification
	recipients.
	[975614b641aa]

	* TODO, src/plugins/lda-sieve/lda-sieve-plugin.c:
	Multiscript: implemented sorting of script files in script
	directories for Sieve plugin.
	[c13464cb4fe3]

	* INSTALL, README, TODO, src/plugins/lda-sieve/lda-sieve-plugin.c:
	Updated documentation.
	[17a66023e259]

	* TODO:
	Reprioritized TODO.
	[bcbae5e0e63d]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Got array_get_pool() integrated into Dovecot.
	[3929bef582c0]

	* README, TODO:
	Updated documentation.
	[aec958653b9f]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed segfault in lda sieve plugin.
	[902ee7cc9588]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify/Mailto: fixed bug in the generation of the SMTP envelope
	sender.
	[e124dfa5388c]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: fixed various indent mishaps in ntfy-mailto.c.
	[f958c97ec9dc]

	* src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/sieve-tools/sieve-test.c:
	Multiscript: added untested multiscript support to the lda sieve
	plugin.
	[2777abb69dd0]

2009-01-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h:
	Added a few accessors to the binary object for convenience.
	[374039e9194e]

	* src/testsuite/testsuite.c:
	Testsuite: fixed warning.
	[15bc0d5d27a5]

	* src/testsuite/testsuite.c:
	Testsuite: fixed result handling.
	[8d63ff17d7e8]

	* TODO:
	Removed remaining references to sieve-exec.
	[1eca558676df]

2009-01-07  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sievec.1, src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-
	tool/sieve-tool.h, src/lib-sieve/sieve-script-private.h, src/lib-
	sieve/sieve-script.c, src/lib-sieve/sieve-script.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-
	sieve-plugin.c, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/testsuite/testsuite-script.c,
	src/testsuite/testsuite.c:
	Extended sievec command to allow compiling an entire directory.
	[a56dfe862df4]

2009-01-06  Stephan Bosch  <stephan@rename-it.nl>

	* doc/man/sieved.1:
	Minor revisions to the sieved man page.
	[df54062cbf77]

	* doc/man/sievec.1, src/sieve-tools/sievec.c:
	Made outfile argument of the sievec command optional.
	[b7ae0b1d7399]

	* README:
	Updated README.
	[7cb784bf0c4c]

	* doc/man/sieve-test.1, doc/man/sievec.1, doc/man/sieved.1, src/lib-
	sieve/cmd-discard.c, src/lib-sieve/sieve-result.c, src/lib-sieve
	/sieve-result.h, src/lib-sieve/sieve.c, src/sieve-tools/Makefile.am,
	src/sieve-tools/sieve-exec.c, src/sieve-tools/sieve-test.c:
	Merged sieve-exec tool into sieve-test.
	[030d37107e10]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/vacation
	/cmd-vacation.c:
	Fixed various result error messages.
	[02697b1b4311]

	* src/lib-sieve/sieve-binary.c:
	Fixed a theoretical security hole occuring when directory is opened
	as a Sieve binary.
	[d2a7caa5566f]

2009-01-04  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/sieve-tools/sieve-test.c:
	Updated TODO.
	[2c64b5e5db89]

	* src/lib-sieve/sieve-result.c, src/sieve-tools/sieve-test.c:
	Multiscript: fixed small bug in result printing.
	[0a5938f5e88c]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/sieve-
	tools/sieve-test.c:
	Multiscript: improved handling of the keep action.
	[5d251b577e56]

	* TODO:
	Updated TODO.
	[511e2770304c]

	* src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/vacation/cmd-
	vacation.c, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve.c, src
	/lib-sieve/sieve.h, src/sieve-tools/sieve-test.c:
	Multiscript: implemented execution of multiple scripts for the
	sieve-test command.
	[d20619f44dc0]

2009-01-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve.c, src/lib-sieve/sieve.h:
	Multiscript: implemented API.
	[50f5d81b9507]

	* doc/man/sieve-test.1, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/sieve-actions.c, src/lib-sieve
	/sieve-actions.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-interpreter.h, src/lib-sieve/sieve-result.c, src/lib-sieve
	/sieve-result.h, src/lib-sieve/sieve-types.h, src/lib-sieve/sieve.c,
	src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-sieve-plugin.c, src
	/sieve-tools/sieve-exec.c, src/sieve-tools/sieve-test.c,
	src/testsuite/testsuite-result.c, src/testsuite/testsuite-script.c,
	src/testsuite/testsuite.c:
	Multiscript: various changes to the interpreter to facilitate
	multiscript support.
	[1e54353fd486]

2009-01-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h:
	Multiscript: added keep status evaluation to result object.
	[70b008a20600]

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve-tool/mail-raw.h, src
	/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool/sieve-tool.h, src
	/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-
	keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-require.c,
	src/lib-sieve/cmd-stop.c, src/lib-sieve/cmp-i-ascii-casemap.c, src
	/lib-sieve/cmp-i-octet.c, src/lib-sieve/ext-encoded-character.c, src
	/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/mcht-contains.c, src/lib-sieve
	/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-sieve/plugins/body
	/ext-body-common.c, src/lib-sieve/plugins/body/ext-body-common.h,
	src/lib-sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/body
	/tst-body.c, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-
	cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy/ext-copy.c, src
	/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify-limits.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/plugins/enotify
	/ntfy-mailto.c, src/lib-sieve/plugins/enotify/sieve-ext-enotify.h,
	src/lib-sieve/plugins/enotify/tst-notify-method-capability.c, src
	/lib-sieve/plugins/enotify/tst-valid-notify-method.c, src/lib-
	sieve/plugins/enotify/vmodf-encodeurl.c, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/include/cmd-import.c, src/lib-
	sieve/plugins/include/cmd-include.c, src/lib-sieve/plugins/include
	/cmd-return.c, src/lib-sieve/plugins/include/ext-include-binary.c,
	src/lib-sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-limits.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/regex
	/ext-regex-common.c, src/lib-sieve/plugins/regex/ext-regex-common.h,
	src/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/ext-relational-
	common.c, src/lib-sieve/plugins/relational/ext-relational-common.h,
	src/lib-sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-arguments.h, src/lib-sieve/plugins/variables/ext-
	variables-common.c, src/lib-sieve/plugins/variables/ext-variables-
	common.h, src/lib-sieve/plugins/variables/ext-variables-dump.c, src
	/lib-sieve/plugins/variables/ext-variables-dump.h, src/lib-
	sieve/plugins/variables/ext-variables-limits.h, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/rfc2822.c, src
	/lib-sieve/rfc2822.h, src/lib-sieve/sieve-actions.c, src/lib-sieve
	/sieve-actions.h, src/lib-sieve/sieve-address-parts.c, src/lib-sieve
	/sieve-address-parts.h, src/lib-sieve/sieve-address.c, src/lib-sieve
	/sieve-address.h, src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-
	ast.h, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve/sieve-
	binary-dumper.h, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	binary.h, src/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-
	code-dumper.h, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-
	code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-config.h, src/lib-sieve/sieve-dump.h, src/lib-sieve/sieve-
	error-private.h, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-
	error.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-
	extensions.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	lexer.h, src/lib-sieve/sieve-limits.c, src/lib-sieve/sieve-limits.h,
	src/lib-sieve/sieve-match-types.c, src/lib-sieve/sieve-match-
	types.h, src/lib-sieve/sieve-match.c, src/lib-sieve/sieve-match.h,
	src/lib-sieve/sieve-message.c, src/lib-sieve/sieve-message.h, src
	/lib-sieve/sieve-objects.c, src/lib-sieve/sieve-objects.h, src/lib-
	sieve/sieve-parser.c, src/lib-sieve/sieve-parser.h, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-sieve/sieve-
	script-private.h, src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-
	script.h, src/lib-sieve/sieve-types.h, src/lib-sieve/sieve-
	validator.c, src/lib-sieve/sieve-validator.h, src/lib-sieve/sieve.c,
	src/lib-sieve/sieve.h, src/lib-sieve/tst-address.c, src/lib-sieve
	/tst-allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c,
	src/lib-sieve/tst-header.c, src/lib-sieve/tst-not.c, src/lib-sieve
	/tst-size.c, src/lib-sieve/tst-truefalse.c, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/plugins/lda-sieve/lda-sieve-plugin.h, src
	/sieve-tools/sieve-exec.c, src/sieve-tools/sieve-test.c, src/sieve-
	tools/sievec.c, src/sieve-tools/sieved.c, src/testsuite/cmd-test-
	fail.c, src/testsuite/cmd-test-result-print.c, src/testsuite/cmd-
	test-set.c, src/testsuite/cmd-test.c, src/testsuite/ext-testsuite.c,
	src/testsuite/testsuite-arguments.c, src/testsuite/testsuite-
	arguments.h, src/testsuite/testsuite-common.c, src/testsuite
	/testsuite-common.h, src/testsuite/testsuite-log.c, src/testsuite
	/testsuite-log.h, src/testsuite/testsuite-objects.c, src/testsuite
	/testsuite-objects.h, src/testsuite/testsuite-result.c,
	src/testsuite/testsuite-result.h, src/testsuite/testsuite-script.c,
	src/testsuite/testsuite-script.h, src/testsuite/testsuite-
	substitutions.c, src/testsuite/testsuite-substitutions.h,
	src/testsuite/testsuite.c, src/testsuite/tst-test-error.c,
	src/testsuite/tst-test-result-execute.c, src/testsuite/tst-test-
	result.c, src/testsuite/tst-test-script-compile.c, src/testsuite
	/tst-test-script-run.c:
	Updated copyright messages to 2009.
	[9e7bde020990]

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-result.c, src
	/lib-sieve/sieve-result.h, src/lib-sieve/sieve.c, src/testsuite
	/testsuite-result.c, tests/multiscript/conflicts.svtest,
	tests/multiscript/fileinto-frop.sieve, tests/multiscript/keep.sieve:
	Testsuite: extended multiscript testing.
	[fd189b1545ce]

	* Makefile.am, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/testsuite/Makefile.am,
	src/testsuite/cmd-test-result-print.c, src/testsuite/ext-
	testsuite.c, src/testsuite/testsuite-common.h, src/testsuite
	/testsuite-log.c, src/testsuite/testsuite-result.c, src/testsuite
	/testsuite-result.h, src/testsuite/tst-test-result-execute.c,
	src/testsuite/tst-test-script-compile.c, src/testsuite/tst-test-
	script-run.c, tests/multiscript/basic.svtest,
	tests/multiscript/conflicts.svtest, tests/multiscript/fileinto-
	inbox.sieve, tests/multiscript/notify.sieve,
	tests/multiscript/reject-1.sieve, tests/multiscript/reject-2.sieve,
	tests/multiscript/vacation.sieve:
	Testsuite: added multiscript tests and required support.
	[55a8d5467bb7]

	* src/lib-sieve/plugins/enotify/cmd-notify.c:
	Enotify: removed conflicting action flag.
	[507b4e15de60]

	* src/testsuite/testsuite-log.c, src/testsuite/testsuite-log.h,
	src/testsuite/testsuite-script.c, src/testsuite/testsuite-script.h:
	Testsuite: forgot to add new files.
	[706e67f38fe1]

	* src/testsuite/Makefile.am, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-result.c, src/testsuite/tst-test-error.c,
	tests/extensions/enotify/basic.svtest:
	Testsuite: split off script and error handler implementations into
	separate modules.
	[934cd4598d45]

2009-01-01  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/cmd-notify.c:
	Fixed warning caused by previous changes.
	[b1878ff375d3]

	* src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/vacation/cmd-
	vacation.c, src/lib-sieve/sieve-result.c:
	Multiscript: resolved inter-script action conflict situations.
	[cf3dacb0427f]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	result.c:
	Cleaned up action interface.
	[9aa51ae533c0]

	* TODO, src/lib-sieve/cmd-keep.c, src/lib-sieve/sieve-actions.c, src
	/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h,
	src/testsuite/tst-test-result.c, tests/execute/actions.svtest,
	tests/extensions/vacation/execute.svtest:
	Multiscript: adjusted result object for sequential execution.
	[091473d12b22]

2008-12-29  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[61bdad87a347]

2008-12-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-result.c, src/testsuite/testsuite-
	result.c, tests/execute/actions.svtest,
	tests/extensions/imapflags/execute.svtest,
	tests/extensions/reject/execute.svtest,
	tests/extensions/vacation/execute.svtest:
	Testsuite: added basic result execution tests for various
	extensions.
	[a3db8c51ef35]

	* src/lib-sieve/sieve-result.h, src/testsuite/Makefile.am,
	src/testsuite/ext-testsuite.c, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite-result.c,
	src/testsuite/testsuite-result.h, src/testsuite/tst-test-result-
	execute.c, tests/extensions/enotify/execute.svtest:
	Testsuite: added support for executing results.
	[7b6167bd595c]

	* src/testsuite/tst-test-compile.c, src/testsuite/tst-test-execute.c,
	src/testsuite/tst-test-script-compile.c, src/testsuite/tst-test-
	script-run.c:
	Testsuite: forgot committing rename in previous commit.
	[f8e21027c484]

	* src/testsuite/Makefile.am, src/testsuite/ext-testsuite.c,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/tst-test-result.c, tests/compile/compile.svtest,
	tests/compile/errors.svtest, tests/compile/examples.svtest,
	tests/execute/actions.svtest, tests/execute/errors.svtest,
	tests/extensions/enotify/errors.svtest,
	tests/extensions/enotify/execute.svtest,
	tests/extensions/imapflags/execute.svtest,
	tests/extensions/include/errors.svtest,
	tests/extensions/regex/errors.svtest,
	tests/extensions/reject/execute.svtest,
	tests/extensions/relational/errors.svtest,
	tests/extensions/vacation/errors.svtest,
	tests/extensions/vacation/execute.svtest,
	tests/extensions/variables/errors.svtest, tests/testsuite.svtest:
	Testsuite: renamed script compile and run commands to be more
	intuitive.
	[f52cf8c2e033]

	* src/lib-sieve/sieve-code.c, src/testsuite/Makefile.am, src/testsuite
	/ext-testsuite.c, src/testsuite/testsuite-arguments.c, src/testsuite
	/testsuite-arguments.h, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-substitutions.c, src/testsuite/testsuite-
	substitutions.h, tests/testsuite.svtest:
	Testsuite: started implementing support for testsuite-specific
	string substitutions.
	[93c9cf02290f]

	* src/lib-sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-
	commands.c, src/lib-sieve/sieve-commands.h:
	Exported variable string argument into the Sieve engine itself as
	'catenated string' (for similar use in other extensions like the
	testsuite).
	[0b0b3ab3967f]

	* src/lib-sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-code.c,
	src/lib-sieve/sieve-code.h:
	Exported variable string operand into the Sieve engine itself as
	'catenated string' (for similar use in other extensions like the
	testsuite).
	[75d44b76a63e]

	* TODO:
	Updated TODO.
	[4da90917e551]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: mailto: forgot to add 'from' header to list of reserved
	headers.
	[504ba37c919c]

	* TODO:
	Updated TODO list.
	[da6447787785]

	* Makefile.am, TODO, configure.in, dsieve-config.h.in, src/lib-
	sieve/Makefile.am, src/lib-sieve/plugins/Makefile.am, src/lib-sieve
	/sieve-extensions.c:
	Enotify: added enotify extension to default compile.
	[1a69b463d9ad]

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: mailto: enforced limits on number of recipients and
	headers.
	[78fdf4f59ff2]

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c,
	tests/extensions/enotify/errors.svtest,
	tests/extensions/enotify/errors/uri-mailto.sieve:
	Enotify: mailto: finished URI parsing.
	[30a272720d99]

2008-12-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: mailto: fixed various bugs introduced by previous
	enthousiastic commit.
	[bfc6b485e5bc]

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: mailto: added check for duplicates of unique headers in the
	mailto URI.
	[92b60e522c1e]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: previous change did not distinguish Cc recipients.
	[4eded3dc6a8a]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: added check for duplicate recipients within URI.
	[453e9f5ab425]

	* TODO:
	Updated TODO.
	[6b666e5ef348]

	* src/lib-sieve/plugins/enotify/ext-enotify-common.c:
	Enotify: added FIXME.
	[ee257412d8ba]

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h:
	Enotify: added runtime support for options and performed some minor
	cleanups.
	[08b6a2984d57]

	* TODO, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, tests/extensions/enotify/errors.svtest,
	tests/extensions/enotify/errors/options.sieve:
	Enotify: added parsing support for the :options argument.
	[e7c9fab2e100]

	* src/lib-sieve/sieve-extensions.c:
	Fixed semantic bug in extension handling.
	[e806506c8e7c]

	* src/lib-sieve/sieve-extensions.c:
	Fixed segfault bug in extension handling.
	[f7666442e384]

	* src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/enotify/ntfy-
	mailto.c, src/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve
	/sieve-message.c, src/lib-sieve/sieve-message.h:
	Moved new_message_id function to sieve-message.c where it is more
	appropriate.
	[acf8bc97e74c]

	* README, src/lib-sieve/plugins/enotify/ext-enotify.c:
	Updated documentation.
	[b577aab39b21]

2008-12-25  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[7de9c6687512]

	* Makefile.am, TODO, src/lib-sieve/plugins/enotify/ext-enotify-
	common.c, src/lib-sieve/plugins/enotify/ext-enotify-common.h, src
	/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h, src/lib-
	sieve/plugins/enotify/tst-notify-method-capability.c,
	tests/extensions/enotify/notify_method_capability.svtest,
	tests/extensions/enotify/valid-notify-method.svtest,
	tests/extensions/enotify/valid_notify_method.svtest:
	Enotify: implemented notify_method_capability test.
	[33c97930469f]

	* TODO, src/lib-sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/tst-valid-notify-method.c, tests/extensions/enotify/errors.svtest,
	tests/extensions/enotify/errors/uri-mailto.sieve,
	tests/extensions/enotify/errors/uri.sieve,
	tests/extensions/enotify/errors/url-mailto.sieve,
	tests/extensions/enotify/errors/url.sieve, tests/extensions/enotify
	/valid-notify-method.svtest:
	Enotify: implemented the valid_notify_method test.
	[c504a425e11d]

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/enotify/ext-enotify-common.c, src
	/lib-sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-dump.c, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-
	binary-dumper.c, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	code-dumper.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve
	/sieve-generator.c, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-match-types.c, src/lib-sieve/sieve-message.c, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-validator.c, src/testsuite/ext-
	testsuite.c:
	Simplified handling of extension ids.
	[91a1ac721a68]

	* src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-
	numeric.c, src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/enotify/vmodf-encodeurl.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/regex
	/ext-regex-common.c, src/lib-sieve/plugins/relational/ext-
	relational-common.c, src/lib-sieve/plugins/subaddress/ext-
	subaddress.c, src/lib-sieve/plugins/variables/ext-variables-
	modifiers.c, src/lib-sieve/sieve-address-parts.c, src/lib-sieve
	/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	extensions.h, src/lib-sieve/sieve-match-types.c, src/lib-sieve
	/sieve-objects.c, src/testsuite/testsuite-objects.c, src/testsuite
	/testsuite-objects.h:
	Renamed extension object registry.
	[0d7c3b514b9d]

2008-12-21  Stephan Bosch  <stephan@rename-it.nl>

	* Merged concurrent changes.
	[6e22db2771a9]

	* TODO, doc/man/sieve-test.1, doc/man/sievec.1, src/lib-sieve-tool
	/sieve-tool.c, src/lib-sieve/sieve-extensions.c, src/lib-sieve
	/sieve-extensions.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-tools/sieve-
	test.c, src/sieve-tools/sievec.c:
	Implemented support for configuring the available extensions.
	[fb0ba83175f5]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation: changed location of X-Sieve header.
	[0760764e19ce]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation: last change used wrong address.
	[481a04fbfa9c]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation: properly implemented use of :from address argument.
	[51b40d48e6ea]

	* src/lib-sieve/sieve-address.c:
	Fixed accidental paste in sieve-address.c.
	[baab6e581455]

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve
	/sieve-address.c, src/lib-sieve/sieve-address.h,
	tests/extensions/enotify/errors.svtest,
	tests/extensions/enotify/errors/url-mailto.sieve:
	Enotify: added recipient verification and implemented proper To and
	Cc header composition.
	[05b5b209c013]

	* tests/extensions/enotify/errors/from-mailto.sieve:
	Enotify: forgot to add new file to the test suite.
	[41cef5314a94]

	* TODO, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, tests/extensions/enotify/errors.svtest:
	Enotify: implemented verification of the :from address.
	[52ec54e6d86a]

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h:
	Enotify: made log struct name shorter.
	[595a03fe94c5]

	* src/lib-sieve/rfc2822.c:
	Fixed compiler warning about signed char.
	[e8f9a89974cd]

	* src/lib-sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: corrected mailto URI error messages.
	[3e4bb8701786]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: cleaned up URI error handling.
	[543b25d99edf]

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, src/lib-sieve/sieve-actions.c, src/lib-sieve
	/sieve-actions.h, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-
	error.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h,
	src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-script.h:
	Enotify: shielded most of the method API from compiler internals.
	[996e60017ae1]

2008-12-20  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: added owner email to auto-submitted header.
	[c2568b13b4c5]

2008-12-19  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[4b85554381de]

	* src/lib-sieve/sieve-lexer.c:
	Small cosmetic changes to lexer sources.
	[304d0952005f]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: mailto: excluded body 'header' in URI from the header field
	body verification.
	[675dcf5550b8]

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/rfc2822.c, src/lib-sieve/rfc2822.h:
	Enotify: mailto: implemented verification of (unstructured) header
	field bodies and improved URI syntax checking.
	[6993557e1579]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/tst-exists.c:
	Substituted mail_get_headers for mail_get_headers_utf8 for those
	occasions where utf8 is of no concern.
	[33ff0356a8d0]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/plugins/copy/ext-copy.c,
	src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src
	/lib-sieve/sieve-result.c:
	Improved result execution and prevented failure on store action on
	dry run (with no specified namespace).
	[85fbe163f73e]

	* TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: avoided sending notifications on auto-submitted messages.
	[03ba5acfb863]

	* src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	validator.c:
	Adapted to changes in the Dovecot API.
	[e290c9a5b8d1]

2008-12-18  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Merged concurrent changes.
	[7c970d2e18c4]

	* TODO:
	Updated TODO: listed what remains to be done for the enotify
	extension and its mailto method.
	[b502f54d24ea]

	* doc/rfc/draft-ietf-sieve-notify-mailto-09.txt, doc/rfc/draft-ietf-
	sieve-notify-mailto-10.txt:
	Updated enotify:mailto draft RFC.
	[a9992d1abeb1]

2008-12-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: mailto: added filtering of reserved headers.
	[2dc8040cc0ca]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: changed notify message to match the latest draft
	specification better (not yet compliant).
	[78088c8352ee]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: now using new message composition functions.
	[5105e03885bd]

	* src/sieve-tools/sieve-exec.c:
	Fixed message typo in sieve-exec tool.
	[8aeef1355af5]

	* src/lib-sieve/ext-reject.c, src/lib-sieve/rfc2822.c:
	Reject: now using new message composition functions.
	[2c8c7d6c51e0]

	* configure.in:
	Change to configure.in caused compile error.
	[0285d0ef1b5a]

	* configure.in:
	Fixed bug in configure script that emitted Dovecot version in config
	header in stead of Sieve version.
	[33b8e83d57d0]

	* src/lib-sieve/cmd-redirect.c:
	Added X-Sieve header to redirected messages.
	[073514b8b521]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation: now using new message composition functions.
	[46f1c431076a]

	* src/lib-sieve/rfc2822.c, src/lib-sieve/rfc2822.h:
	Created basic internet mail message composition functionality.
	[f6ae429a7256]

	* Makefile.am, TODO, src/lib-sieve/plugins/enotify/ntfy-mailto.c, src
	/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/rfc2822.c,
	src/lib-sieve/rfc2822.h, tests/extensions/vacation/references.sieve,
	tests/extensions/vacation/references.svtest:
	Vacation: added support for properly updating references header.
	[12399f096262]

2008-12-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: implemented basic notify mailto: execution.
	[71a3f5b90533]

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h:
	Enotify: implemented construction and printing of action object.
	[ae144360043a]

	* src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h:
	Enotify: implemented runtime part.
	[84c05cf58119]

2008-12-12  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: restructured mailto url parsing to use arrays for the
	results.
	[e02c5e441ca2]

	* Makefile.am, src/lib-sieve/plugins/enotify/ntfy-mailto.c,
	tests/extensions/enotify/errors.svtest,
	tests/extensions/enotify/errors/url-mailto.sieve,
	tests/extensions/enotify/errors/url.sieve:
	Enotify: added verification of header field names in mailto url.
	[9972da3b72b5]

2008-12-10  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-reject.c:
	Reject: improved message rejection log message.
	[2758742b1a0f]

2008-12-09  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/rfc2822.c, src/lib-sieve/rfc2822.h, src/lib-
	sieve/sieve-commands.c, src/lib-sieve/sieve-commands.h, src/lib-
	sieve/tst-address.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-
	header.c, tests/compile/warnings/invalid-headers.sieve:
	Compiler now warns about syntactically invalid header field names.
	[67f94b204982]

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-commands.c, src/lib-
	sieve/sieve-commands.h, src/lib-sieve/tst-truefalse.c:
	Exported true and false commands to separate file.
	[fae455ed3f25]

2008-11-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-extensions.c:
	Fixed bug in improved capability string composition.
	[6f2f1b51ce19]

	* src/lib-sieve/plugins/enotify/ext-enotify-limits.h, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c:
	Enotify: further developed URI parsing.
	[e0f21b538123]

	* src/lib-sieve/Makefile.am, src/lib-sieve/rfc2822.c, src/lib-
	sieve/rfc2822.h:
	Added support for header verification.
	[5661acb85286]

	* src/lib-sieve/plugins/enotify/ntfy-mailto.c,
	tests/extensions/enotify/basic.svtest:
	Enotify: implemented coarse mailto URI parsing.
	[f7fba9671c6b]

	* doc/rfc/draft-duerst-mailto-bis-05.txt:
	Added new draft-bis version of mailto RFC to doc/rfc.
	[cbecc1c67646]

	* src/lib-sieve/sieve-extensions.c:
	Activated unload handler for extensions.
	[478f0bcdb6ff]

	* src/lib-sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/cmd-notify.c, src/lib-sieve/plugins/enotify
	/ext-enotify-common.c, src/lib-sieve/plugins/enotify/ext-enotify-
	common.h, src/lib-sieve/plugins/enotify/ext-enotify-limits.h, src
	/lib-sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, tests/extensions/enotify/execute.svtest:
	Enotify: implemented uri scheme verification.
	[0572076ad26f]

2008-11-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/enotify/ext-enotify-common.c, src
	/lib-sieve/plugins/enotify/ext-enotify.c, src/lib-
	sieve/plugins/enotify/ntfy-mailto.c, src/lib-sieve/plugins/enotify
	/sieve-ext-enotify.h, src/lib-sieve/plugins/imapflags/ext-
	imapflags.c, src/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/relational
	/ext-relational.c, src/lib-sieve/plugins/subaddress/ext-
	subaddress.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve
	/sieve-match-types.c, src/testsuite/ext-testsuite.c:
	Added unload method to extension object.
	[27b8f617ddd9]

2008-11-28  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Reprioritized TODO.
	[cbe0a7182be8]

2008-11-26  Stephan Bosch  <stephan@rename-it.nl>

	* .hgtags:
	Added tag 0.1.2 for changeset f01fe5f1e816
	[ec695f863a30]

	* .hgtags:
	Added tag 0.1.1 for changeset e534276ecf10
	[f01fe5f1e816] [0.1.2]

	* NEWS, configure.in:
	Released v0.1.2 for Dovecot v1.2.alpha4.
	[3f1ca3de6312]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation: improved log message for discarded vacation response.
	[346b7c072b0a]

	* src/lib-sieve/sieve-result.c:
	Fixed bug in the handling of context during result execution, which
	resulted in broken redirect action.
	[28e3144b79d1]

2008-11-25  Stephan Bosch  <stephan@rename-it.nl>

	* configure.in:
	Released v0.1.1 for Dovecot v1.2.alpha4.
	[e534276ecf10] [0.1.1]

2008-11-24  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS:
	Updated NEWS file.
	[4dfeda80d78d]

2008-11-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/ext-enotify-common.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/plugins/enotify
	/ntfy-mailto.c, src/lib-sieve/sieve-address.c, src/lib-sieve/sieve-
	address.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-
	extensions.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h:
	Added registry for extension capabilities like the available notify
	methods and adjusted the enotify extension accordingly.
	[007bb75439a8]

2008-11-21  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/i-ascii-numeric.rfc2244.txt, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/rfc2244.txt:
	Forgot to move RFC 2244 to proper place in doc/rfc.
	[9605841f6f27]

	* Makefile.am, doc/rfc/uri.rfc3986.txt, src/lib-sieve/plugins/enotify
	/vmodf-encodeurl.c, tests/extensions/enotify/encodeurl.svtest:
	Enotify: implemented :encodeurl variables modifier.
	[68bae1330f0c]

	* TODO:
	Added TODO item.
	[2ab9a8390108]

	* src/lib-sieve-tool/mail-raw.c, src/lib-sieve-tool/sieve-tool.c, src
	/lib-sieve/sieve-actions.c, src/sieve-tools/sieve-exec.c, src/sieve-
	tools/sieve-test.c, src/testsuite/testsuite.c:
	Adapted to changes in the mailbox_open() API.
	[def28c3fc40c]

2008-11-20  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am:
	Merged concurrent changes.
	[0cdeefe057f7]

	* doc/rfc/mailto.rfc2368.txt, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-sieve/plugins/enotify
	/cmd-notify.c, src/lib-sieve/plugins/enotify/ntfy-mailto.c, src/lib-
	sieve/plugins/enotify/sieve-ext-enotify.h, src/lib-
	sieve/plugins/enotify/vmodf-encodeurl.c:
	Enotify: copied action implementation from old plugin.
	[f4a1cf59f9ce]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/plugins/lda-sieve/lda-
	sieve-plugin.c:
	Fixed error handling of actions that send mail.
	[eb88535b1b04]

2008-11-16  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/draft-ietf-sieve-notify-mailto-09.txt:
	Added notify mailto draft.
	[c32f0e1a2ab1]

	* src/lib-sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/plugins/enotify
	/vmodf-encodeurl.c, src/lib-sieve/plugins/variables/ext-variables-
	common.c, src/lib-sieve/plugins/variables/ext-variables-common.h,
	src/lib-sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h,
	tests/extensions/enotify/execute.svtest:
	Enotify: finished skeleton by addin empty :encodeurl implementation.
	[1468452b4a29]

	* Makefile.am, tests/extensions/enotify/execute.svtest,
	tests/extensions/enotify/execute/draft-rfc-ex1.sieve,
	tests/extensions/enotify/execute/draft-rfc-ex2.sieve,
	tests/extensions/enotify/execute/draft-rfc-ex3.sieve,
	tests/extensions/enotify/execute/draft-rfc-ex5.sieve,
	tests/extensions/enotify/execute/draft-rfc-ex6.sieve:
	Testsuite: added draft RFC examples as execution tests.
	[45464b463539]

2008-11-20  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, configure.in, src/lib-sieve/plugins/include/ext-
	include-binary.c, src/lib-sieve/plugins/include/ext-include-
	common.c, src/lib-sieve/plugins/include/ext-include.c, src/lib-sieve
	/sieve-binary.c, src/lib-sieve/sieve-binary.h:
	Enabled (optional) support for Valgrind in the testsuite and fixed a
	few intricate bugs in the process.
	[0d0571b7b81c]

2008-11-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve-tool/sieve-tool.c:
	Changed acquisition of usernames in sieve command line tools.
	[4fcbcffe14c3]

	* tests/header.svtest:
	Testsuite: added test for header folding.
	[bca59633ce16]

	* src/lib-sieve-tool/mail-raw.c:
	Fixed bug in mail_raw implementation: mail_namespaces_deinit() must
	not be called explicitly for v1.2.
	[d9a73ee95b2c]

2008-11-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c:
	Previous change did not compile.
	[80aa797d9521]

	* src/lib-sieve/sieve-actions.c:
	Matched changes in Dovecot to properly handle/ignore the new mailbox
	ACL support.
	[0e7868a06c20]

2008-11-15  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-variables.c:
	Merged concurrent changes.
	[d999e9b1f138]

	* src/lib-sieve/plugins/include/ext-include-variables.c:
	Include: fixed bug in import/export commands.
	[49b0d4a70dab]

	* src/lib-sieve/plugins/include/ext-include-variables.c:
	Fixed small indentation error.
	[dbef1b96761a]

2008-11-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-script.c:
	Fixed bug in handling of non-existent scripts.
	[bb9602e98abb]

	* NEWS:
	Prepared NEWS file for next release.
	[ce33eb8c29d3]

	* INSTALL, README:
	Slightly improved documentation.
	[e957f2fc38ef]

2008-11-12  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-code.c, src
	/lib-sieve/sieve-code.h, src/lib-sieve/sieve-validator.c:
	Imap4flags: fixed bug in the handling of the internal variable.

	Previously the final value of internal variable was for every store
	action that didn't specify a :flags argument explicitly. This
	results in out-of order assignment/removal of flags, e.g. also the
	flags assigned keep actions that were executed before the
	addflag/setflag command were modified.
	[94ad1f1aa91b]

	* TODO:
	Updated TODO.
	[56ddfa9b2d3b]

	* README:
	Removed man page issue from README file.
	[b9a138e1a781]

	* README:
	Updated README.
	[f4a59b2c82b2]

	* Makefile.am, doc/man/sieve-test.1:
	Created man page for the sieve-test command.
	[f4c64a82078b]

2008-11-11  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, doc/man/sieved.1:
	Created man page for the sieved command.
	[837bc0ccab02]

	* Makefile.am:
	Enabled installation of man pages.
	[6439050d232d]

	* src/lib-sieve/Makefile.am:
	Forgot to add new sieve-config.h to the distribution.
	[9fa6336ed90c]

	* doc/man/sievec.1:
	Created (currently uninstalled) man page for the sievec command.
	[95478625a6ce]

	* Makefile.am:
	Testsuite: fail with informative error if compiled against dovecot
	headers only.
	[4510184ed680]

	* configure.in, src/Makefile.am:
	Re-enabled support for compiling against Dovecot headers.
	[36e00217bdd2]

2008-11-10  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/plugins/enotify
	/tst-notify-method-capability.c:
	Enotify: added skeleton implementation of notify_method_capability
	test.
	[89259cdff750]

2008-11-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/enotify/Makefile.am, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/plugins/enotify
	/tst-valid-notify-method.c, tests/extensions/enotify/basic.svtest:
	Enotify: added skeleton implementation of valid_notify_method test.
	[c9a597e248ab]

2008-11-07  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/plugins/enotify/cmd-notify.c, src/lib-
	sieve/plugins/enotify/ext-enotify-common.h, src/lib-
	sieve/plugins/enotify/ext-enotify.c, src/lib-sieve/sieve-ast.c, src
	/lib-sieve/sieve-ast.h, tests/extensions/enotify/basic.svtest:
	Enotify: implemented skeleton for the notify command.
	[a004b31bcc08]

2008-11-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-extensions.c:
	ENotify: activated empty implementation.
	[63e099d7edf7]

	* .hgignore, configure.in, dsieve-config.h.in, src/lib-
	sieve/Makefile.am, src/lib-sieve/sieve-common.h, src/lib-sieve
	/sieve-config.h, src/lib-sieve/sieve-types.h, src/lib-sieve/sieve.h:
	Started using autoconf output.
	[c5ff061ac5f4]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-keep.c, src/lib-sieve
	/ext-fileinto.c, src/lib-sieve/sieve-actions.h:
	Added UTF-8 to modified UTF-7 folder name conversion for
	compatibility with IMAP.
	[fc0395d50d04]

	* .hgignore, src/sieve-tools/sieve-exec, src/sieve-tools/sieve-test,
	src/sieve-tools/sievec, src/sieve-tools/sieved:
	Accidentally added binaries for sieve tools.
	[99b09b8a310a]

2008-11-01  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/draft-ietf-sieve-notify-12.txt, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-sieve/plugins/enotify
	/cmd-notify.c, src/lib-sieve/plugins/enotify/ext-enotify-common.h,
	src/lib-sieve/plugins/enotify/ext-enotify.c:
	Enotify: built skeleton for the notify command.
	[482517b70a32]

	* README, TODO, configure.in, src/Makefile.am, src/lib-sieve-
	tool/Makefile.am, src/lib-sieve-tool/mail-raw.c, src/lib-sieve-tool
	/mail-raw.h, src/lib-sieve-tool/sieve-tool.c, src/lib-sieve-tool
	/sieve-tool.h, src/lib-util/Makefile.am, src/lib-util/mail-raw.c,
	src/lib-util/mail-raw.h, src/sieve-bin/Makefile.am, src/sieve-bin
	/bin-common.c, src/sieve-bin/bin-common.h, src/sieve-bin/sieve-
	exec.c, src/sieve-bin/sieve-test.c, src/sieve-bin/sievec.c, src
	/sieve-bin/sieved.c, src/sieve-tools/Makefile.am, src/sieve-tools
	/sieve-exec, src/sieve-tools/sieve-exec.c, src/sieve-tools/sieve-
	test, src/sieve-tools/sieve-test.c, src/sieve-tools/sievec, src
	/sieve-tools/sievec.c, src/sieve-tools/sieved, src/sieve-
	tools/sieved.c, src/testsuite/Makefile.am,
	src/testsuite/testsuite.c:
	Removed code duplication between testsuite and commandline tools.
	Also restructured source code of the tools.
	[bf8ca24d25ef]

2008-10-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-bin/Makefile.am, src/sieve-bin/namespaces.c, src/sieve-
	bin/namespaces.h, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-
	test.c, src/testsuite/Makefile.am, src/testsuite/namespaces.c,
	src/testsuite/namespaces.h, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite.c:
	Removed now obsolete namespaces.c/h from testsuite and commandline
	tools.
	[937eb9e8e043]

	* src/sieve-bin/Makefile.am, src/sieve-bin/namespaces.c,
	src/testsuite/Makefile.am, src/testsuite/namespaces.c:
	Enabled all available mail storage types (those compiled in Dovecot)
	for the commandline tools and the testsuite.
	[3d96a883bda0]

	* configure.in, src/Makefile.am, src/lib-util/Makefile.am, src/lib-
	util/mail-raw.c, src/lib-util/mail-raw.h, src/sieve-bin/Makefile.am,
	src/sieve-bin/bin-common.c, src/sieve-bin/mail-raw.c, src/sieve-bin
	/mail-raw.h, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-test.c,
	src/testsuite/Makefile.am, src/testsuite/mail-raw.c, src/testsuite
	/mail-raw.h, src/testsuite/testsuite-common.c:
	Merged mail-raw implementations of sieve commandline tools and the
	testsuite, thus removing duplicate code.
	[7e82c26a38bd]

	* src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/sieve-bin/bin-common.c:
	Made lda plugin properly refer to the main script as 'main script'
	and not the basename of the sieve file (which is of no interest to
	the user for the main script).
	[bc09d2616c36]

	* src/lib-sieve/sieve-script.c, src/plugins/lda-sieve/lda-sieve-
	plugin.c:
	Improved logging of failed script load.
	[32c0b5cc77af]

2008-10-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c:
	Now using folder name as specified by user in log messages in stead
	of internal representation.
	[5d6f65468c6d]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Added mail_debug messages to plugin to find problems in the sieve
	path specification more easily.
	[91a3f25c3df5]

	* TODO:
	Added TODO item.
	[747107b816dc]

	* src/sieve-bin/sievec.c:
	Command sievec -d always wrote to std out.
	[e92ec8bbd16a]

	* src/sieve-bin/bin-common.c, src/testsuite/testsuite.c:
	Fixed missing mask argument in two open calls (bug found by Sergey
	Ivanov).
	[8dcba4f38a67]

2008-10-25  Stephan Bosch  <stephan@rename-it.nl>

	* configure.in, src/lib-sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/enotify/Makefile.am, src/lib-sieve/plugins/enotify
	/ext-enotify.c:
	Started development of enotify extension.
	[85d6ef932c4f]

2008-10-23  Stephan Bosch  <stephan@rename-it.nl>

	* .hgtags:
	Added tag 0.1.0 for changeset 065c12acdcc0
	[b7d9c5e026b6]

	* TODO, configure.in:
	Released v0.1.0 for Dovecot v1.2.alpha3.
	[065c12acdcc0] [0.1.0]

	* AUTHORS, NEWS, README:
	Minor revisions to the package documentation.
	[9e487fec9dce]

2008-10-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-types.h:
	Fixed warning caused by mixup between mail_storage and
	sieve_storage.
	[aa3e90f621b1]

	* src/lib-sieve/sieve-actions.c:
	Improved execution of store action.
	[2877fa93580c]

2008-10-21  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-types.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c:
	Properly set storage_r in plugin function to prevent double errors.
	[a679d84dff88]

2008-10-20  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-result.c:
	Prevented transaction context from becoming NULL in execution of
	store action.
	[2402b1499813]

	* src/lib-sieve/sieve-result.c:
	Fixed context handling bug in the result execution.
	[a88276bff812]

2008-10-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-validator.c, tests/compile/errors.svtest,
	tests/compile/errors/typos.sieve:
	Clarified errors occurring when colon is missing.
	[3366b70ef4e3]

	* src/lib-sieve/sieve-validator.c, tests/compile/errors.svtest:
	Corrected error message.
	[84dfe8d5a47a]

	* README, src/lib-sieve/sieve-validator.c,
	tests/compile/errors.svtest:
	Clarified error messages for missing semicolon.
	[b78529976e65]

	* Makefile.am, src/lib-sieve/plugins/body/Makefile.am, src/lib-
	sieve/plugins/body/body.sieve, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/Makefile.am, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/cmp-i-ascii-numeric.sieve, src/lib-
	sieve/plugins/copy/Makefile.am, src/lib-
	sieve/plugins/copy/copy.sieve, src/lib-
	sieve/plugins/imapflags/Makefile.am, src/lib-
	sieve/plugins/imapflags/imapflags-2.sieve, src/lib-
	sieve/plugins/imapflags/imapflags-errors.sieve, src/lib-
	sieve/plugins/imapflags/imapflags-implicit.sieve, src/lib-
	sieve/plugins/imapflags/imapflags-variables.sieve, src/lib-
	sieve/plugins/imapflags/imapflags.sieve, src/lib-
	sieve/plugins/regex/Makefile.am, src/lib-
	sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/relational/relational.sieve, src/lib-
	sieve/plugins/subaddress/Makefile.am, src/lib-
	sieve/plugins/subaddress/subaddress.sieve, src/lib-
	sieve/plugins/vacation/Makefile.am, src/lib-sieve/plugins/vacation
	/vacation-errors.sieve, src/lib-
	sieve/plugins/vacation/vacation.sieve, src/lib-
	sieve/plugins/variables/Makefile.am, src/lib-sieve/plugins/variables
	/variables-errors.sieve, src/lib-sieve/plugins/variables/variables-
	match.sieve, src/lib-sieve/plugins/variables/variables-nspace.sieve,
	src/lib-sieve/plugins/variables/variables-regex.sieve, src/lib-
	sieve/plugins/variables/variables.sieve, src/testsuite/Makefile.am:
	Repaired 'make dist' tarball output.
	[28b57e7024b7]

	* INSTALL, README, configure.in:
	Revised README.
	[dd3cdd379693]

	* TODO, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h,
	src/testsuite/Makefile.am, src/testsuite/ext-testsuite.c,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-result.c, src/testsuite/testsuite-result.h,
	src/testsuite/tst-test-error.c, src/testsuite/tst-test-result.c,
	tests/execute/actions.svtest, tests/execute/actions/fileinto.sieve,
	tests/execute/actions/redirect.sieve,
	tests/extensions/reject/execute.svtest,
	tests/extensions/vacation/execute.svtest,
	tests/extensions/vacation/execute/action.sieve:
	Testsuite: added support for basic result checking.
	[ff43885270f0]

	* TODO, doc/rfc/RFC Controversy.txt, doc/rfc/RFC-questions.txt:
	Reported RFC questions to the ietf-mta-filters mailinglist.
	[c878efb32b9d]

	* TODO, src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/regex/mcht-regex.c, src/lib-sieve/sieve-comparators.c,
	tests/compile/errors.svtest, tests/compile/errors/unsupported.sieve:
	Added explicit messages and tests for unsupported use of variables.
	[6d1c5ca0d75c]

2008-10-12  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[56dc772ca475]

	* TODO, src/lib-sieve/plugins/variables/ext-variables-dump.c:
	Fixed TODO: made sure main scope used in variables dumping is
	unreferenced when code dumper is freed.
	[58f57ad4f723]

	* TODO:
	Tested replacing cmusieve with sieve.
	[3a82ec3361db]

	* src/lib-sieve/sieve-binary.c:
	Function t_str_new_const got moved to its proper place in Dovecot.
	[7f5fc7f2e8cc]

2008-10-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-code-
	dumper.h:
	Added extension support to code dumper.
	[59f5b7074e34]

	* src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/sieve-binary.c, src/lib-sieve/sieve-parser.c:
	Removed/solved minor TODOs.
	[f16ab5f94f51]

	* TODO:
	Merged concurrent changes.
	[d061ae363863]

	* TODO, src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/variables
	/ext-variables-dump.c, src/lib-sieve/plugins/variables/sieve-ext-
	variables.h:
	Variables/Include: added support for dumping variables declared in
	extension scopes.
	[d514f5e3a5f4]

2008-10-09  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/sieve-error.c:
	Fixed amd64 logging segfault; turns out using same va_args in
	multiple vprintf calls is not possible.
	[139edcdd3820]

2008-10-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-actions.c:
	Added support for mailbox autocreate and autosubscribe.
	[79da56ccfdc5]

	* TODO, src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src
	/lib-sieve/plugins/include/ext-include-common.c, src/lib-sieve
	/sieve-actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-
	sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-sieve
	/sieve-types.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-bin/sieve-
	exec.c, src/sieve-bin/sieve-test.c, src/testsuite/testsuite-
	common.c, src/testsuite/testsuite.c:
	Made plugin use tried_default_save indicator to prevent duplicate
	error messages.
	[f0a7278c5645]

2008-10-04  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO.
	[0896583c34c1]

2008-09-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables-dump.c, src/lib-
	sieve/plugins/variables/ext-variables-dump.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-sieve/sieve-
	code-dumper.c, src/lib-sieve/sieve-code-dumper.h:
	Variables: added identifier dump support for main scope.
	[87841459a7ee]

2008-09-18  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables-dump.c, src/lib-
	sieve/plugins/variables/ext-variables-dump.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-code-
	dumper.c, src/lib-sieve/sieve-code-dumper.h:
	Variables: added dumptime context.
	[7cd99ac6219f]

2008-09-15  Stephan Bosch  <stephan@rename-it.nl>

	* Merged concurrent changes.
	[f61d20c07954]

2008-09-14  Stephan Bosch  <stephan@rename-it.nl>

	* NEWS:
	Started NEWS file.
	[32f5a1ed47c6]

	* DESIGN, Makefile.am, doc/devel/DESIGN:
	Moved design description to doc/devel directory.
	[1673630bb79d]

	* README, examples/elvey.sieve, examples/jerry.sieve,
	examples/mjohnson.sieve, examples/mklose.sieve,
	examples/relational.rfc5231.sieve, examples/rfc3028.sieve,
	examples/sanjay.sieve, examples/sieve_examples.sieve,
	examples/subaddress.rfc5233.sieve, examples/vacation.sieve,
	examples/vivil.sieve, sieve/examples/elvey.sieve,
	sieve/examples/jerry.sieve, sieve/examples/mjohnson.sieve,
	sieve/examples/mklose.sieve,
	sieve/examples/relational.rfc5231.sieve,
	sieve/examples/rfc3028.sieve, sieve/examples/sanjay.sieve,
	sieve/examples/sieve_examples.sieve,
	sieve/examples/subaddress.rfc5233.sieve,
	sieve/examples/vacation.sieve, sieve/examples/vivil.sieve,
	sieve/tests/actions.sieve, sieve/tests/address-part.sieve,
	sieve/tests/basic.sieve, sieve/tests/comparator.sieve, sieve/tests
	/encoded-character.sieve, sieve/tests/envelope.sieve,
	sieve/tests/extensions.sieve, sieve/tests/if.sieve, sieve/tests
	/match-type.sieve, sieve/tests/matches.sieve,
	sieve/tests/stop.sieve, sieve/tests/vacation.sieve,
	tests/compile/examples.svtest:
	Restructured Sieve example scripts.
	[a1962f923e34]

	* Makefile.am, sieve/tests/fileinto.sieve, sieve/tests/redirect.sieve,
	tests/execute/actions.svtest, tests/execute/actions/fileinto.sieve,
	tests/execute/actions/redirect.sieve,
	tests/extensions/reject/execute.svtest:
	Testsuite: added execution tests for core actions (to find
	segfaults).
	[a1dd8113e9d3]

	* Makefile.am, sieve/tests/reject.sieve,
	tests/extensions/reject/execute.svtest,
	tests/extensions/reject/execute/basic.sieve:
	Testsuite: added trivial reject action execution test.
	[f319f06ede13]

2008-09-13  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/errors/address-errors.sieve, sieve/errors/address-part-
	errors.sieve, sieve/errors/encoded-character.sieve, sieve/errors
	/envelope-errors.sieve, sieve/errors/header-errors.sieve,
	sieve/errors/if-errors.sieve, sieve/errors/interesting.sieve,
	sieve/errors/keep-errors.sieve, sieve/errors/out-address-
	errors.sieve, sieve/errors/parse-errors.sieve, sieve/errors/require-
	errors.sieve, sieve/errors/size-errors.sieve, sieve/errors/stop-
	errors.sieve, sieve/errors/tag-errors.sieve,
	tests/compile/errors.svtest, tests/compile/errors/out-address.sieve,
	tests/compile/errors/tag.sieve:
	Testsuite: added final existing error tests.
	[08769a713018]

	* README:
	Improved README to be more readable.
	[e6c4a1fdfb42]

2008-09-12  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-error.c:
	Removed useless PTR_OFFSET from logfile error handler
	implementation.
	[6f8a49489e5e]

	* TODO:
	Added pre-release TODO item.
	[4b4ef898598d]

	* TODO, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-require.c, src
	/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/include/cmd-import.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/regex/mcht-regex.c, src/lib-
	sieve/plugins/relational/ext-relational-common.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/sieve-commands.h, src/lib-
	sieve/sieve-comparators.c, src/lib-sieve/sieve-match-types.c, src
	/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/tst-address.c, src/lib-sieve/tst-size.c, src/testsuite
	/testsuite-objects.c:
	Improved argument error reporting.
	[ad5905fa16bc]

	* src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve
	/sieve-commands.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-validator.c, src/lib-sieve
	/sieve-validator.h:
	Restructured error reporting in validator and code generator.
	[d54dfe15ad5f]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/tst-
	size.c, src/testsuite/tst-test-error.c:
	Fixed new ia64 warnings.
	[191eabe91f70]

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h:
	Fixed new ia64 warnings in sieve-code.
	[bc8e86291ec7]

	* src/lib-sieve/sieve-code.h:
	Fixed new ia64 warnings in sieve-code.
	[f655f4d28eb2]

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h:
	Fixed ia64 warnings in sieve-code.
	[4f2b18823f75]

	* src/lib-sieve/plugins/variables/ext-variables-arguments.c:
	Variables: fixed ia64 compiler warnings.
	[04859d48e9f6]

	* src/lib-sieve/sieve-error.c:
	Forgot to handle return value of o_stream_send in logfile error
	hander implementation.
	[50f6194d644e]

	* src/lib-sieve/sieve-error.c:
	Forgot O_TRUNC in logfile error handler's second logfile open()
	call.
	[9f7e64968d61]

	* src/lib-sieve/plugins/include/cmd-import.c:
	Include: improved trace verbosity for import command.
	[6618ab99e32a]

	* src/lib-sieve/plugins/include/cmd-import.c, src/lib-
	sieve/plugins/include/cmd-include.c, src/lib-sieve/plugins/include
	/ext-include-binary.c, src/lib-sieve/plugins/include/ext-include-
	variables.c, src/lib-sieve/plugins/variables/ext-variables-common.c,
	src/lib-sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-sieve
	/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-
	code-dumper.c, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-
	code.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	interpreter.c:
	Hopefully resolved various type cast warnings surfacing on ia_64 and
	not on i386.
	[0e9312deb8ea]

	* tests/address.svtest:
	Testsuite: added address test case for specific strange situation.
	[5bc7b863ba0b]

	* src/lib-sieve/plugins/relational/mcht-count.c:
	Relational: fixed portability issue in count match type (warning).
	[910812bf8e80]

2008-09-10  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated documentation.
	[11408405fac3]

	* TODO, src/lib-sieve/sieve-error.c:
	Devised simple log rotation to prevent per-user sieve processing
	logs to grow indefinitely.
	[9d42eeb8ce8f]

2008-09-09  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Updated TODO list.
	[a589169c1870]

	* TODO, src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/mcht-is.c, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/include/cmd-include.c, src
	/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/ext-
	variables-modifiers.c, src/lib-sieve/plugins/variables/ext-
	variables-operands.c, src/lib-sieve/plugins/variables/tst-string.c,
	src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-code-
	dumper.c, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h,
	src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/tst-address.c, src/lib-sieve/tst-exists.c,
	src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c, src/testsuite
	/cmd-test-fail.c, src/testsuite/cmd-test-set.c, src/testsuite/cmd-
	test.c, src/testsuite/testsuite-objects.c, src/testsuite/tst-test-
	compile.c, src/testsuite/tst-test-error.c:
	Improved byte code dumping to be more readable.
	[758155f2aab1]

	* TODO:
	Updated TODO file.
	[b9341f8c801e]

2008-09-07  Stephan Bosch  <stephan@rename-it.nl>

	* INSTALL, README, TODO:
	Updated documentation.
	[6628c1731333]

	* TODO:
	Removed redundant security issue listed in TODO.
	[05599a5b010b]

	* Makefile.am, TODO, src/lib-sieve/mcht-is.c, src/lib-sieve/sieve-
	address-parts.c, tests/address.svtest:
	Resolved handling of invalid addresses in headers for the most part.
	[0f3e2d8877e4]

	* TODO, src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Variables: made sure broken/malicious binary cannot allocate
	variable storage of arbitrary size.
	[1ce135869da6]

	* src/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c:
	Variables: added coding of variable scope.
	[511ac1c1864e]

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/imapflags/ext-imapflags.c, src
	/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/relational
	/ext-relational.c, src/lib-sieve/plugins/subaddress/ext-
	subaddress.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-code-dumper.c, src/lib-sieve
	/sieve-comparators.c, src/lib-sieve/sieve-extensions.c, src/lib-
	sieve/sieve-extensions.h, src/lib-sieve/sieve-interpreter.c, src
	/lib-sieve/sieve-match-types.c, src/testsuite/ext-testsuite.c:
	Added support for per-script extension intialization.
	[8ce3c35e05d7]

2008-09-06  Stephan Bosch  <stephan@rename-it.nl>

	* INSTALL, README:
	Reduced the severity of the warning indicating the experimental
	nature of this implementation.
	[ceea4bd93458]

	* TODO:
	Updated TODO.
	[a200a842fd4c]

2008-08-31  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-code-dumper.c:
	Minor cosmetic change to code dumping.
	[75828a2293e0]

	* src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-sieve/sieve-
	ast.c, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve/sieve-
	code-dumper.c, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve.c, src/testsuite/testsuite-
	common.c, src/testsuite/testsuite.c:
	Added the concept of a script code header to list the extensions
	actually used by a script (was using all extensions listed in the
	binary).
	[7be9b0d97e5f]

	* src/lib-sieve/cmd-require.c, src/lib-sieve/sieve-ast.c, src/lib-
	sieve/sieve-ast.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-validator.c:
	Revised implementation of the require command.
	[40c588255ef4]

	* Makefile.am, TODO, src/lib-sieve/plugins/vacation/cmd-vacation.c,
	tests/extensions/vacation/execute.svtest,
	tests/extensions/vacation/execute/no-handle.sieve:
	Vacation: properly implemented handling of variables vs. handle
	generation.
	[93fb21f7bc6b]

	* tests/extensions/imapflags/execute.svtest,
	tests/extensions/imapflags/execute/flags-side-effect.sieve:
	Forgot to add niet testsuite files.
	[aae56b7f1a47]

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h:
	Added support for runtime detection of variable strings.
	[6e1f1dcabba9]

	* TODO:
	Updated TODO.
	[7741fd1718b8]

	* Makefile.am, TODO, src/lib-sieve/cmd-keep.c, src/lib-
	sieve/plugins/copy/ext-copy.c, src/lib-sieve/plugins/imapflags/tag-
	flags.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	generator.c, src/lib-sieve/sieve-result.c:
	Imapflags: properly implemented handling of duplicate store actions
	with different :flags.
	[3ac7e031ebd0]

2008-08-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-redirect.c:
	Fixed assertion triggered at the end when redirect was executed
	before.
	[3ac9261ad66f]

	* src/sieve-bin/mail-raw.c, src/sieve-bin/mail-raw.h, src/sieve-bin
	/sieve-exec.c, src/sieve-bin/sieve-test.c:
	Incorporated changes in deliver into the mail-raw implementation of
	the sieve tools.
	[938996ab0023]

2008-08-26  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/imapflags/ext-imapflags-common.c:
	Imapflags: Added FIXME.
	[fd1281ef5eef]

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-redirect.c, src
	/lib-sieve/ext-reject.c, src/lib-sieve/plugins/vacation/cmd-
	vacation.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	result.c, src/lib-sieve/sieve-result.h, tests/execute/errors.svtest,
	tests/execute/errors/actions-limit.sieve, tests/execute/errors
	/redirect-limit.sieve:
	Implemented policy limit on the maximum number of redirect actions
	in a result.
	[c8524a9a370f]

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-limits.c, src/lib-
	sieve/sieve-limits.h, src/lib-sieve/sieve-result.c,
	tests/execute/errors.svtest, tests/execute/errors/actions-
	limit.sieve:
	Implemented limit on the number of actions active simultaneously.
	[a62a86f489d0]

	* src/lib-sieve/plugins/variables/ext-variables-common.c,
	tests/extensions/include/errors/action-conflicts.sieve,
	tests/extensions/include/errors/included/action-fileinto.sieve,
	tests/extensions/include/errors/included/action-reject.sieve,
	tests/extensions/include/errors/runtime.sieve:
	Include: fixed a stupid bug triggered when variables are not used.
	[48079cfe53f7]

	* tests/extensions/include/errors.svtest:
	Testsuite: activated runtime tests for the include extension.
	[73aa79ec006a]

	* Makefile.am, tests/extensions/vacation/errors.svtest,
	tests/extensions/vacation/errors/conflict-reject.sieve:
	Testsuite: added runtime error tests for vacation extension.
	[d32c37e395ce]

	* Makefile.am, tests/execute/errors.svtest, tests/execute/errors
	/action-conflicts.sieve, tests/execute/errors/conflict-reject-
	fileinto.sieve, tests/execute/errors/conflict-reject-keep.sieve,
	tests/execute/errors/conflict-reject-redirect.sieve:
	Testsuite: added simple runtime action conflict tests.
	[6bef60271972]

	* doc/rfc/draft-ietf-sieve-refuse-reject-07.txt:
	Installed refuse-reject draft RFC in doc/rfc directory.
	[c608ef17a086]

2008-08-25  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/errors/action-conflicts.sieve, sieve/errors/action-
	duplicates.sieve, src/lib-sieve/sieve-interpreter.c,
	src/testsuite/Makefile.am, src/testsuite/ext-testsuite.c,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite.c, src/testsuite/tst-test-execute.c,
	tests/execute/errors/action-conflicts.sieve, tests/execute/errors
	/action-duplicates.sieve:
	Testsuite: added support for testing runtime errors.
	[e2a304290b53]

	* TODO, src/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve
	/sieve-ast.c, src/lib-sieve/sieve-ast.h:
	Vacation: discovered and partially fixed various RFC-related issues.
	[97e0e14d9557]

	* doc/rfc/vacation.rfc5230.txt, src/lib-sieve/plugins/vacation/draft-
	ietf-sieve-vacation-07.txt, src/lib-sieve/plugins/vacation/ext-
	vacation.c:
	Installed new RFC for vacation extension in doc/rfc directory.
	[df13b70a2cb1]

	* TODO:
	Updated TODO.
	[a256cbead058]

	* TODO, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-test-set.c,
	src/testsuite/cmd-test.c, src/testsuite/ext-testsuite.c,
	src/testsuite/mail-raw.c, src/testsuite/mail-raw.h,
	src/testsuite/namespaces.c, src/testsuite/namespaces.h,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-
	objects.h, src/testsuite/testsuite.c, src/testsuite/tst-test-
	compile.c, src/testsuite/tst-test-error.c:
	Finished code cleanup for now.
	[a458a0b55c11]

	* src/sieve-bin/bin-common.c, src/sieve-bin/bin-common.h, src/sieve-
	bin/mail-raw.c, src/sieve-bin/mail-raw.h, src/sieve-
	bin/namespaces.c, src/sieve-bin/namespaces.h, src/sieve-bin/sieve-
	exec.c, src/sieve-bin/sieve-test.c, src/sieve-bin/sievec.c, src
	/sieve-bin/sieved.c:
	Cleaned up Sieve tools.
	[ae09a094452c]

	* src/plugins/lda-sieve/lda-sieve-plugin.c, src/plugins/lda-sieve/lda-
	sieve-plugin.h:
	Cleaned up LDA Sieve plugin.
	[ed1ca951fd92]

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.h, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables-limits.h, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.h, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c:
	Cleaned up variables extension.
	[5a4e4e269892]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c:
	Vacation: removed useless duplicate_mark call.
	[569aaef1dd00]

	* src/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h, src/lib-
	sieve/plugins/vacation/ext-vacation.c:
	Cleaned up vacation extension.
	[8df7a1bc6564]

2008-08-18  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, sieve/examples/subaddress.rfc5233.sieve, tests/address-
	parts/subaddress.svtest, tests/compile/examples.svtest,
	tests/extensions/subaddress/basic.svtest,
	tests/extensions/subaddress/rfc.svtest:
	Testsuite: extended tests for the subaddress extension.
	[7f440b626914]

2008-08-17  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/subaddress.rfc5233.txt, src/lib-
	sieve/plugins/subaddress/rfc3598.txt:
	Installed new subaddress RFC in doc/rfc directory.
	[5cb09b134086]

	* src/lib-sieve/plugins/subaddress/ext-subaddress.c:
	Cleaned up subaddress extension.
	[ec5e1f9fda78]

	* Makefile.am, sieve/examples/relational.rfc5231.sieve, tests/compile
	/compile-examples.svtest, tests/compile/examples.svtest,
	tests/extensions/relational/basic.svtest,
	tests/extensions/relational/errors.svtest,
	tests/extensions/relational/errors/validation.sieve,
	tests/extensions/relational/rfc.svtest, tests/match-
	types/relational.svtest:
	Testsuite: restructured and extended tests for the relational
	extension.
	[17ee47e6d698]

	* doc/rfc/relational.rfc5231.txt, src/lib-
	sieve/plugins/relational/rfc3431.txt:
	Installed new relational RFC in doc/rfc directory.
	[6a1838d879d9]

	* src/lib-sieve/plugins/relational/ext-relational-common.c, src/lib-
	sieve/plugins/relational/ext-relational-common.h, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c:
	Cleaned up relational extension.
	[8fa1cca640b9]

	* src/lib-sieve/plugins/regex/ext-regex-common.c, src/lib-
	sieve/plugins/regex/ext-regex-common.h, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/regex/mcht-regex.c:
	Cleaned up regex extension.
	[930e79a89723]

	* src/lib-sieve/plugins/include/cmd-import.c, src/lib-
	sieve/plugins/include/cmd-include.c, src/lib-sieve/plugins/include
	/cmd-return.c, src/lib-sieve/plugins/include/ext-include-binary.c,
	src/lib-sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-limits.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c:
	Cleaned up include extension.
	[4f58be7cfde3]

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c:
	Cleaned up imapflags extension.
	[1dc6e9c11f50]

	* src/lib-sieve/plugins/copy/ext-copy.c:
	Cleaned up copy extension.
	[1ae3233e93c0]

	* src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-
	numeric.c:
	Cleaned up comparator-i;ascii-numeric.
	[3bc2c679843b]

2008-08-16  Stephan Bosch  <stephan@rename-it.nl>

	* tests/extensions/body/match-values.svtest:
	Forgot to add test file.
	[31efedcb72a6]

	* Makefile.am:
	Testsuite: added test for the behavior of the body test with match
	values.
	[76c69d75e5bd]

	* src/lib-sieve/plugins/body/ext-body-common.h, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/body/tst-
	body.c, src/lib-sieve/sieve-match-types.c:
	Body: now disables match value processing during body test
	evaluation as required by RFC.
	[43ed6da2c07d]

	* src/lib-sieve/mcht-contains.c, src/lib-sieve/mcht-is.c, src/lib-
	sieve/mcht-matches.c, src/lib-sieve/sieve-result.c, src/lib-sieve
	/sieve-result.h, src/lib-sieve/sieve-script-private.h, src/lib-sieve
	/sieve-script.c, src/lib-sieve/sieve-script.h, src/lib-sieve/sieve-
	types.h, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h:
	Finished code cleanup of the sieve library itself.
	[7041828c5bf4]

	* src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-dump.h, src/lib-
	sieve/sieve-error-private.h, src/lib-sieve/sieve-error.c, src/lib-
	sieve/sieve-error.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve
	/sieve-extensions.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-interpreter.h, src/lib-sieve/sieve-limits.h, src/lib-sieve
	/sieve-message.c, src/lib-sieve/sieve-message.h, src/lib-sieve
	/sieve-objects.c, src/lib-sieve/sieve-objects.h:
	Broad code cleanup.
	[ce2750c32d73]

	* src/lib-sieve/cmd-stop.c:
	Forgot to add new file for stop command.
	[85e220b27364]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-discard.c, src/lib-
	sieve/cmd-if.c, src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-
	redirect.c, src/lib-sieve/cmd-require.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/include/cmd-import.c, src/lib-sieve/plugins/variables
	/tst-string.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	code-dumper.c, src/lib-sieve/sieve-commands-private.h, src/lib-sieve
	/sieve-commands.c, src/lib-sieve/sieve-commands.h, src/lib-sieve
	/sieve-generator.c, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-validator.c, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c, src
	/lib-sieve/tst-header.c, src/lib-sieve/tst-not.c, src/lib-sieve/tst-
	size.c, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-test-set.c,
	src/testsuite/cmd-test.c, src/testsuite/tst-test-compile.c,
	src/testsuite/tst-test-error.c:
	Cleaned up commands implementation.
	[b91b56692665]

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h:
	Cleaned up sieve-code.
	[bbee4bf32b63]

	* src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve/sieve-binary-
	dumper.h:
	Cleaned up sieve-binary-dumper.
	[08a3dc06bce3]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h:
	Cleaned up sieve-binary.
	[22672ecf40c3]

	* src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h:
	Cleaned up sieve-ast.
	[00363cd89a2a]

	* src/lib-sieve/sieve-address.c, src/lib-sieve/sieve-address.h:
	Cleaned up sieve-address.
	[cb7d1b1feb8d]

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h:
	Cleaned up actions implementation.
	[af5589339bd3]

	* src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-address-
	parts.h, src/lib-sieve/sieve-comparators.c:
	Cleaned up address part and comparator implementation.
	[dfc2d1398889]

	* sieve/errors/match-type-errors.sieve, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/variables/tst-string.c, src
	/lib-sieve/sieve-comparators.h, src/lib-sieve/sieve-match-types.c,
	src/lib-sieve/sieve-match-types.h, src/lib-sieve/tst-address.c, src
	/lib-sieve/tst-header.c, src/testsuite/tst-test-error.c,
	tests/compile/errors.svtest, tests/compile/errors/match-type.sieve:
	Cleaned up match type implementation.
	[945375c5c915]

	* TODO, src/lib-sieve/plugins/regex/mcht-regex.c:
	Regex: improvements and bugfixes.
	[a6cf1195a291]

	* Makefile.am, src/lib-sieve/plugins/regex/regex-errors.sieve,
	tests/extensions/regex/basic.svtest,
	tests/extensions/regex/errors.svtest,
	tests/extensions/regex/errors/compile.sieve, tests/match-
	types/regex.svtest:
	Testsuite: restructured regex tests.
	[8e7c02d55cf3]

	* Makefile.am, doc/rfc/draft-murchison-sieve-regex-07.txt, src/lib-
	sieve/plugins/regex/draft-murchison-sieve-regex-07.txt, src/lib-
	sieve/plugins/regex/mcht-regex.c, src/lib-
	sieve/plugins/regex/regex.sieve, src/lib-sieve/sieve-match-types.c,
	tests/extensions/variables/regex.svtest, tests/match-
	types/regex.svtest:
	Regex: fixed a few minor bugs.
	[560db263607a]

2008-08-14  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-bin/mail-raw.c, src/sieve-bin/mail-raw.h, src/sieve-
	bin/namespaces.c, src/sieve-bin/namespaces.h, src/sieve-bin/sieve-
	exec.c, src/sieve-bin/sieve-test.c, src/testsuite/mail-raw.c,
	src/testsuite/mail-raw.h, src/testsuite/namespaces.c,
	src/testsuite/namespaces.h, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite.c:
	Compile fix for changes in Dovecot.
	[aa1a94658613]

2008-08-13  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/include/cmd-import.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/variables/ext-variables-common.c,
	tests/extensions/include/errors/runtime.sieve:
	Include: implemented runtime checking of export/import.
	[cbd74d26eff4]

	* src/lib-sieve/plugins/include/cmd-import.c, src/lib-
	sieve/plugins/include/cmd-include.c, src/lib-sieve/plugins/include
	/ext-include-binary.c, src/lib-sieve/plugins/include/ext-include-
	common.h, src/lib-sieve/plugins/include/ext-include-variables.c, src
	/lib-sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/sieve-ast.c, src
	/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-validator.c,
	tests/extensions/include/variables.svtest:
	Include: transformed import and export to actual code operations for
	runtime checking.
	[d8002c76aabb]

	* src/lib-sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Variables: added functionality to obtain variable identifier from
	storage using linked scope.
	[504a89d17b2d]

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/ext-
	variables-operands.c, src/lib-sieve/plugins/variables/sieve-ext-
	variables.h:
	Variables: invalid variable indexes now trigger interpretation to
	fail with EXEC_BIN_CORRUPT.
	[7a03042a70ea]

2008-08-12  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c:
	Include: variable indexes are now verified to the global variable
	scope, meaning that a corrupt binary cannot allocate arbitrary
	global variables anymore.
	[d8b16b132509]

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/imapflags/ext-imapflags.c, src
	/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/relational
	/ext-relational.c, src/lib-sieve/plugins/subaddress/ext-
	subaddress.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve
	/sieve-match-types.c, src/testsuite/ext-testsuite.c:
	Removed obsoleted runtime_load() extension event.
	[6f0b6cbd33c6]

	* src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-match-types.c:
	Added run() event to the interpreter_extension object.
	[878c2ad37f27]

	* TODO:
	Cleaned up TODO file.
	[8ca8af945cec]

	* TODO, doc/rfc/RFC Controversy.txt, src/lib-sieve/plugins/imapflags
	/ext-imapflags-common.c, src/lib-sieve/plugins/include/ext-include-
	variables.c, src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-common.c, src/lib-sieve/plugins/variables/ext-variables-
	limits.h, src/lib-sieve/plugins/variables/ext-variables-name.c, src
	/lib-sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h,
	tests/extensions/variables/basic.svtest,
	tests/extensions/variables/errors.svtest,
	tests/extensions/variables/errors/limits.sieve:
	Variables: implemented limits on number of variables in a scope, the
	length of variable names, size of variable values and the number of
	accesible match values.
	[f23512858a52]

	* TODO, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/plugins/include/Makefile.am, src/lib-sieve/plugins/regex/mcht-
	regex.c, src/lib-sieve/sieve-limits.h, src/lib-sieve/sieve-match-
	types.c:
	Limited number of accepted match values
	[31520dab90b8]

	* src/lib-sieve/plugins/include/ext-include-limits.h:
	Include: forgot to add new file to the repository.
	[32e7a10e0c4e]

	* TODO:
	Merged concurrent changes.
	[9a691e80df72]

	* TODO, src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h:
	Include: limited the number of included scripts.
	[f01020cfcebb]

	* src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-script.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-
	sieve-plugin.c, src/sieve-bin/bin-common.c:
	LDA-Plugin: prevented plugin from polluting the logfiles when the
	script does not exist.
	[5d70ae722bca]

2008-08-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/cmd-include.c,
	tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/generic.sieve:
	Include: used wrong messaging function in previous commit.
	[177bf38926ca]

	* src/lib-sieve/plugins/include/cmd-include.c:
	Include: prohibited use of '/' in scriptnames.
	[88105cf833da]

2008-08-10  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, tests/extensions/body/basic.svtest:
	Body: discovered various issues (listed in disabled tests).
	[66543e00dfba]

	* src/lib-sieve/sieve-message.c, src/lib-sieve/sieve-message.h,
	src/testsuite/cmd-test-set.c, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite-objects.c,
	src/testsuite/testsuite-objects.h,
	tests/extensions/body/basic.svtest:
	Body: added test regarding empty bodies and fixed testsuite to flush
	the message context when the message is changed.
	[c6c5a7eb8e6e]

	* src/lib-sieve/plugins/body/tst-body.c,
	tests/extensions/body/basic.svtest:
	Body: fixed default comparator and added testsuite test to prevent
	this in the future.
	[83bd74561800]

	* Makefile.am, src/lib-sieve/plugins/body/ext-body-common.c, src/lib-
	sieve/plugins/body/tst-body.c, tests/extensions/body/basic.svtest:
	Body: fixed bug in the :raw transform, added much comment to the
	body extraction code and added a first simple test to the testsuite.
	[3153995e2bc7]

	* src/lib-sieve/sieve-lexer.c, src/testsuite/mail-raw.c:
	Made the lexer conform to the new Sieve RFC.
	[0fae7796f624]

	* doc/rfc/body.rfc5173.txt, src/lib-sieve/plugins/body/draft-ietf-
	sieve-body-07.txt, src/lib-sieve/plugins/body/ext-body.c:
	Installed RFC for the body extension in the doc/rfc directory.
	[42dc34bb2dc2]

	* TODO, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-require.c, src
	/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/imapflags/ext-imapflags-
	common.c, src/lib-sieve/plugins/imapflags/tag-flags.c, src/lib-
	sieve/plugins/include/cmd-include.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/plugins/relational/ext-
	relational-common.c, src/lib-sieve/plugins/vacation/cmd-vacation.c,
	src/lib-sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/sieve-actions.c, src/lib-sieve/sieve-binary.c, src/lib-sieve
	/sieve-comparators.c, src/lib-sieve/sieve-validator.c, src/lib-sieve
	/sieve-validator.h, src/lib-sieve/tst-address.c:
	Made sure error messages do not print large erroneous values.
	[ea459c2b87c0]

	* TODO, src/lib-sieve/sieve-parser.c, tests/compile/errors.svtest,
	tests/compile/errors/parser.sieve:
	Limited the depth of the AST and added tests to verify that it is
	resolved gracefully.
	[aa4d3069f079]

2008-08-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-limits.h, src/lib-sieve/sieve-parser.c,
	tests/compile/errors.svtest, tests/compile/errors/parser.sieve:
	Limited number of command arguments.
	[9a2fc3c9675d]

	* src/lib-sieve/sieve-lexer.c:
	Made lexer use the (i_*) ctype.h functions.
	[51d06f8b3339]

	* src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-limits.h,
	tests/compile/errors.svtest, tests/compile/errors/lexer.sieve:
	Limited the length of identifiers.
	[aaca552f0561]

	* TODO, src/lib-sieve/Makefile.am, src/lib-sieve/cmd-redirect.c, src
	/lib-sieve/sieve-address.c, src/lib-sieve/sieve-ast.c, src/lib-sieve
	/sieve-ast.h, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-limits.h,
	src/lib-sieve/sieve-parser.c, tests/compile/errors.svtest,
	tests/compile/errors/lexer.sieve:
	Enforced limits on string length and handled the finite nature of
	integers for number parsing and the construction of the AST.
	[317c332b2623]

2008-08-06  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-variables.c:
	Include: fixed bug in global variables referencing the main script.
	[b1c1779b1d4b]

2008-08-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h,
	tests/extensions/include/variables.svtest:
	Include: symbol table for global variables now also includes
	locations for the first import/export of each known variable.
	[ba3785f991b9]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h:
	Include: included scripts are now referenced by an include_id in
	stead of the binary block id.
	[b67c51062eba]

	* src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-validator.c:
	Forgot to implement free() event for validator and interpreter
	extensions.
	[e1f834c53a3d]

	* src/lib-sieve/plugins/include/cmd-import.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/sieve-ext-
	variables.h, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve
	/sieve-binary-dumper.h, src/lib-sieve/sieve-extensions.h, src/lib-
	sieve/sieve-generator.c, src/testsuite/ext-testsuite.c,
	tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/import-runtime.sieve,
	tests/extensions/include/errors/variables.sieve:
	Include: added symbol table to the binary for global variables.
	[d9518ecfeb23]

	* README, TODO:
	Updated documentation.
	[54897b07b2da]

2008-08-03  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Minor TODO file revisions.
	[472b4c6dde9e]

	* Makefile.am, tests/match-types/regex.svtest:
	Testsuite: added match values test for the :regex match
	[35384a182b33]

	* TODO, src/lib-sieve/mcht-matches.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/plugins/regex/mcht-regex.c, src
	/lib-sieve/sieve-match-types.c, src/lib-sieve/sieve-match-types.h,
	tests/extensions/variables/match.svtest, tests/match-
	types/matches.svtest:
	Fixed replacing match values only when a test succeeds.
	[dd371558d0fb]

	* src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h:
	Upgraded validator and interpreter extension support to provide
	destruction notifications.
	[0ec7042e1ce5]

2008-08-02  Stephan Bosch  <stephan@rename-it.nl>

	* TODO:
	Include: found one issue.
	[37f5ac342261]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/testsuite
	/testsuite-common.c, src/testsuite/testsuite.c,
	tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/circular-1.sieve,
	tests/extensions/include/errors/circular-2.sieve,
	tests/extensions/include/errors/circular-3.sieve,
	tests/extensions/include/errors/included/circular-one.sieve,
	tests/extensions/include/errors/included/circular-three-2.sieve,
	tests/extensions/include/errors/included/circular-three-3.sieve,
	tests/extensions/include/errors/included/circular-three.sieve,
	tests/extensions/include/errors/included/circular-two-2.sieve,
	tests/extensions/include/errors/included/circular-two.sieve,
	tests/extensions/include/included/variables-included1.sieve,
	tests/extensions/include/included/variables-included2.sieve,
	tests/extensions/include/included/variables-included3.sieve,
	tests/extensions/include/variables-included1.sieve,
	tests/extensions/include/variables-included2.sieve,
	tests/extensions/include/variables-included3.sieve:
	Testsuite: added circular include tests.
	[bfa2fb869c31]

	* doc/rfc/draft-daboo-sieve-include-05.txt, src/lib-
	sieve/plugins/include/Makefile.am, src/lib-sieve/plugins/include
	/draft-daboo-sieve-include-05.txt, src/lib-sieve/plugins/include
	/include-error.sieve, src/lib-sieve/plugins/include/include-
	variables.sieve, src/lib-sieve/plugins/include/include-
	variables1.sieve, src/lib-sieve/plugins/include/include-
	variables2.sieve, src/lib-sieve/plugins/include/include-
	variables3.sieve, src/lib-sieve/plugins/include/include.sieve, src
	/lib-sieve/plugins/include/included1.sieve, src/lib-
	sieve/plugins/include/included2.sieve, src/lib-
	sieve/plugins/include/included3.sieve,
	tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/generic.sieve:
	Include: cleaned up source directory.
	[525f4e7bd2ce]

	* Makefile.am, src/lib-sieve/plugins/include/include-variables-
	error.sieve, src/lib-sieve/plugins/include/include-variables-
	error2.sieve, tests/extensions/include/errors.svtest,
	tests/extensions/include/errors/variables-inactive.sieve,
	tests/extensions/include/errors/variables.sieve:
	Testsuite: added compile error tests for the include extension.
	[7efaba3fb362]

	* src/lib-sieve/plugins/copy/rfc3894.txt:
	Copy: forgot to remove RFC from old location.
	[4cd77c6931ad]

	* doc/rfc/copy.rfc3894.txt:
	Copy: moved RFC to doc/rfc directory.
	[04dd13d1e194]

	* doc/rfc/imap4flags.rfc5232.txt, src/lib-sieve/plugins/imapflags
	/draft-ietf-sieve-imapflags-05.txt, src/lib-sieve/plugins/imapflags
	/ext-imapflags.c:
	Imapflags: updated specification to RFC 5232.
	[f1f8c50c2d7e]

	* TODO:
	Imapflags: found one new issue.
	[9f896bff4250]

	* Makefile.am, src/lib-sieve/plugins/imapflags/ext-imapflags-common.c,
	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-sieve
	/sieve-generator.c, tests/extensions/imapflags/hasflag.svtest,
	tests/extensions/imapflags/rfc.svtest:
	Imapflags: accidentally omitted support for multiple variables in
	the hasflag test.
	[b6602e8dd433]

	* TODO, tests/extensions/variables/errors.svtest,
	tests/extensions/variables/errors/set.sieve,
	tests/extensions/variables/string.svtest:
	Testsuite: added new tests for the variables extension.
	[ff3d19af6da3]

	* src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-validator.c,
	tests/compile/trivial.sieve,
	tests/extensions/variables/errors.svtest:
	Fixed various case-sensitivily-related issues.
	[8d140a08e7d8]

	* Makefile.am, src/lib-sieve/plugins/variables/ext-variables-
	arguments.c, tests/extensions/variables/errors.svtest,
	tests/extensions/variables/errors/namespace.sieve,
	tests/extensions/variables/errors/set.sieve:
	Variables: fixed various error handling issues.
	[eb93d4e65fce]

	* src/lib-sieve/sieve-address.c:
	Fixed a warning.
	[5e651fda205f]

2008-08-01  Stephan Bosch  <stephan@rename-it.nl>

	* Makefile.am, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am, src/lib-sieve/plugins/variables
	/ext-variables.c:
	Fixed 'make dist' to produce a working tarball.
	[39a595dbbde4]

	* src/lib-sieve/mcht-matches.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, tests/match-
	types/contains.svtest, tests/match-types/is.svtest, tests/match-
	types/matches.svtest, tests/match-types/relational.svtest:
	Testsuite: added test regarding matching the empty string and fixed
	an issue in the i;ascii-numeric comparator.
	[4817eca9348a]

	* Makefile.am, TODO, src/lib-sieve/mcht-contains.c, src/lib-sieve
	/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/plugins/regex/mcht-regex.c, src/lib-sieve/plugins/relational
	/mcht-count.c, src/lib-sieve/plugins/relational/mcht-value.c, src
	/lib-sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-
	match-types.h, src/lib-sieve/sieve-match.c,
	tests/extensions/variables/string.svtest:
	Variables: fixed :count issue for the string test.
	[fc0444f14dd1]

	* TODO, tests/extensions/variables/basic.svtest,
	tests/extensions/variables/modifiers.svtest,
	tests/extensions/variables/string.svtest:
	Testsuite: added more tests for the variables extension and found
	one issue.
	[cd218e005c1e]

	* Makefile.am, src/lib-sieve/ext-envelope.c, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-header.c,
	tests/extensions/variables/basic.svtest,
	tests/extensions/variables/match.svtest,
	tests/extensions/variables/modifiers.svtest, tests/match-
	types/contains.svtest:
	Testsuite: added RFC compliance tests for the variables extension
	and fixed use of wrong default comparator.
	[2246d563ad2d]

	* src/lib-sieve/ext-encoded-character.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-sieve
	/sieve-validator.c, tests/extensions/variables/quoting.svtest:
	Fixed bug in the order of default argument processing. Variable
	strings were evaluated befor constant strings, which is wrong.
	[6fa43c9bac62]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/sieve-address.c,
	tests/extensions/envelope.svtest:
	Envelope: added more test and fixed source route parsing.
	[568d3af73d04]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/sieve-address.c,
	tests/extensions/envelope.svtest:
	Envelope: fixed one bug in the path parsing (printfs active).
	[fbae4e8724ad]

2008-07-31  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, doc/rfc/RFC Controversy.txt, src/lib-sieve/ext-envelope.c, src
	/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve
	/sieve-address.c, src/lib-sieve/sieve-address.h, src/lib-sieve
	/sieve-common.h, tests/extensions/envelope.svtest,
	tests/testsuite.svtest:
	Envelope: working towards proper RFC compliance of forward/return-
	path parsing.
	[0d6138082c33]

2008-07-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/ext-variables-arguments.c,
	tests/extensions/variables/basic.svtest:
	Variables: fixed RFC compliance issue regarding failing validation
	on unknown namespaces.
	[336904483e84]

	* src/lib-sieve/plugins/variables/ext-variables-arguments.c,
	tests/extensions/variables/basic.svtest:
	Variables: fixed bug in variables substitution (RFC example failed
	during testing).
	[ccbfb44d427c]

	* src/lib-sieve/plugins/variables/ext-variables-common.c,
	tests/extensions/variables/basic.svtest:
	Variables: fixed very significant bug in the variable scope
	implementation.
	[225f7cfd99c0]

	* src/lib-sieve/sieve-binary.h:
	Removed superfluous include.
	[29e9b491cadf]

	* tests/extensions/variables/basic.svtest:
	Testsuite: cleaned up basic varibles test case.
	[b8ac459bccec]

	* Makefile.am, configure.in, src/testsuite/Makefile.am,
	src/testsuite/tests/address-parts/subaddress.svtest,
	src/testsuite/tests/comparators/core.svtest,
	src/testsuite/tests/compile/compile-examples.svtest,
	src/testsuite/tests/compile/compile.svtest,
	src/testsuite/tests/compile/errors.svtest,
	src/testsuite/tests/compile/errors/address-part.sieve,
	src/testsuite/tests/compile/errors/address.sieve,
	src/testsuite/tests/compile/errors/encoded-character.sieve,
	src/testsuite/tests/compile/errors/envelope.sieve,
	src/testsuite/tests/compile/errors/header.sieve,
	src/testsuite/tests/compile/errors/if.sieve,
	src/testsuite/tests/compile/errors/keep.sieve,
	src/testsuite/tests/compile/errors/require.sieve,
	src/testsuite/tests/compile/errors/size.sieve,
	src/testsuite/tests/compile/errors/stop.sieve,
	src/testsuite/tests/compile/redirect.sieve,
	src/testsuite/tests/compile/trivial.sieve, src/testsuite/tests
	/control-structures.svtest, src/testsuite/tests/exists.svtest,
	src/testsuite/tests/extensions/encoded-character.svtest,
	src/testsuite/tests/extensions/envelope.svtest,
	src/testsuite/tests/extensions/imapflags/basic.svtest,
	src/testsuite/tests/extensions/imapflags/rfc.svtest,
	src/testsuite/tests/extensions/include/variables-included1.sieve,
	src/testsuite/tests/extensions/include/variables-included2.sieve,
	src/testsuite/tests/extensions/include/variables-included3.sieve,
	src/testsuite/tests/extensions/include/variables.svtest,
	src/testsuite/tests/extensions/variables/basic.svtest,
	src/testsuite/tests/extensions/variables/match.svtest,
	src/testsuite/tests/header.svtest, src/testsuite/tests/lexer.svtest,
	src/testsuite/tests/match-types/contains.svtest, src/testsuite/tests
	/match-types/is.svtest, src/testsuite/tests/match-
	types/matches.svtest, src/testsuite/tests/match-
	types/relational.svtest, src/testsuite/tests/testsuite.svtest, tests
	/address-parts/subaddress.svtest, tests/comparators/core.svtest,
	tests/compile/compile-examples.svtest, tests/compile/compile.svtest,
	tests/compile/errors.svtest, tests/compile/errors/address-
	part.sieve, tests/compile/errors/address.sieve, tests/compile/errors
	/encoded-character.sieve, tests/compile/errors/envelope.sieve,
	tests/compile/errors/header.sieve, tests/compile/errors/if.sieve,
	tests/compile/errors/keep.sieve, tests/compile/errors/require.sieve,
	tests/compile/errors/size.sieve, tests/compile/errors/stop.sieve,
	tests/compile/redirect.sieve, tests/compile/trivial.sieve, tests
	/control-structures.svtest, tests/exists.svtest, tests/extensions
	/encoded-character.svtest, tests/extensions/envelope.svtest,
	tests/extensions/imapflags/basic.svtest,
	tests/extensions/imapflags/rfc.svtest, tests/extensions/include
	/variables-included1.sieve, tests/extensions/include/variables-
	included2.sieve, tests/extensions/include/variables-included3.sieve,
	tests/extensions/include/variables.svtest,
	tests/extensions/variables/basic.svtest,
	tests/extensions/variables/match.svtest, tests/header.svtest,
	tests/lexer.svtest, tests/match-types/contains.svtest, tests/match-
	types/is.svtest, tests/match-types/matches.svtest, tests/match-
	types/relational.svtest, tests/testsuite.svtest:
	Testsuite: moved tests directory to the root of the package.
	[bbd0d8bab632]

	* doc/rfc/variables.rfc5229.txt, src/lib-
	sieve/plugins/variables/rfc5229.txt:
	Installed variables rfc in the doc/rfc directory.
	[785a600fb225]

	* TODO, src/lib-sieve/ext-encoded-character.c,
	src/testsuite/tests/compile/errors/encoded-character.sieve,
	src/testsuite/tests/extensions/encoded-character.svtest:
	Encoded-character: resolved error reporting issue, added some syntax
	error tests and fixed some parsing bugs in the process.
	[9dd5079adbbe]

	* TODO, src/lib-sieve/ext-encoded-character.c,
	src/testsuite/tests/compile/errors.svtest,
	src/testsuite/tests/compile/errors/address-part.sieve,
	src/testsuite/tests/compile/errors/encoded-character.sieve,
	src/testsuite/tests/compile/errors/envelope.sieve,
	src/testsuite/tests/compile/errors/keep.sieve,
	src/testsuite/tests/compile/errors/size.sieve,
	src/testsuite/tests/compile/errors/stop.sieve, src/testsuite/tests
	/control-structures.svtest:
	Testsuite: added compile error testcases and discovered one new
	issue.
	[1bf8cc2f7f10]

	* TODO:
	Reprioritized TODO file.
	[1342d7920181]

	* TODO, src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Variables: resolved issues in the scope implementation.
	[a3bcc26814b1]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-sieve/sieve-
	ast.c, src/lib-sieve/sieve-ast.h:
	Added proper extension support to AST object.
	[031f0a483697]

2008-07-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-
	sieve/sieve-validator.c, src/testsuite/tests/compile/errors.svtest,
	src/testsuite/tests/compile/errors/address.sieve,
	src/testsuite/tests/compile/errors/header.sieve,
	src/testsuite/tests/compile/errors/if.sieve,
	src/testsuite/tests/compile/errors/require.sieve, src/testsuite
	/testsuite-common.c:
	Testsuite: added a few more compile error test cases.
	[658fa458abd4]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h,
	src/testsuite/Makefile.am,
	src/testsuite/tests/compile/errors.svtest,
	src/testsuite/tests/compile/errors/header.sieve,
	src/testsuite/tests/errors.svtest, src/testsuite/tests/header-
	errors.sieve, src/testsuite/testsuite-common.c, src/testsuite
	/testsuite-common.h, src/testsuite/testsuite.c, src/testsuite/tst-
	test-compile.c, src/testsuite/tst-test-error.c:
	Testsuite: completed support for error validation and added one test
	case.
	[b7ae709ef86e]

	* src/testsuite/Makefile.am, src/testsuite/cmd-test-fail.c,
	src/testsuite/cmd-test-set.c, src/testsuite/ext-testsuite.c,
	src/testsuite/tests/errors.svtest, src/testsuite/tests/header-
	errors.sieve, src/testsuite/testsuite-common.h, src/testsuite/tst-
	test-compile.c, src/testsuite/tst-test-error.c:
	Testsuite: started support for error validation.
	[bef773d65f77]

	* TODO, src/testsuite/Makefile.am, src/testsuite/tests/match-
	types/contains.svtest, src/testsuite/tests/match-types/is.svtest:
	Testsuite: marginally improved match-type tests.
	[444696f0d147]

	* src/testsuite/Makefile.am:
	Added variables testcase to the testsuite.
	[2030448d3cd4]

	* src/lib-sieve/mcht-matches.c, src/lib-sieve/sieve-match-types.c, src
	/lib-sieve/sieve-match-types.h,
	src/testsuite/tests/extensions/variables/match.svtest,
	src/testsuite/tests/lexer.svtest, src/testsuite/tests/match-
	types/matches.svtest:
	Fixed bugs in the :matches match type.
	[6305d80a9f22]

	* src/lib-sieve/ext-encoded-character.c, src/testsuite/Makefile.am,
	src/testsuite/tests/extensions/encoded-character.svtest:
	Encoded-character: fixed a few bugs to properly match the examples
	provided in the RFC.
	[a320882164ec]

2008-07-27  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/tst-header.c:
	Added stripping of right white space from header content.
	[9a21206c0260]

	* TODO:
	Updated TODO
	[8ec5db20d93b]

	* src/testsuite/tests/extensions/envelope.svtest:
	Envelope: forgot to add new test case.
	[ce3a837f69f0]

	* TODO, src/lib-sieve/ext-envelope.c, src/testsuite/Makefile.am:
	Envelope: <> return path now always matches as the empty string,
	regardless of the specified address part.
	[270b07d72782]

	* TODO:
	Minor TODO file change.
	[9ba44410e26e]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/tst-address.c:
	Forgot to adjust comment.
	[3560a09d215a]

	* doc/rfc/RFC Controversy.txt:
	Updated documentation.
	[20da4decbf18]

	* TODO, doc/rfc/RFC Controversy.txt, sieve/errors/envelope-
	errors.sieve, sieve/examples/elvey.sieve, src/lib-sieve/ext-
	envelope.c, src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h,
	src/lib-sieve/tst-address.c:
	Envelope: added compile-time envelope-part verification.
	[9a5d8cd44c16]

	* doc/rfc/RFC Controversy.txt:
	Added RFC controversy file to log all matters that require
	clarification from RFC editors.
	[eaa9516bda0a]

	* TODO:
	Restricted allowable headers for the address test.
	[b7212151acde]

	* TODO, sieve/errors/address-errors.sieve, src/lib-sieve/tst-
	address.c, src/testsuite/tests/extensions/imapflags/rfc.svtest:
	Imapflags: forgot to add testcase file.
	[afe2b84e7719]

	* src/lib-sieve/sieve-match.c:
	Disallowed extraction of key elements from key strings for match
	types for with that would not make sense.
	[ba9fe4253d74]

	* TODO, src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src
	/lib-sieve/plugins/imapflags/tag-flags.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/testsuite/Makefile.am,
	src/testsuite/tests/extensions/imapflags/basic.svtest:
	Imapflags: resolved problem of hasflags encountering duplicate flags
	in flag lists contained in a variable.
	[df6023e12048]

	* TODO, src/lib-sieve/ext-envelope.c, src/lib-sieve/mcht-contains.c,
	src/lib-sieve/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/imapflags/tst-
	hasflag.c, src/lib-sieve/plugins/regex/mcht-regex.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-match-
	types.h, src/lib-sieve/sieve-match.c, src/lib-sieve/sieve-match.h,
	src/lib-sieve/tst-address.c, src/lib-sieve/tst-header.c,
	src/testsuite/Makefile.am,
	src/testsuite/tests/extensions/imapflags/basic.svtest:
	Imapflags: resolved string representation issue in hasflag.
	[9261c0d19ce3]

	* TODO, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-match.c,
	src/lib-sieve/sieve-match.h, src/lib-sieve/tst-header.c,
	src/testsuite/tests/extensions/imapflags/basic.svtest:
	Resolved code duplication among commands that use comparators and
	match-types and found problems in the imapflags extension in the
	process.
	[662b8d662c89]

2008-07-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	LDA-Sieve plugin: forgot to save the new binary when encountered a
	corrupt one.
	[d42d299f470b]

	* TODO, src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src
	/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-sieve
	/sieve-actions.c, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	binary.h, src/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h:
	Improved the handling corrupt binaries further for the action
	commands.
	[fd1d663f3b2c]

2008-07-25  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/Makefile.am, src/lib-sieve/ext-envelope.c, src
	/lib-sieve/mcht-contains.c, src/lib-sieve/mcht-is.c, src/lib-sieve
	/mcht-matches.c, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/ext-relational-
	common.h, src/lib-sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-match-types.c, src/lib-sieve/sieve-
	match-types.h, src/lib-sieve/sieve-match.c, src/lib-sieve/sieve-
	match.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-header.c,
	src/sieve-bin/sieve-test.c, src/testsuite/Makefile.am,
	src/testsuite/tests/control-structures.svtest, src/testsuite/tests
	/match-types/relational.svtest, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite.c:
	Significantly improved handling of old/corrupt binaries and revised
	matching implementation in the process.
	[07f6bc2fe04b]

	* src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-
	numeric.c:
	Fixed extremely stupid bug in the i;ascii-numeric comparator.
	[f7df94b061ec]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-interpreter.c,
	src/plugins/lda-sieve/lda-sieve-plugin.c, src/sieve-bin/sieve-
	exec.c, src/sieve-bin/sieve-test.c:
	Implemented graceful handling of corrupt binaries by the sieve lda
	plugin.
	[c300bab057a2]

	* configure.in:
	Properly configured package name.
	[dfe8a1ecad3c]

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/imapflags/cmd-
	addflag.c, src/lib-sieve/plugins/imapflags/cmd-removeflag.c, src
	/lib-sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/tst-string.c, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-
	code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-sieve/sieve-
	types.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-exists.c,
	src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c, src/sieve-bin
	/sieve-exec.c, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-
	test-set.c, src/testsuite/cmd-test.c, src/testsuite/tst-test-
	compile.c:
	Working towards improving the handling of currupt binaries: defined
	multiple exit codes for execution functions and defined trace macro
	for reporting binary corruptions.
	[10c30a4bd44a]

	* TODO, src/testsuite/tests/extensions/include/variables-
	included1.sieve, src/testsuite/tests/extensions/include/variables-
	included2.sieve, src/testsuite/tests/extensions/include/variables-
	included3.sieve,
	src/testsuite/tests/extensions/include/variables.svtest:
	Testsuite: forgot to add test cases for include extension.
	[e3542907a783]

	* TODO, src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-sieve
	/sieve-script.c, src/lib-sieve/sieve-script.h,
	src/testsuite/Makefile.am, src/testsuite/testsuite.c:
	Fixed code emission for extension-defined variables and removed
	hardcoded paths from include extension.
	[c3dfcab426ca]

	* TODO:
	Added future TODO item.
	[defad0db1bb4]

	* TODO, src/lib-sieve/sieve-interpreter.h:
	Updated TODO and removed spurious FIXME.
	[477722eeaf09]

	* README, src/testsuite/ext-testsuite.c:
	Updated documentation.
	[89e50989541a]

	* .hgignore, src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-
	script.h, src/testsuite/Makefile.am, src/testsuite/cmd-test-fail.c,
	src/testsuite/cmd-test-set.c, src/testsuite/cmd-test.c,
	src/testsuite/ext-testsuite.c, src/testsuite/tests/compile/compile-
	examples.svtest, src/testsuite/tests/compile/compile.svtest,
	src/testsuite/tests/compile/redirect.sieve,
	src/testsuite/tests/compile/trivial.sieve, src/testsuite/testsuite-
	common.h, src/testsuite/tst-test-compile.c:
	Testsuite: added test_compile command to test compilation of
	scripts.
	[e6846fc1dc11]

2008-07-24  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, sieve/errors/out-address-errors.sieve, src/lib-sieve/sieve-
	address.c, src/lib-sieve/sieve-binary.c:
	Revised Sieve address validation functionality.
	[10abb0055a23]

	* README, TODO, configure.in, src/lib-sieve/sieve-binary.c:
	Started using new str_new_const() function.
	[3fc4deedc23b]

	* TODO, src/lib-sieve/cmd-redirect.c, src/lib-sieve/plugins/imapflags
	/cmd-addflag.c, src/lib-sieve/plugins/imapflags/cmd-removeflag.c,
	src/lib-sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/imapflags-errors.sieve, src/lib-
	sieve/plugins/imapflags/imapflags.sieve, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-
	result.c, src/lib-sieve/sieve-result.h:
	Imapflags: improved handling of invalid flags.
	[4d45ccdd880b]

	* TODO, src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-sieve/sieve-
	ast.c, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	validator.c:
	Significantly improved pool allocation by checking --enable-debug
	warnings from dovecot.
	[4a5f60764e5f]

	* src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-validator.c:
	Removed all legacy use of array_create().
	[f4bb043dc649]

	* src/lib-sieve/sieve-lexer.c:
	Lexer: fixed repetitive string alloation problem.
	[14dd750dfeb8]

2008-07-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c:
	Fixed bug introduced by previous change.
	[e4db63d3e106]

	* src/lib-sieve/Makefile.am, src/lib-sieve/plugins/variables/cmd-
	set.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h,
	src/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-code.c, src
	/lib-sieve/sieve-common.h, src/lib-sieve/sieve-comparators.c, src
	/lib-sieve/sieve-extensions-private.h, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-match-types.c, src/testsuite
	/testsuite-common.c, src/testsuite/testsuite-objects.c:
	Reworked operand and operation binary coding functions.
	[a8f9c4a6c502]

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve
	/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-
	require.c, src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-
	fileinto.c, src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/body
	/ext-body-common.c, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c,
	src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/include/cmd-include.c, src
	/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/ext-
	variables-common.h, src/lib-sieve/plugins/variables/ext-variables-
	modifiers.c, src/lib-sieve/plugins/variables/ext-variables-
	modifiers.h, src/lib-sieve/plugins/variables/ext-variables-
	operands.c, src/lib-sieve/plugins/variables/sieve-ext-variables.h,
	src/lib-sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	address-parts.h, src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-
	ast.h, src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve/sieve-
	binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code.c,
	src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-commands.c, src/lib-
	sieve/sieve-comparators.c, src/lib-sieve/sieve-comparators.h, src
	/lib-sieve/sieve-extensions-private.h, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-
	generator.c, src/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-match-types.c, src/lib-sieve/sieve-match-types.h, src/lib-
	sieve/sieve-message.c, src/lib-sieve/sieve-message.h, src/lib-sieve
	/sieve-objects.c, src/lib-sieve/sieve-objects.h, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-sieve/sieve-
	validator.c, src/lib-sieve/sieve-validator.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-allof.c, src/lib-sieve/tst-anyof.c, src
	/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src/lib-sieve
	/tst-size.c, src/testsuite/cmd-test-fail.c, src/testsuite/cmd-test-
	set.c, src/testsuite/cmd-test.c, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-
	objects.h:
	Fully substituted the use of extension ids with the use of the
	extension object itself.
	[0da758d61cad]

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/imapflags/ext-imapflags.c, src
	/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/relational
	/ext-relational.c, src/lib-sieve/plugins/subaddress/ext-
	subaddress.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-extensions.c, src/lib-sieve
	/sieve-extensions.h, src/lib-sieve/sieve-match-types.c, src/lib-
	sieve/sieve-validator.c, src/testsuite/ext-testsuite.c:
	Made initially assigned extension id available directly from the
	const extension object itself.
	[3e237d753a2a]

	* TODO, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h:
	Reworked previous change into three elegant macros.
	[416c6954b998]

2008-07-22  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/sieve-binary.c, src/lib-sieve/sieve-error.c, src/lib-sieve
	/sieve-error.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve
	/sieve-script.c, src/plugins/lda-sieve/lda-sieve-plugin.c:
	Made utility functions for neatly handing system errors, warnings
	and notices.
	[8a116201d954]

	* src/lib-sieve/tst-allof.c, src/lib-sieve/tst-anyof.c,
	src/testsuite/tests/control-structures.svtest:
	Testsuite: added tests for use of allof/anyof with a single test and
	optimized code generation.
	[971a8a94e8ab]

	* TODO, src/testsuite/tests/header.svtest, src/testsuite/tests/match-
	types/contains.svtest:
	Testsuite: added test case for the header test and found one issue.
	[447d40a17ea0]

	* src/lib-sieve/sieve-lexer.c, src/testsuite/Makefile.am,
	src/testsuite/tests/lexer.svtest:
	Testsuite: added lexer string scan comparison test and fixed lexer
	bug in the process.
	[1bab36c85b54]

2008-07-21  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/testsuite/tests/control-structures.svtest:
	Testsuite: added some control structure tests involving nesting.
	[46a2df6cafe4]

	* TODO, src/lib-sieve/tst-exists.c, src/testsuite/Makefile.am,
	src/testsuite/tests/exists.svtest, src/testsuite/testsuite-
	objects.c:
	Testsuite: added tests for 'exists' test and fixed a semantic error
	in the 'exists' test.
	[ce5660cb5dbf]

	* TODO, src/lib-sieve/ext-envelope.c, src/lib-sieve/sieve-address-
	parts.c, src/testsuite/tests/testsuite.svtest, src/testsuite
	/testsuite-objects.c:
	Testsuite: tested handling of teststuite envelope environment and
	fixed bugs in the envelope test in the process.
	[ff0f9c67a106]

	* src/testsuite/Makefile.am, src/testsuite/tests/address-
	parts/subaddress.svtest, src/testsuite/testsuite-common.c:
	Testsuite: added test case for subadress extension.
	[21061d5f3422]

	* Makefile.am, TODO, configure.in, src/Makefile.am,
	src/testsuite/Makefile.am, src/testsuite/tests/testsuite.svtest,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite.c:
	Coupled testsuite to 'make test'.
	[36ab72963cd1]

	* sieve/tests/encoded-character.sieve, src/lib-sieve/cmd-if.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-encoded-character.c,
	src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/tst-address.c, src/lib-sieve/tst-allof.c, src/lib-sieve/tst-
	anyof.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src
	/lib-sieve/tst-not.c, src/lib-sieve/tst-size.c:
	Cleaned up test and core extension implementations.
	[5df6769ad854]

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve
	/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-
	require.c:
	Cleaned up command implementations.
	[837769563332]

	* src/lib-sieve/sieve-script-private.h, src/lib-sieve/sieve-script.c:
	Fixed handling of script files that are in fact symbolic links.
	[fd9003533d28]

	* src/lib-sieve/sieve-binary.c:
	Fixed bug in binary created without a corresponding script object.
	[9560bfd8e2e5]

	* TODO, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-error.c, src
	/lib-sieve/sieve-error.h, src/lib-sieve/sieve-script.c:
	Reversed stat() and open() on two occasions to make retrieved stat
	information guaranteed to be valid for the opened file and added
	error handling for various close() system calls.
	[b04c29c4ac90]

	* TODO:
	Updated TODO list.
	[bab521877ded]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-modifiers.c, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	actions.c:
	Removed various unnecessary includes of <ctype.h> and replaced yey
	another toupper() with its i_* equivalent.
	[2e1963c29390]

	* src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-
	numeric.c, src/lib-sieve/plugins/variables/ext-variables-name.c:
	Removed direct use of isdigit, isalpha and isalnum and replaced
	these with their dovecot i_* equivalents to prevent problems on some
	systems.
	[732c5001ccb5]

	* TODO:
	Updated TODO.
	[47c0a9d219b6]

	* src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/ext-
	variables-common.h, src/lib-sieve/plugins/variables/ext-variables-
	modifiers.c, src/lib-sieve/plugins/variables/ext-variables-
	modifiers.h, src/lib-sieve/plugins/variables/ext-variables.c, src
	/lib-sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/variables-match.sieve,
	src/testsuite/tests/extensions/variables/basic.svtest:
	Variables: made set modifiers descendants of the sieve object too.
	[6c31299662d8]

2008-07-20  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-objects.c,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-
	objects.h:
	Testsuite: made testsuite objects a descendant from sieve objects.
	[12a346d25711]

	* TODO, src/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-match-types.c, src/lib-sieve
	/sieve-validator.c, src/lib-sieve/sieve-validator.h:
	Removed remaining code duplication among comparators, match types
	and address parts.
	[1654a241fa56]

	* TODO:
	Updated TODO list.
	[8292d75ce253]

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-actions.c,
	src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-address-parts.h,
	src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-
	sieve/sieve-comparators.h, src/lib-sieve/sieve-match-types.h, src
	/lib-sieve/sieve-objects.c, src/lib-sieve/sieve-objects.h:
	Made side effects sieve objects too.
	[81b6c6a65f86]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmp-i-ascii-casemap.c, src
	/lib-sieve/cmp-i-octet.c, src/lib-sieve/mcht-contains.c, src/lib-
	sieve/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c,
	src/lib-sieve/plugins/regex/ext-regex-common.c, src/lib-
	sieve/plugins/regex/mcht-regex.c, src/lib-sieve/plugins/relational
	/ext-relational-common.c, src/lib-sieve/plugins/relational/mcht-
	count.c, src/lib-sieve/plugins/relational/mcht-value.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve
	/sieve-common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/lib-sieve/sieve-match-types.c, src/lib-
	sieve/sieve-match-types.h, src/lib-sieve/sieve-objects.c, src/lib-
	sieve/sieve-objects.h:
	Introduced the concept of a sieve object to merge the coding of
	comparators, match types, address parts and other objects that might
	need to be represented in byte code (removes lots of code
	duplication).
	[344eaae8693c]

2008-07-19  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/cmp-i-octet.c, src/lib-sieve/mcht-contains.c,
	src/lib-sieve/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/plugins/regex/Makefile.am, src/lib-sieve/plugins/regex/ext-
	regex-common.c, src/lib-sieve/plugins/regex/ext-regex-common.h, src
	/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/mcht-regex.c, src/lib-sieve/plugins/relational/ext-relational-
	common.c, src/lib-sieve/plugins/relational/ext-relational-common.h,
	src/lib-sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-match-types.c, src/lib-sieve/sieve-match-types.h:
	Revised extension support for match-types.
	[a6bf1b1c8a2b]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmp-i-ascii-casemap.c, src
	/lib-sieve/cmp-i-octet.c, src/lib-sieve/sieve-comparators.c, src
	/lib-sieve/sieve-comparators.h:
	Cleaned up comparator implementation.
	[8976941d215c]

	* TODO, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i
	-ascii-numeric.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/testsuite/tests/comparators/core.svtest:
	Revised extension support for comparators.
	[29676b9e16c2]

2008-07-18  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-comparators.c:
	Fixed stupid bug in the match-type context validation.
	[e67e5024a970]

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-ast.c, src/lib-sieve
	/sieve-ast.h, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	error.c, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-lexer.c,
	src/lib-sieve/sieve-parser.c, src/lib-sieve/sieve-result.c, src/lib-
	sieve/sieve-script-private.h, src/lib-sieve/sieve-script.c, src/lib-
	sieve/sieve-types.h, src/lib-sieve/sieve.h:
	Made error reporting cleaner by avoiding the scriptname of the main
	script and indicating that the printed numbers are in fact source
	code lines.
	[2c5ae7a67d28]

	* src/lib-sieve/sieve-validator.h:
	Fixed warnings caused by remaining spurious inline definitions in
	sieve-validator.h
	[bfc24ba04381]

2008-07-17  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-lexer.h, src/lib-
	sieve/sieve-parser.c, src/lib-sieve/sieve-parser.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-
	sieve-plugin.c:
	Code cleanup: parser, lexer, lda-plugin and main interface.
	[d5ca488d55b7]

	* TODO:
	Updated TODO.
	[c44e8d20b130]

2008-07-16  Stephan Bosch  <stephan@rename-it.nl>

	* INSTALL:
	Update INSTALL file.
	[c0acf033f79d]

	* README, TODO:
	Updated documentation.
	[3f2415b96676]

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/vacation/cmd-vacation.c,
	src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src
	/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-interpreter.c, src
	/lib-sieve/sieve-interpreter.h, src/lib-sieve/sieve-result.c, src
	/lib-sieve/sieve-result.h:
	Made runtime errors for action conflicts more user-friendly by
	adding sourcecode line numbers.
	[5dfc5676bd6f]

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve
	/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-
	require.c, src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-
	fileinto.c, src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/body
	/tst-body.c, src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/include/cmd-include.c, src
	/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/tst-
	string.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-commands.c,
	src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-common.h, src
	/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-generator.c, src
	/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-match-types.c, src
	/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-
	sieve/tst-address.c, src/lib-sieve/tst-allof.c, src/lib-sieve/tst-
	anyof.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src
	/lib-sieve/tst-not.c, src/lib-sieve/tst-size.c, src/testsuite/cmd-
	test-fail.c, src/testsuite/cmd-test-set.c, src/testsuite/cmd-test.c,
	src/testsuite/testsuite-objects.c:
	Cleaned up generator code and added emission of source line
	positions for all actions.
	[d60e232af73e]

2008-07-14  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, sieve/tests/stop.sieve, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve/sieve-parser.c:
	Resolved various small issues.
	[dd844326cd20]

	* TODO, src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h, src
	/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/sieve-bin/sieve-exec.c, src/sieve-bin
	/sieve-test.c, src/testsuite/testsuite.c:
	Removed last significant printf()s from library code.
	[663bb4cf98d8]

	* sieve/tests/actions.sieve, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/ext-encoded-character.c, src/lib-sieve/plugins/copy/ext-
	copy.c, src/lib-sieve/plugins/vacation/cmd-vacation.c, src/lib-sieve
	/sieve-address.c, src/lib-sieve/sieve-address.h, src/lib-sieve
	/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-
	result.c:
	Added address normalization to prevent redirect action duplicates.
	[41e894bd5adb]

	* src/lib-sieve/sieve-actions.c:
	Made "INBOX" folder name case-insensitive.
	[ad20dac29faf]

	* TODO, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-redirect.c, src
	/lib-sieve/ext-reject.c, src/lib-sieve/plugins/copy/ext-copy.c, src
	/lib-sieve/plugins/imapflags/imapflags-implicit.sieve, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-common.h,
	src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-
	sieve/sieve-validator.c, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/sieve-bin/sieve-test.c,
	src/testsuite/testsuite.c:
	Built result print functions thus removing various printf()s.
	[ab0569f04717]

	* TODO, src/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-lexer.c, src/lib-sieve
	/sieve-result.c, src/sieve-bin/sieve-exec.c:
	Removed various printf()s.
	[8b83101ed51a]

	* README, TODO, src/lib-sieve/plugins/imapflags/ext-imapflags.c, src
	/lib-sieve/plugins/imapflags/imapflags.sieve, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-result.c:
	Implemented support for side-effects to implicit keep and finished
	the imapflags extension.
	[c0b959cfdf01]

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/imapflags/ext-imapflags.c, src
	/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-extensions.c, src/lib-sieve
	/sieve-extensions.h, src/lib-sieve/sieve-interpreter.c, src/lib-
	sieve/sieve-match-types.c, src/testsuite/ext-testsuite.c:
	Previous change in extension interface for implicit side effect
	support broke include extension.
	[4cb32478d80d]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-discard.c, src/lib-
	sieve/cmd-redirect.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body-common.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/imapflags/ext-imapflags-common.c,
	src/lib-sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/plugins/include/ext-include-
	common.h, src/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/include/include.sieve, src/lib-sieve/plugins/vacation
	/cmd-vacation.c, src/lib-sieve/plugins/variables/ext-variables.c,
	src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src
	/lib-sieve/sieve-common.h, src/lib-sieve/sieve-extensions.c, src
	/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-interpreter.c,
	src/lib-sieve/sieve-interpreter.h, src/lib-sieve/sieve-message.c,
	src/lib-sieve/sieve-message.h, src/lib-sieve/sieve-result.c, src
	/lib-sieve/sieve-result.h:
	Added support for implicit side effects and adjusted imapflags
	extension accordingly.
	[f55d47d1daee]

2008-07-13  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/imapflags/tag-flags.c, src/lib-sieve
	/sieve-actions.c, src/lib-sieve/sieve-actions.h:
	Imapflags: flags are stored for explicit actions.
	[9fa69efd67d1]

2008-07-12  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c:
	Imapflags: cleaned up some debug messages and fixed triggered
	assertion.
	[ebdd1e5333ca]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c:
	Forgot a few trace macros.
	[4f32214d959c]

	* TODO:
	Updated TODO list.
	[9d16b8207a91]

	* src/lib-sieve/sieve-actions.c:
	Fixed typos in some error messages.
	[584e2516320d]

	* sieve/errors/out-address-errors.sieve, src/lib-sieve/Makefile.am,
	src/lib-sieve/cmd-redirect.c, src/lib-sieve/plugins/vacation/cmd-
	vacation.c, src/lib-sieve/sieve-address.c, src/lib-sieve/sieve-
	address.h, src/lib-sieve/sieve-validator-address.c, src/lib-sieve
	/sieve-validator.h:
	Improved address validation significantly.
	[3d2a4f000814]

	* src/testsuite/tests/control-structures.svtest, src/testsuite/tests
	/match-types/contains.svtest:
	Added two simple test cases.
	[8354f6045c96]

	* src/lib-sieve/sieve-commands.c:
	Forgot trace macro for the stop command.
	[2affc8a239aa]

	* TODO:
	Removed llist TODO item, turns out to be less mergeable than
	initially thought.
	[e324d382f62b]

2008-06-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/testsuite/tests/match-types/matches.svtest:
	Testsuite: extended :matches tests.
	[3cc1f848aa72]

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src/lib-sieve
	/cmd-redirect.c, src/lib-sieve/plugins/body/tst-body.c, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/tst-string.c, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c,
	src/lib-sieve/tst-size.c, src/testsuite/cmd-test-fail.c,
	src/testsuite/cmd-test-set.c, src/testsuite/cmd-test.c,
	src/testsuite/ext-testsuite.c, src/testsuite/tests/match-
	types/matches.svtest, src/testsuite/testsuite-common.c,
	src/testsuite/testsuite-common.h, src/testsuite/testsuite.c:
	Introduced trace macro for runtime tracing and improved testsuite
	implementation.
	[d4206ad35724]

	* src/lib-sieve/mcht-matches.c, src/testsuite/mail-raw.c,
	src/testsuite/tests/match-types/matches.svtest:
	Testsuite: fixed CRLF bug in reading a script-specified mail
	message.
	[65bedbabab62]

	* sieve/tests/matches.sieve, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/tst-header.c, src/testsuite/tests/match-types/matches.svtest:
	Fixed bugs in :matches implementation.
	[ded9f063bb3b]

2008-06-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-generator.c, src/testsuite/tests/match-
	types/matches.svtest, src/testsuite/tests/testsuite.sieve,
	src/testsuite/tests/testsuite.svtest:
	Added testcase to the testsuite.
	[901e88d94ef2]

	* README, src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-
	envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-
	reject.c, src/lib-sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/variables
	/ext-variables.c:
	Updated documentation.
	[fe8d65b77b9d]

	* TODO:
	Updated TODO.
	[e591cfdaaab9]

	* TODO, src/lib-sieve/sieve-error-private.h, src/lib-sieve/sieve-
	error.c, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-parser.c,
	src/lib-sieve/sieve-validator.c, src/plugins/lda-sieve/lda-sieve-
	plugin.c, src/sieve-bin/bin-common.c, src/sieve-bin/sieve-exec.c,
	src/sieve-bin/sieve-test.c, src/testsuite/testsuite.c:
	Added support for limits on the maximum number of errors collected
	during compilation.
	[16066e307609]

	* README, TODO:
	Updated documentation.
	[4282b0a65c30]

	* sieve/errors/out-address-errors.sieve, src/lib-sieve/Makefile.am,
	src/lib-sieve/cmd-redirect.c, src/lib-sieve/plugins/vacation/cmd-
	vacation.c, src/lib-sieve/sieve-address.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-validator-address.c, src/lib-sieve
	/sieve-validator.h:
	Added compile-time address validation.
	[d977d476923d]

	* doc/rfc/imail.rfc2822.txt:
	Added IMAIL rfc.
	[252d826d42e3]

	* doc/rfc/draft-ietf-sieve-3028bis-13.txt, doc/rfc/rfc3028.txt,
	doc/rfc/rfc3629.txt, doc/rfc/sieve.rfc5228.txt,
	doc/rfc/utf-8.rfc3629.txt:
	Updated doc/rfc directory.
	[c045f8d8aaf8]

	* README, TODO:
	Updated documentation.
	[85aee022d63b]

	* src/lib-sieve/ext-fileinto.c, src/lib-sieve/plugins/imapflags/tag-
	flags.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code-
	dumper.c, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-extensions-private.h:
	Imapflags: finished for implicit flag attachment to fileinto and
	keep commands.
	[b9d8f9649bde]

2008-06-17  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/ext-encoded-character.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/copy/ext-
	copy.c, src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src
	/lib-sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/vacation/cmd-vacation.c, src
	/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-sieve
	/sieve-address-parts.c, src/lib-sieve/sieve-ast.c, src/lib-sieve
	/sieve-ast.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	match-types.c, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h, src/lib-sieve/tst-size.c, src/testsuite/testsuite-
	objects.c:
	Added the concept of persistent tags and implemented imapflags
	extension for bare keep and fileinto commands (intermittent commit,
	not working properly yet).
	[b941171d7557]

2008-06-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/imapflags-variables.sieve, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Imapflags: added execution support for variables.
	[3115627a9c60]

	* src/lib-sieve/plugins/imapflags/Makefile.am, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/imapflags-variables.sieve, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-arguments.c, src/lib-sieve/plugins/variables/ext-
	variables-arguments.h, src/lib-sieve/plugins/variables/ext-
	variables-operands.c, src/lib-sieve/plugins/variables/ext-variables-
	operands.h, src/lib-sieve/plugins/variables/sieve-ext-variables.h,
	src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h:
	Imapflags: added validation and code support for variables.
	[eebce2c24704]

2008-06-03  Stephan Bosch  <stephan@rename-it.nl>

	* TODO, src/lib-sieve/plugins/vacation/vacation.sieve, src/lib-sieve
	/sieve-validator.c:
	Fixed bug in duplicate argument detection.
	[9a8045ad9897]

	* src/lib-sieve/plugins/vacation/Makefile.am, src/lib-
	sieve/plugins/vacation/cmd-vacation.c, src/lib-
	sieve/plugins/vacation/ext-vacation-common.h, src/lib-
	sieve/plugins/vacation/ext-vacation.c:
	Vacation: exported command implementation to separate file.
	[c0d69bd47692]

	* src/lib-sieve/sieve-binary.c, src/sieve-bin/sieved.c:
	Fixed bug in sieved.
	[0cf9a6ab85d6]

	* INSTALL, README, configure.in, src/sieve-bin/Makefile.am:
	Minor compile and documentation changes.
	[5d55a9fb061d]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Made lda sieve plugin save and load binaries.
	[98a4a28d48d3]

	* src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve
	/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-commands.c,
	src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-comparators.c,
	src/lib-sieve/sieve-comparators.h, src/lib-sieve/sieve-generator.c,
	src/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-interpreter.c,
	src/lib-sieve/sieve-interpreter.h, src/lib-sieve/sieve-lexer.c, src
	/lib-sieve/sieve-lexer.h, src/lib-sieve/sieve-result.c, src/lib-
	sieve/sieve-result.h, src/lib-sieve/sieve-script.c, src/lib-sieve
	/sieve-script.h, src/lib-sieve/sieve-validator.c, src/lib-sieve
	/sieve-validator.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h,
	src/sieve-bin/sievec.c, src/testsuite/cmd-test.c, src/testsuite
	/testsuite-common.c:
	Resolved all outstanding warnings.
	[61acd01fe9df]

	* DESIGN, INSTALL, Makefile.am, README, TODO, src/lib-
	sieve/Makefile.am, src/lib-sieve/plugins/body/Makefile.am, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/Makefile.am, src/lib-
	sieve/plugins/copy/Makefile.am, src/lib-
	sieve/plugins/imapflags/Makefile.am, src/lib-sieve/plugins/imapflags
	/ext-imapflags-common.c, src/lib-sieve/plugins/include/Makefile.am,
	src/lib-sieve/plugins/regex/Makefile.am, src/lib-
	sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/subaddress/Makefile.am, src/lib-
	sieve/plugins/vacation/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am:
	Updated documentation and fixed 'make dist'.
	[65c7b117ff36]

2008-05-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-generator.h,
	src/testsuite/Makefile.am, src/testsuite/cmd-test-fail.c,
	src/testsuite/cmd-test.c, src/testsuite/ext-testsuite.c,
	src/testsuite/tests/testsuite.sieve, src/testsuite/testsuite-
	common.c, src/testsuite/testsuite-common.h:
	Testsuite: added test_fail command.
	[063d37ff4c79]

	* src/lib-sieve/cmd-if.c, src/lib-sieve/sieve-generator.c, src/lib-
	sieve/sieve-generator.h, src/lib-sieve/tst-allof.c, src/lib-sieve
	/tst-anyof.c, src/testsuite/Makefile.am, src/testsuite/cmd-test-
	set.c, src/testsuite/cmd-test.c, src/testsuite/ext-testsuite.c,
	src/testsuite/tests/testsuite.sieve, src/testsuite/testsuite-
	common.h, src/testsuite/testsuite-objects.c:
	Testsuite: added 'test' command to group sieve statements into a
	test.
	[3cc05036846c]

2008-05-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/testsuite/cmd-test-set.c, src/testsuite/ext-testsuite.c,
	src/testsuite/tests/testsuite.sieve, src/testsuite/testsuite-
	common.c, src/testsuite/testsuite-common.h, src/testsuite/testsuite-
	objects.c, src/testsuite/testsuite-objects.h:
	Testsuite: added support for test object members.
	[62f783ff9f22]

2008-05-25  Stephan Bosch  <stephan@rename-it.nl>

	* src/testsuite/Makefile.am, src/testsuite/cmd-test-set.c,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite-objects.c, src/testsuite/testsuite-
	objects.h:
	Testsuite: exported testsuit object interface to separate files.
	[e26637dce509]

	* src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-extensions-
	private.h, src/testsuite/Makefile.am, src/testsuite/cmd-test-
	message.c, src/testsuite/cmd-test-set.c, src/testsuite/ext-
	testsuite.c, src/testsuite/tests/testsuite.sieve, src/testsuite
	/testsuite-common.c, src/testsuite/testsuite-common.h:
	Testsuite: implemented testsuite object interface.
	[3e39d288a27f]

2008-05-21  Stephan Bosch  <stephan@rename-it.nl>

	* README, src/lib-sieve/plugins/vacation/vacation-errors.sieve:
	vacation: added TODO regarding duplicate tagged arguments to the
	vacation command.
	[62ced79fac8a]

	* .hgignore, src/testsuite/testsuite:
	testsuite: removed spurious binary from repository.
	[058401bf5f8a]

	* configure.in, src/testsuite/Makefile.am, src/testsuite/cmd-test-
	message.c, src/testsuite/mail-raw.c,
	src/testsuite/tests/testsuite.sieve, src/testsuite/testsuite,
	src/testsuite/testsuite-common.c, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite.c:
	Testsuite: setting message content works.
	[93b3a300c389]

	* src/lib-sieve/sieve-binary-dumper.c, src/lib-sieve/sieve-code-
	dumper.c, src/lib-sieve/sieve-extensions-private.h, src/lib-sieve
	/sieve-extensions.c, src/testsuite/cmd-test-message.c, src/testsuite
	/ext-testsuite.c, src/testsuite/testsuite,
	src/testsuite/testsuite.c:
	Fixed execution of initial testsuite implementation.
	[c1455741740d]

2008-05-20  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/plugins/imapflags/ext-imapflags.c, src
	/lib-sieve/plugins/include/ext-include-binary.c, src/lib-
	sieve/plugins/include/ext-include-binary.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	binary-dumper.c, src/lib-sieve/sieve-binary-dumper.h, src/lib-sieve
	/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-
	code-dumper.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-extensions.h, src/lib-sieve/sieve-match-types.c,
	src/testsuite/testsuite:
	Properly implemented dumping a binary including a list of required
	extensions and support for extension-specific output.
	[49041cf55a5c]

2008-05-18  Stephan Bosch  <stephan@rename-it.nl>

	* .hgignore, src/Makefile.am, src/lib-sieve/Makefile.am, src/lib-sieve
	/ext-reject.c, src/lib-sieve/plugins/body/ext-body.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/imapflags/ext-
	imapflags-common.c, src/lib-sieve/plugins/imapflags/imapflags.sieve,
	src/lib-sieve/plugins/imapflags/tag-flags.c, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-actions.c,
	src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-binary-
	dumper.c, src/lib-sieve/sieve-binary-dumper.h, src/lib-sieve/sieve-
	binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code-
	dumper.c, src/lib-sieve/sieve-code-dumper.h, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-common.h,
	src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-dump.h, src
	/lib-sieve/sieve-extensions-private.h, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve.c, src
	/lib-sieve/tst-header.c, src/testsuite/Makefile.am, src/testsuite
	/cmd-test-message.c, src/testsuite/ext-testsuite.c, src/testsuite
	/mail-raw.c, src/testsuite/mail-raw.h, src/testsuite/namespaces.c,
	src/testsuite/namespaces.h, src/testsuite/tests/testsuite.sieve,
	src/testsuite/testsuite, src/testsuite/testsuite-common.h,
	src/testsuite/testsuite.c:
	RECOVERED FROM INCONSISTENCY: developed testsuite and binary dumping
	and fixed various small issues.
	[5173404351c7]

2008-04-06  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated documentation.
	[e80c85bfd227]

	* src/lib-sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/include/cmd-export.c, src/lib-sieve/plugins/include
	/cmd-import.c, src/lib-sieve/plugins/include/ext-include-common.c,
	src/lib-sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/include-variables.sieve, src/lib-
	sieve/plugins/include/include-variables1.sieve, src/lib-
	sieve/plugins/include/include-variables2.sieve, src/lib-
	sieve/plugins/include/include-variables3.sieve, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/ext-
	variables-common.h, src/lib-sieve/plugins/variables/ext-variables-
	operands.c, src/lib-sieve/plugins/variables/ext-variables.c, src
	/lib-sieve/plugins/variables/sieve-ext-variables.h:
	Include: merged import and export commands into a single
	implementation and implemented global variable storage.
	[2071bd319715]

	* README, src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.c, src/lib-
	sieve/plugins/variables/ext-variables-operands.h, src/lib-
	sieve/plugins/variables/ext-variables.c:
	Variables: exported new operand definitions to separate file.
	[1515291be1fe]

2008-04-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/ext-variables-arguments.c, src/lib-
	sieve/plugins/variables/ext-variables-arguments.h, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables.c:
	Variables: exported new argument definitions to separate file.
	[889cea0db5b6]

	* src/lib-sieve/plugins/include/cmd-export.c, src/lib-
	sieve/plugins/include/cmd-import.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/plugins/include/ext-include-
	variables.c, src/lib-sieve/plugins/include/ext-include-variables.h:
	Include: implemented global variable scope.
	[5cce69ab4eb4]

2008-04-03  Stephan Bosch  <stephan@rename-it.nl>

	* README, src/sieve-bin/sieve-test.c:
	Added -c option to sieve-test to force compile.
	[5c2eeabbafbe]

2008-03-24  Stephan Bosch  <stephan@rename-it.nl>

	* README, src/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/variables/ext-variables.c:
	Updated documentation.
	[157a94a31c54]

	* src/lib-sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/include/cmd-export.c, src/lib-sieve/plugins/include
	/cmd-import.c, src/lib-sieve/plugins/include/ext-include-binary.h,
	src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include-variables.c, src/lib-
	sieve/plugins/include/ext-include-variables.h, src/lib-
	sieve/plugins/include/include-variables1.sieve, src/lib-
	sieve/plugins/include/include-variables2.sieve:
	Include: moved variables support to separate file.
	[9a997c6e97d0]

	* src/lib-sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/include/cmd-export.c, src/lib-sieve/plugins/include
	/ext-include-binary.c, src/lib-sieve/plugins/include/ext-include-
	binary.h, src/lib-sieve/plugins/include/ext-include-common.c, src
	/lib-sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c:
	Include: moved implementation of binary extension to separate file.
	[29877e0201ea]

	* src/lib-sieve/plugins/include/cmd-export.c, src/lib-
	sieve/plugins/include/cmd-import.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/plugins/include/ext-include-
	common.h, src/lib-sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/include/include-variables-error2.sieve, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-sieve/sieve-
	ast.c, src/lib-sieve/sieve-ast.h:
	Include: added AST context and now export context detectects export
	of imported variables.
	[7e2750e9e64b]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/include-error.sieve, src/lib-sieve/sieve-
	ast.c, src/lib-sieve/sieve-ast.h:
	Include: moved script existance validation back to validation stage.
	[f179c5640bed]

	* src/lib-sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/include/cmd-export.c, src/lib-sieve/plugins/include
	/cmd-import.c, src/lib-sieve/plugins/include/include-variables-
	error.sieve, src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Include: made import and export commands check whether the variables
	extension is active.
	[b1e85659979f]

2008-03-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/Makefile.am, src/lib-
	sieve/plugins/include/cmd-export.c, src/lib-sieve/plugins/include
	/cmd-import.c, src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/include
	/include-variables.sieve, src/lib-sieve/plugins/include/include-
	variables1.sieve, src/lib-sieve/plugins/include/include-
	variables2.sieve, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-script.c:
	Include: added skeleton import and export commands.
	[c3f48302b86a]

	* README:
	Updated TODO.
	[404001bc4009]

	* src/lib-sieve/plugins/regex/mcht-regex.c, src/lib-
	sieve/plugins/variables/Makefile.am, src/lib-sieve/plugins/variables
	/variables-regex.sieve, src/lib-sieve/sieve-match-types.c, src/lib-
	sieve/sieve-match-types.h:
	Regex: added match values support.
	[5dfb64a0f93b]

	* src/lib-sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/relational/ext-relational-common.c, src/lib-
	sieve/plugins/relational/ext-relational-common.h, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/mcht-count.c, src/lib-
	sieve/plugins/relational/mcht-value.c:
	Relational: split match-type implementation into separate file.
	[c3887aa30660]

	* src/lib-sieve/plugins/regex/Makefile.am, src/lib-sieve/plugins/regex
	/ext-regex-common.h, src/lib-sieve/plugins/regex/ext-regex.c, src
	/lib-sieve/plugins/regex/mcht-regex.c:
	Regex: split match type implementation into separate file.
	[6de0ef9ce851]

	* src/lib-sieve/Makefile.am, src/lib-sieve/mcht-contains.c, src/lib-
	sieve/mcht-is.c, src/lib-sieve/mcht-matches.c, src/lib-
	sieve/plugins/body/ext-body-common.c, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/sieve-match-types.h:
	Exported match type implementations to separate files.
	[9c87314c8c6e]

2008-03-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/variables-match.sieve, src/lib-sieve
	/sieve-match-types.c:
	Finished :matches function for now, but it can still be improved and
	it needs more testing.
	[dce3ebd372de]

2008-03-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/variables-match.sieve, src/lib-sieve
	/sieve-match-types.c, src/lib-sieve/sieve-match-types.h:
	Revised :matches function, but did finish.
	[361d7952dcc3]

2008-03-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/variables-match.sieve, src/lib-sieve
	/sieve-match-types.c:
	Variables: fixed bug in match value indexing.
	[eb6b7af13024]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/plugins/body/tst-body.c,
	src/lib-sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-
	sieve/plugins/variables/variables-match.sieve, src/lib-sieve/sieve-
	match-types.c, src/lib-sieve/sieve-match-types.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-header.c:
	Variables: First work towards match value support.
	[39ae5f637374]

2008-02-28  Stephan Bosch  <stephan@rename-it.nl>

	* README, src/lib-sieve/plugins/variables/ext-variables.c:
	Updated documentation.
	[b01fae741c62]

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/variables-errors.sieve:
	Variables: added variable name parsing to the set command and added
	error handling.
	[636f16de84ad]

	* src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-name.c, src/lib-
	sieve/plugins/variables/ext-variables-name.h, src/lib-
	sieve/plugins/variables/variables-nspace.sieve:
	Variables: exported namespace+variable parsing to separate file.
	[1eb6468cbb57]

	* src/lib-sieve/plugins/variables/ext-variables-common.c:
	Variables: exported namespace+variable parsing to separate function.
	[324762d634a0]

	* README:
	Updated documentation.
	[2d7d8b3882d6]

2008-02-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/plugins/variables/ext-
	variables-common.c:
	Variables: added parsing support for namespaces.
	[be3b8bac2c3b]

	* src/lib-sieve/plugins/variables/tst-string.c:
	Variables: fixed string test.
	[6b07d2c2aecf]

2008-02-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Expand ~ to home in sieve path.
	[5a26dbbd6b04]

2008-02-25  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c:
	Fixed indent in sieve-banary.c
	[b3ad65e8017e]

	* src/lib-sieve/sieve-script.c:
	Simplified needlessly complex assignment.
	[71baeea1b4c2]

	* README:
	Added TODO item.
	[5e891151c11d]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/sieve-
	comparators.c:
	Avoid direct to_lower() invocations; replaced by i_tolower().
	[4a4da0b36b73]

	* README:
	Updated documentation.
	[23fddcb3bff4]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/sieve-code.c,
	src/lib-sieve/sieve-match-types.c:
	Changed various p_new(pool_datastack_create(),) invocations to
	t_new()
	[4a350bcb98fb]

	* src/lib-sieve/ext-envelope.c, src/lib-
	sieve/plugins/variables/variables.sieve:
	Envelope: changed p_array_init(,pool_datastack_create(),) into
	t_array_init(,)
	[d2659865968c]

	* README:
	Updated documentation.
	[8854635f2819]

2008-02-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/variables.sieve, src/lib-sieve/sieve-code.c:
	Variables: fixed bug in string-list containing variables.
	[bda964bee9f5]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-
	sieve/plugins/variables/variables.sieve, src/lib-sieve/sieve-
	commands.c:
	Fixed bugs in string substitution support and the regex extension.
	[2c93a6f1f120]

	* src/lib-sieve/plugins/variables/draft-ietf-sieve-variables-08.txt,
	src/lib-sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/rfc5229.txt:
	Variables: updated included specification to new RFC 5229.
	[970977365e61]

	* README:
	Updated documentation.
	[8223da28978b]

	* src/lib-sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/variables.sieve:
	Variables: made variable identifiers case insensitive.
	[22ba1d548f77]

2008-02-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/variables-errors.sieve:
	Variables: added check for equal precedence and added comment.
	[78ac4b9fd4b7]

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/variables.sieve:
	Variables: activated 'quotewildcard' set modifier and fixed a bug.
	[f5cc923c0cf8]

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/variables.sieve:
	Variables: activated 'length' set modifier.
	[571ff4050c4e]

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/variables.sieve:
	Variables: activated support for set command modifiers.
	[9c3840cc68f6]

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Adjusted body extension to compile with dovecot past 1.1.beta16
	(message parser changes)
	[854549e5e6d9]

2008-02-14  Stephan Bosch  <stephan@rename-it.nl>

	* AUTHORS:
	Added notice about the omission CMU code to the AUTHORS file.
	[e10b34c008dd]

	* .hgignore, configure.in:
	Assigned proper package version and name.
	[19fa7bfb0623]

	* .hgignore, COPYING:
	Removed duplicate licence.
	[be7aad6c814d]

	* Makefile.am:
	Added maintainermode functions to Makefile.am
	[fdf2ea8d11d3]

2008-02-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-encoded-character.c, src/lib-sieve/plugins/body
	/ext-body-common.c, src/lib-sieve/sieve-address-parts.c, src/lib-
	sieve/sieve-ast.c, src/lib-sieve/sieve-binary.c, src/lib-sieve
	/sieve-commands.c, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-
	error.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	parser.c, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve.c,
	src/plugins/lda-sieve/lda-sieve-plugin.c:
	Incorporated changes in dovecot-1.1
	[c8c67641d0dc]

2008-02-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/variables.sieve:
	Variables: set modifiers are now sorted.
	[5ceb8e6709ef]

2008-02-10  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Added code support for set modifiers.
	[edba29e3d158]

2008-01-06  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/imapflags/ext-
	imapflags-common.c, src/lib-sieve/plugins/imapflags/tst-hasflag.c,
	src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/tst-
	string.c, src/lib-sieve/plugins/variables/variables.sieve, src/lib-
	sieve/sieve-validator.c, src/lib-sieve/tst-address.c, src/lib-sieve
	/tst-exists.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c:
	Fixed bugs in validation error handling and fixed bugs in dynamic
	argument support.
	[207f7dea843e]

2008-01-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/variables.sieve, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-validator.c:
	First successful variable substitutions.
	[beaacb4d8406]

	* Merged concurrent changes.
	[8e8f0012b6c1]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/imapflags/cmd-
	addflag.c, src/lib-sieve/plugins/imapflags/cmd-removeflag.c, src
	/lib-sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h, src/lib-
	sieve/plugins/variables/tst-string.c, src/lib-sieve/sieve-actions.c,
	src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-address-parts.c,
	src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-code.c, src
	/lib-sieve/sieve-code.h, src/lib-sieve/sieve-comparators.c, src/lib-
	sieve/sieve-comparators.h, src/lib-sieve/sieve-interpreter.c, src
	/lib-sieve/sieve-match-types.c, src/lib-sieve/sieve-match-types.h,
	src/lib-sieve/tst-address.c, src/lib-sieve/tst-exists.c, src/lib-
	sieve/tst-header.c, src/lib-sieve/tst-size.c:
	Changed operand read API to get access to the runtime environment
	inside the read functions.
	[be351797c032]

2008-01-04  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/errors/interesting.sieve, src/lib-sieve/sieve-parser.c:
	Minor fix in the error reporting of the sieve parser.
	[d403335a9351]

	* src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-extensions.h,
	src/lib-sieve/sieve.c:
	Implemented dynamic sieve_get_capabilities() for proper MANAGESIEVE
	support.
	[5ecaa79ab879]

	* src/lib-sieve/sieve.c, src/lib-sieve/sieve.h:
	Published compiler API using script objects instead of paths.
	[16d8c8b63bcc]

	* src/lib-sieve/sieve-validator.c:
	Fixed segfault occuring when command did not exist.
	[31182d66d254]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-script.c:
	Small changes: removed T_FRAME and improved an error message.
	[dac13553f2fa]

2008-01-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/Makefile.am, src/lib-sieve/plugins/include/ext-
	include-common.c, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	error-private.h, src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-
	error.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	parser.c, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-script-
	private.h, src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-
	script.h, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve.c,
	src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-sieve-plugin.c, src
	/sieve-bin/bin-common.c, src/sieve-bin/sieve-exec.c, src/sieve-bin
	/sieve-test.c:
	Implemented required features for use with MANAGESIEVE service.
	[41d479d33f26]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h:
	Added strbuf error handler.
	[57118bf13efc]

2007-12-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-match-types.c:
	Added variable operand to the variables extension.
	[cd89ce24b255]

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-address-parts.c,
	src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-
	sieve/sieve-comparators.c, src/lib-sieve/sieve-extensions.h, src
	/lib-sieve/sieve-match-types.c:
	Added support for adding new types operands to the engine.
	[6f5eadd0e4c8]

	* src/lib-sieve/plugins/variables/cmd-set.c, src/lib-
	sieve/plugins/variables/ext-variables-common.c, src/lib-
	sieve/plugins/variables/ext-variables-common.h, src/lib-
	sieve/plugins/variables/sieve-ext-variables.h:
	Defined variable argument for the variables extension.
	[b0552c08b279]

2007-12-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-generator.c, src
	/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/sieve-validator.h:
	Changed validation and generation of string list argument to fully
	support the new string list encoding.
	[f65dd8431ae8]

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-binary.c, src
	/lib-sieve/sieve-code.c:
	Changed encoding of stringlist. Now it contains string operands in
	stead of bare strings.
	[7bac41b7e6c1]

	* src/lib-sieve/sieve-extensions-private.h:
	Removed obsolete code.
	[9aeb0333b0d7]

	* sieve/tests/address-part.sieve, src/lib-sieve/ext-encoded-
	character.c, src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-
	fileinto.c, src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/body
	/ext-body.c, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-
	cmp-i-ascii-numeric.c, src/lib-sieve/plugins/copy/ext-copy.c, src
	/lib-sieve/plugins/imapflags/tag-flags.c, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/ext-variables.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	code.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	comparators.h, src/lib-sieve/sieve-extensions-private.h, src/lib-
	sieve/sieve-extensions.h, src/lib-sieve/sieve-generator.c, src/lib-
	sieve/sieve-match-types.c, src/lib-sieve/sieve-validator.c:
	Removed much code duplication between extensions that provide
	support for further extension.
	[3009bde82cd7]

2007-12-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-
	numeric.c, src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve
	/sieve-code.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/lib-sieve/sieve-extensions-private.h, src
	/lib-sieve/sieve-match-types.c, src/lib-sieve/sieve-match-types.h:
	Further migrated implementation of extensions to new extension
	architecture.
	[4ac0b9e8635c]

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-if.c, src/lib-sieve
	/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-
	encoded-character.c, src/lib-sieve/ext-envelope.c, src/lib-sieve
	/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/body/tst-
	body.c, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i
	-ascii-numeric.c, src/lib-sieve/plugins/copy/copy.sieve, src/lib-
	sieve/plugins/copy/ext-copy.c, src/lib-sieve/plugins/imapflags/cmd-
	addflag.c, src/lib-sieve/plugins/imapflags/cmd-removeflag.c, src
	/lib-sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/include/cmd-include.c, src
	/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.h, src/lib-sieve/plugins/variables/ext-
	variables.c, src/lib-sieve/plugins/variables/tst-string.c, src/lib-
	sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve
	/sieve-address-parts.c, src/lib-sieve/sieve-binary.c, src/lib-sieve
	/sieve-binary.h, src/lib-sieve/sieve-code-dumper.c, src/lib-sieve
	/sieve-code-dumper.h, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	extensions-private.h, src/lib-sieve/sieve-extensions.c, src/lib-
	sieve/sieve-extensions.h, src/lib-sieve/sieve-generator.c, src/lib-
	sieve/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-
	sieve/sieve-match-types.c, src/lib-sieve/sieve-validator.c, src/lib-
	sieve/sieve.c, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c, src
	/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c:
	Major changes in the extensions support.
	[8b74028295fd]

2007-12-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-address-
	parts.h, src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-commands.c,
	src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-comparators.c,
	src/lib-sieve/sieve-comparators.h, src/lib-sieve/sieve-match-
	types.c, src/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve-
	validator.c, src/lib-sieve/sieve-validator.h:
	Changed implementation of command context handling and instanced
	tags to avoid duplicate lookups.
	[74d12bfed7c8]

	* src/lib-sieve/plugins/variables/Makefile.am, src/lib-
	sieve/plugins/variables/cmd-set.c, src/lib-sieve/plugins/variables
	/ext-variables-common.c, src/lib-sieve/plugins/variables/ext-
	variables-common.h, src/lib-sieve/plugins/variables/ext-variables.c,
	src/lib-sieve/plugins/variables/tst-string.c, src/lib-
	sieve/plugins/variables/variables.sieve:
	Further developed the variables extension.
	[492938049fc1]

2007-12-25  Stephan Bosch  <stephan@rename-it.nl>

	* README, configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/variables/Makefile.am, src/lib-sieve/plugins/variables
	/draft-ietf-sieve-variables-08.txt, src/lib-sieve/plugins/variables
	/ext-variables.c, src/lib-sieve/plugins/variables/variables.sieve,
	src/lib-sieve/sieve-extensions.c:
	Started skeleton implementation of variables extension.
	[cac5b0cdb8e6]

	* sieve/tests/encoded-character.sieve, src/lib-sieve/ext-encoded-
	character.c:
	Fixed non-standard behavior for the encoded-character extension.
	[6900d4693821]

	* README, sieve/errors/encoded-character.sieve, sieve/tests/encoded-
	character.sieve, src/lib-sieve/ext-encoded-character.c, src/lib-
	sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/sieve-bin
	/mail-raw.c:
	Finished encoded-character extension.
	[dd6a814d5350]

	* doc/rfc/rfc3629.txt:
	Added UTF-8 rfc to doc/rfc directory.
	[772db2c40fd1]

	* sieve/tests/encoded-character.sieve, src/lib-sieve/ext-encoded-
	character.c, src/lib-sieve/sieve-validator.c:
	Built a little more extensive tests for the encoded-character
	extension.
	[f6cba45b3299]

2007-12-24  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/tests/encoded-character.sieve, src/lib-sieve/cmd-redirect.c,
	src/lib-sieve/ext-encoded-character.c, src/lib-sieve/ext-envelope.c,
	src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/imapflags/ext-
	imapflags-common.c, src/lib-sieve/plugins/imapflags/tst-hasflag.c,
	src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-
	ast.h, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	exists.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c:
	Encoded character extension basicly works, but no unicode support is
	implemented.
	[0c62d3501b83]

2007-12-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src/lib-sieve
	/cmd-redirect.c, src/lib-sieve/cmd-require.c, src/lib-sieve/ext-
	encoded-character.c, src/lib-sieve/ext-envelope.c, src/lib-sieve
	/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/body/tst-body.c, src/lib-sieve/plugins/imapflags/cmd-
	addflag.c, src/lib-sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-code-
	dumper.c, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	comparators.h, src/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-parser.h, src/lib-sieve/sieve-
	validator.c, src/lib-sieve/sieve-validator.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-allof.c, src/lib-sieve/tst-anyof.c, src
	/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src/lib-sieve
	/tst-not.c, src/lib-sieve/tst-size.c:
	Implemented support for overriding default argument implementations
	of number, string and string-list.
	[811636f212aa]

2007-12-18  Stephan Bosch  <stephan@rename-it.nl>

	* doc/rfc/draft-ietf-sieve-3028bis-13.txt, doc/rfc/rfc3028.txt:
	Added sieve rfc and new sieve 3028bis to the doc/rfc directory.
	[cf0d3511810b]

	* doc/rfc:
	Removed erroneous rfc file from new doc dir.
	[50462444b677]

	* doc/rfc, sieve/tests/encoded-character.sieve, src/lib-sieve/ext-
	encoded-character.c:
	Forgot to add new files.
	[ec01147fbf36]

	* README:
	Updated documentation.
	[d870f0bb6228]

	* src/lib-sieve/Makefile.am, src/lib-sieve/sieve-extensions.c:
	Started skeleton for the encoded-character extension.
	[915854a9a6e7]

	* README:
	Updated TODO list.
	[c4f08e56f98f]

	* README, src/lib-sieve/plugins/body/ext-body.c:
	Updated documentation.
	[7853b0fd8c2f]

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c:
	Changed imapflags extension to use the message context instead of
	the interpreter context.
	[73f99ee08abb]

	* src/lib-sieve/plugins/body/ext-body-common.c:
	Changed body extension to use the message context instead of the
	interpreter context.
	[c769d7261264]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h:
	Introduced message context to give extensions the ability to
	associate context data with the currently processed message.
	[08a085d3c1b9]

	* README, src/lib-sieve/plugins/body/ext-body.c:
	Updated documentation.
	[d47f4b7439d2]

	* src/lib-sieve/plugins/body/body.sieve, src/lib-sieve/plugins/body
	/ext-body-common.c, src/lib-sieve/plugins/body/tst-body.c:
	Fixed minor bug in the body extension.
	[c8ea2fb589cc]

	* AUTHORS, src/lib-sieve/plugins/body/Makefile.am, src/lib-
	sieve/plugins/body/body.sieve, src/lib-sieve/plugins/body/ext-body-
	common.c, src/lib-sieve/plugins/body/ext-body-common.h, src/lib-
	sieve/plugins/body/ext-body.c, src/lib-sieve/plugins/body/tst-
	body.c, src/lib-sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve
	/sieve-address-parts.c, src/lib-sieve/sieve-match-types.c, src/lib-
	sieve/sieve-match-types.h, src/lib-sieve/tst-header.c:
	Implemented evaluation for the body test introduced by the body
	extension.
	[7dc23ed0c79f]

	* src/lib-sieve/plugins/body/ext-body.c, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h:
	Implemented validation and code generation for body extension.
	[24a83b8759f7]

	* README, configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-sieve/plugins/body/Makefile.am,
	src/lib-sieve/plugins/body/draft-ietf-sieve-body-07.txt, src/lib-
	sieve/plugins/body/ext-body.c:
	Started skeleton for the body extension.
	[87141cd62e03]

	* README, src/lib-sieve/plugins/include/ext-include.c:
	Updated documentation.
	[ebdc3d4b1ebb]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/cmd-return.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/plugins/include/ext-include-
	common.h, src/lib-sieve/plugins/include/included2.sieve, src/lib-
	sieve/sieve-binary.c:
	Implemented return command for include extension.
	[2ecc3c3f89cf]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-error.c:
	Basic include functionality seems to be working and if source
	scripts are changed the binary is always recompiled.
	[4d87cc13eb79]

2007-12-16  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-script.c, src/lib-
	sieve/sieve-script.h, src/lib-sieve/sieve.c:
	Working towards proper dependency handling for sieve binaries.
	[7055341a175d]

	* src/lib-sieve/sieve-binary.c:
	Added support for lazy binary load.
	[443f611ba331]

2007-12-15  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-sieve/sieve-
	binary.c:
	Added internal support for different methods of loading a binary.
	[06efb6d54463]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve.c, src/sieve-
	bin/sieved.c:
	Working towards complete binary support for the include extension.
	[1f60d0e233a2]

2007-12-14  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated documentation.
	[cd70b1e8764f]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/included2.sieve, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-interpreter.c:
	Fixed bug regarding stop command in combination with include
	extension.
	[84c480ec5cd3]

	* src/lib-sieve/plugins/include/ext-include-common.c:
	Simplified the include loop a little.
	[e930ac1deb4e]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/include.sieve, src/lib-
	sieve/plugins/include/included2.sieve, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h:
	Implemented mostly untested deep-level include execution support.
	[c88db860a282]

2007-12-13  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-
	sieve/sieve.c:
	First successful (single level) execution of four consecutive
	includes.
	[5f1564b65675]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-sieve
	/sieve-commands.c, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-interpreter.h:
	Added support for interrupting an interpreter and continuing
	execution later.
	[1af35588edfc]

	* src/lib-sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/include/cmd-include.c, src/lib-sieve/plugins/include
	/ext-include-common.c, src/lib-sieve/plugins/include/ext-include-
	common.h, src/lib-sieve/plugins/include/ext-include.c:
	Include extension now generates include opcode. Not executable yet
	though.
	[ac8496b3d19c]

	* src/lib-sieve/sieve-binary.c:
	Implemented the binary_free event for binary extensions. Script
	references in the include extension are now properly released.
	[d0a0bbdaf6b0]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-common.h:
	Fixed behavior of binary object with respect to pre-loaded
	extensons. Broke it with last change.
	[ce0e32e63adc]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-extensions.c, src/lib-sieve/sieve-extensions.h:
	Changed binary object's extension linkage for extending the binary
	itself.
	[5633827bd892]

2007-12-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-sieve/sieve-script.c,
	src/lib-sieve/sieve-script.h:
	Doubly included scripts are no longer compiled and included multiple
	times.
	[64ffbd9afaaa]

	* src/lib-sieve/plugins/include/included1.sieve, src/lib-sieve/sieve-
	binary.c:
	Forgot to set the number of blocks in the binary header.
	[69967868a8cc]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/included1.sieve:
	Re-established circular include detection for include extension.
	[e8867e044d2c]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/included1.sieve, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-generator.h,
	src/lib-sieve/sieve.c:
	Further developed the include extension to compile included scripts
	in additional blocks of the binary.
	[6d0b5b112f00]

2007-12-10  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-generator.c, src/lib-sieve/sieve-generator.h, src/lib-
	sieve/sieve.c:
	Further developed the binary format: binary can now contain multiple
	blocks with arbitrary data.
	[958ac41805fc]

	* README:
	Updated documentation: Changed priorities in TODO list.
	[c27f92353192]

	* README:
	Updated documentation.
	[b1b5f7d6ff6c]

2007-12-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/include/included1.sieve, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-binary.c, src/lib-
	sieve/sieve-binary.h, src/lib-sieve/sieve-commands.h, src/lib-sieve
	/sieve-error.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-script.c, src/lib-sieve
	/sieve-validator.c, src/lib-sieve/sieve-validator.h, src/lib-
	sieve/sieve.c, src/sieve-bin/sieved.c:
	Moved actual include operation from validator to generator stage.
	[c49356652255]

	* .hgignore, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	script.c, src/lib-sieve/sieve-script.h, src/lib-sieve/sieve.c, src
	/lib-sieve/sieve.h, src/sieve-bin/bin-common.c, src/sieve-bin/bin-
	common.h, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-test.c,
	src/sieve-bin/sievec.c:
	Sieve executables now work with binaries too.
	[8e7a1b3c0ad9]

	* .hgignore, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-
	binary.h, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-
	generator.c, src/lib-sieve/sieve-script.c, src/sieve-
	bin/Makefile.am, src/sieve-bin/sievec.c, src/sieve-bin/sieved.c:
	Made a basic implementation of saving binaries to disk.
	[60a7a53897cf]

2007-12-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/include.sieve, src/lib-
	sieve/plugins/include/included2.sieve, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-parser.c, src/lib-
	sieve/sieve.c:
	Cleaned up ast implementation a little.
	[82fb78a39773]

	* src/lib-sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/included2.sieve, src/lib-
	sieve/plugins/include/included3.sieve, src/lib-sieve/sieve.c:
	Prevented more scripts from being included when errors have occured.
	[fade5794fecf]

	* src/lib-sieve/plugins/include/cmd-include.c, src/lib-
	sieve/plugins/include/ext-include-common.c, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/included3.sieve, src/lib-sieve/sieve-lexer.c,
	src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-script.h, src/lib-
	sieve/sieve.c:
	Properly implemented circular include detection for the include
	extension.
	[d3b8e1347bb5]

	* src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/include/Makefile.am, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/ext-include-common.c,
	src/lib-sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/include/include.sieve, src/lib-
	sieve/plugins/include/included1.sieve, src/lib-
	sieve/plugins/include/included2.sieve, src/lib-
	sieve/plugins/include/included3.sieve, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-commands.h, src/lib-
	sieve/sieve-common.h, src/lib-sieve/sieve-error.c, src/lib-sieve
	/sieve-error.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	lexer.h, src/lib-sieve/sieve-parser.c, src/lib-sieve/sieve-parser.h,
	src/lib-sieve/sieve-script.c, src/lib-sieve/sieve-script.h, src/lib-
	sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h:
	First defined an encapsulating script object and implemented part of
	the include extension.
	[20278c7b7254]

2007-12-07  Stephan Bosch  <stephan@rename-it.nl>

	* README, configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/include/Makefile.am, src/lib-sieve/plugins/include
	/cmd-include.c, src/lib-sieve/plugins/include/cmd-return.c, src/lib-
	sieve/plugins/include/draft-daboo-sieve-include-05.txt, src/lib-
	sieve/plugins/include/ext-include-common.h, src/lib-
	sieve/plugins/include/ext-include.c, src/lib-
	sieve/plugins/include/include.sieve, src/lib-sieve/sieve-
	extensions.c:
	Started skeleton implementation for the include extension.
	[fae946e07bd2]

	* README, src/lib-sieve/plugins/vacation/ext-vacation.c:
	Updated documentation.
	[3ffe74253949]

2007-12-06  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/tests/vacation.sieve, src/lib-sieve/plugins/vacation/ext-
	vacation.c:
	Added :addresses support to the vacation extension.
	[22045e56dec8]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/plugins/imapflags/cmd-
	addflag.c, src/lib-sieve/plugins/imapflags/cmd-removeflag.c, src
	/lib-sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-code.c, src
	/lib-sieve/sieve-code.h, src/lib-sieve/tst-address.c, src/lib-sieve
	/tst-exists.c, src/lib-sieve/tst-header.c:
	Added support for reading an entire stringlist into memory. Also
	fixed various identical bugs in stringlist-related error handling.
	[a2ae74cddb58]

	* README:
	Added two TODO items.
	[5b3f80ba5fa5]

	* README, src/lib-sieve/plugins/vacation/ext-vacation.c:
	Tiny update to documentation and removed a compiler warning.
	[57bef612b360]

	* src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-
	generator.c:
	Added :mime support to vacation extension.
	[e0170e8422a7]

	* src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/vacation/ext-vacation.c,
	src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src
	/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h,
	src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-
	sieve-plugin.c, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-
	test.c:
	Renamed mail_environment to script_env.
	[357df85b1c14]

	* README, src/lib-sieve/cmd-redirect.c:
	Added mail-loop detection to the redirect action.
	[5208c9de6da9]

	* src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins
	/lda-sieve/lda-sieve-plugin.c, src/sieve-bin/sieve-exec.c:
	Changed execution error handling a little.
	[9bedd7aaed60]

	* src/lib-sieve/ext-reject.c, src/lib-sieve/sieve-address-parts.c, src
	/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-commands.c, src/lib-
	sieve/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-sieve
	/sieve-generator.c, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-lexer.c, src/lib-sieve/sieve-parser.c, src/lib-sieve/sieve-
	validator.c:
	Adopted code to use Dovecot's new T_FRAME* macros.
	[7d056b0525a8]

	* src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-
	code-dumper.h, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve/sieve-
	parser.c, src/lib-sieve/sieve-result.h, src/lib-sieve/sieve-
	validator.h:
	Added proper ATTR_FORMAT to all functions that accept a string
	format and fixed one bug in the process.
	[ed5bbe4892fe]

	* README:
	Further updated documentation and cleaned up the README file.
	[34dd6d80f884]

	* INSTALL, README:
	Updated documentation. We are gettin closer to a first release.
	[ba0d6c952726]

	* src/lib-sieve/ext-fileinto.c, src/lib-sieve/sieve-interpreter.c, src
	/lib-sieve/sieve-result.c, src/sieve-bin/bin-common.c, src/sieve-bin
	/sieve-exec.c:
	Implemented implicit keep to execute when not canceled or when the
	preceeding action execution fails.
	[83139c099737]

2007-12-05  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-interpreter.c:
	Fixed minor bugs in the error reporting.
	[3cf617a5c19b]

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Fixed tiny bug in the error reporting in the lda-sieve plugin.
	[dd6d34c328e0]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-
	sieve/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h, src
	/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-
	sieve-plugin.c, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-
	test.c:
	Further developed the error handling.
	[b440e2ecb968]

2007-12-04  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Added a little more error logging to the lda-sieve plugin.
	[22100a6b83a0]

	* src/lib-sieve/sieve-error.c, src/lib-sieve/sieve-error.h,
	src/plugins/lda-sieve/lda-sieve-plugin.c:
	Implemented logfile error handler and assigned it to the lda-sieve
	plugin.
	[1dd0d188e90d]

2007-12-03  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve
	/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-
	lexer.c, src/lib-sieve/sieve-lexer.h, src/lib-sieve/sieve-parser.c,
	src/lib-sieve/sieve-parser.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve
	/lda-sieve-plugin.c, src/sieve-bin/bin-common.c, src/sieve-
	bin/sievec.c:
	Further developed error handling.
	[38b7c79a1bc9]

2007-12-02  Stephan Bosch  <stephan@rename-it.nl>

	* src/plugins/lda-sieve/lda-sieve-plugin.c:
	Forgot to initialize sieve library in lda-sieve plugin. It has now
	successfully delivered its first message.
	[0bb383b96a44]

	* src/plugins/lda-sieve/lda-sieve-plugin.c, src/plugins/lda-sieve/lda-
	sieve-plugin.h:
	Fixed misnamed module entry points for the lda-sieve plugin.
	[b8b366a08231]

	* configure.in, src/Makefile.am, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/plugins/lda-sieve/Makefile.am, src/plugins/lda-
	sieve/lda-sieve-plugin.c, src/plugins/lda-sieve/lda-sieve-plugin.h,
	src/sieve-bin/bin-common.c:
	Included sieve plugin into the build process.
	[0eee6014369f]

	* README, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c,
	src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/plugins/lda-sieve/lda-
	sieve-plugin.c, src/sieve-bin/sievec.c:
	Documentation updates.
	[f48f95ebfcad]

	* src/lib-sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-
	error.c, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve.c, src
	/lib-sieve/sieve.h, src/sieve-bin/bin-common.c, src/sieve-bin/bin-
	common.h, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-test.c,
	src/sieve-bin/sievec.c:
	Implemented sieve test binaries further. They now have proper
	command line arguments.
	[c1e500086b9c]

	* src/sieve-bin/Makefile.am, src/sieve-bin/bin-common.c, src/sieve-bin
	/bin-common.h, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-
	test.c, src/sieve-bin/sievec.c:
	Updated and cleaned-up the sieve test binaries.
	[9ed2f2979c35]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/copy/ext-copy.c, src/lib-sieve/plugins/imapflags/ext-
	imapflags-common.c, src/lib-sieve/plugins/imapflags/tag-flags.c, src
	/lib-sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-code-dumper.c, src/lib-sieve
	/sieve-code-dumper.h, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-comparators.c, src/lib-sieve/sieve-interpreter.c, src/lib-
	sieve/sieve-match-types.c, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	exists.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c, src
	/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-test.c, src/sieve-
	bin/sievec.c:
	Properly implemented the code dumper. Dumps are now printed in a
	stream. The individual opcode and operand implementations no longer
	use printf()s.
	[b68f9e45a6bd]

	* src/lib-sieve/sieve-code-dumper.c, src/lib-sieve/sieve-code-
	dumper.h:
	Forgot to add new files.
	[3a75f9a2a4ac]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve
	/ext-reject.c, src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/plugins/imapflags
	/tst-hasflag.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-address-parts.c, src
	/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-code.c, src
	/lib-sieve/sieve-code.h, src/lib-sieve/sieve-common.h, src/lib-sieve
	/sieve-comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-
	sieve/sieve-generator.c, src/lib-sieve/sieve-interpreter.c, src/lib-
	sieve/sieve-interpreter.h, src/lib-sieve/sieve-match-types.c, src
	/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve.c, src/lib-sieve
	/tst-address.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-
	header.c, src/lib-sieve/tst-size.c:
	Exported sieve-code-dumper from sieve-interpreter containing all
	code dumping related implementation. Now to remove all printfs....
	[ca3bfa6b2284]

2007-12-01  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h:
	Fixed bug in handling optional operands to opcodes that have no
	mandatory operands (0 is no longer a valid opcode)
	[77e421643cc2]

	* sieve/errors/action-conflicts.sieve, sieve/errors/action-
	duplicates.sieve, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-
	keep.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-fileinto.c,
	src/lib-sieve/ext-reject.c, src/lib-sieve/plugins/vacation/ext-
	vacation.c, src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-
	actions.h, src/lib-sieve/sieve-commands-private.h, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-
	sieve/sieve-result.c, src/lib-sieve/sieve-result.h:
	Added conflict and duplicate checking to vacation and reject
	actions.
	[c33bb67f8b09]

	* sieve/tests/vacation.sieve, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/vacation/ext-vacation.c,
	src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src
	/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve.h, src/sieve-
	bin/sieve-exec.c, src/sieve-bin/sieve-test.c:
	Implemented actions reject and vacation.
	[d34c2fe9ac63]

	* src/lib-sieve/ext-envelope.c:
	Fixed minor bug in envelope extension.
	[e39957361fed]

2007-11-30  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/imapflags.sieve, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-actions.c,
	src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-result.c, src
	/lib-sieve/sieve-result.h, src/lib-sieve/sieve-validator.c:
	Further developed imapflags extension and added proper logging
	functions to the result object.
	[bc668e541c89]

2007-11-29  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-actions.h,
	src/lib-sieve/sieve-interpreter.c:
	The :flags tag introduced by the imapflags extension now attaches
	side-effects to the appropriate action commands.
	[b3f4220296e2]

	* README, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/plugins/copy/ext-copy.c, src/lib-sieve/sieve-actions.c, src
	/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-result.c:
	Properly implemented handling of the implicit keep flag and fully
	implemented the copy extension.
	[24896ebd3e8d]

	* src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/plugins/copy/ext-copy.c, src
	/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src/lib-
	sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve
	/sieve-code.c, src/lib-sieve/sieve-common.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-result.h:
	Added basic execution support to copy extension. Not completely
	functional yet.
	[8ad6e3739a65]

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-
	code.c:
	Added support for reading side effect operands.
	[04e8fa76e983]

	* src/lib-sieve/plugins/copy/ext-copy.c:
	Added registration of side-effect extension into binary.
	[98c1c9798c08]

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h:
	Defined side-effect object for the copy extension.
	[f22e0d5b9788]

	* src/lib-sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src
	/lib-sieve/sieve-generator.c, src/lib-sieve/tst-header.c:
	Incorporated the signedness of the id_code in the optional_read
	functions as well
	[2923c10f41b9]

2007-11-28  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-
	binary.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	comparators.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve
	/sieve-match-types.c, src/lib-sieve/sieve-match-types.h, src/lib-
	sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h, src/lib-
	sieve/tst-size.c:
	Changed id_code for optional operands to signed and fixed a
	ext_my_id-related error in the vacation and copy extensions.
	[38a9854e21ca]

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src
	/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-code.h, src/lib-sieve/sieve-extensions.c:
	Added operand emission support for action side effects.
	[8b9ba3e6a631]

	* src/lib-sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src
	/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-extensions.h:
	Created pre-loaded action side effects 'extension'.
	[37a2969e9787]

	* src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-comparators.c, src
	/lib-sieve/sieve-match-types.c:
	Removed part of the code duplication between address-part, match-
	type and comparator implementations.
	[34b4be8738f2]

	* src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-common.h, src
	/lib-sieve/sieve-result.c, src/lib-sieve/sieve-result.h:
	Added untested support for side effects to result object.
	[ec22e9a0a06d]

2007-11-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/imapflags/Makefile.am, src/lib-sieve/plugins/imapflags
	/ext-imapflags.c, src/lib-sieve/plugins/imapflags/imapflags.sieve,
	src/lib-sieve/plugins/imapflags/tag-flags.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-result.c:
	Added :flags tag to the imapflags extension and fixed bug in the
	result execution.
	[e4ccc420bbc8]

	* README:
	Updated documentation.
	[0b63e817f6b6]

	* src/lib-sieve/plugins/copy/copy.sieve, src/lib-sieve/plugins/copy
	/ext-copy.c, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h:
	Added support for externally adding tags to (possibly not yet
	registered) command. The copy extension now adds such a tag to
	fileinto and redirect.
	[9ad768a6d2b9]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-sieve/plugins/copy/Makefile.am,
	src/lib-sieve/plugins/copy/ext-copy.c, src/lib-
	sieve/plugins/copy/rfc3894.txt, src/lib-sieve/sieve-extensions.c,
	src/sieve-bin/sieve-exec.c:
	Added skeleton for the copy extension.
	[f4d0e3674a8c]

	* sieve/tests/actions.sieve, src/lib-sieve/sieve-actions.c:
	Minor changes
	[da31c25af3df]

	* sieve/tests/actions.sieve, src/lib-sieve/sieve-actions.c, src/sieve-
	bin/sieve-exec.c:
	Store action seems to work properly now.
	[eec88e2b625d]

	* sieve/tests/actions.sieve, src/lib-sieve/sieve-actions.c, src/lib-
	sieve/sieve-actions.h, src/lib-sieve/sieve-result.c, src/lib-
	sieve/sieve.h, src/sieve-bin/Makefile.am, src/sieve-bin/mail-raw.c,
	src/sieve-bin/mail-raw.h, src/sieve-bin/namespaces.c, src/sieve-
	bin/namespaces.h, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-
	test.c:
	Almost finished implementing the store action. But, I still get
	strange errors when the mail transaction commits. Mail is stored
	though.
	[246c88fea246]

	* src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/sieve-actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve
	/sieve-result.c:
	Turned action execution into a transaction.
	[d9a51d8e6d16]

	* README, src/lib-sieve/cmd-discard.c, src/lib-sieve/cmd-keep.c, src
	/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/sieve-result.c, src/lib-sieve/sieve-result.h:
	Added (not yet active) handling of implicit keep and adjusted
	commands accordingly.
	[d8eaf00dd960]

	* README:
	Added TODO item.
	[2e2cbe36ac1d]

2007-11-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-keep.c, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-
	test.c:
	Added inbox location to mail environment and made keep command use
	it to generate its store action.
	[1fabb5b3de8f]

	* README, src/lib-sieve/ext-fileinto.c:
	Updated documentation.
	[b77f5ae48116]

	* sieve/tests/actions.sieve, src/lib-sieve/Makefile.am, src/lib-sieve
	/cmd-discard.c, src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-
	redirect.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/sieve-
	actions.c, src/lib-sieve/sieve-actions.h, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h:
	Fileinto command now produces a store action which is now produced
	by the keep command as well.
	[b59ff97b1b4b]

	* sieve/tests/actions.sieve, src/lib-sieve/cmd-discard.c, src/lib-
	sieve/cmd-keep.c:
	Made discard command add discard action to the result.
	[d00c1ecbe750]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-discard.c, src/lib-
	sieve/cmd-keep.c, src/lib-sieve/sieve-commands.c:
	Exported discard command to its own separate file.
	[8bedc7e9f17e]

	* src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c, src/lib-
	sieve/sieve-result.c, src/lib-sieve/sieve-result.h:
	Added support for detecting action conflicts.
	[37fcab36395a]

	* README:
	Updated documentation.
	[eb3c1925ac1f]

	* sieve/tests/redirect.sieve, src/lib-sieve/cmd-keep.c, src/lib-sieve
	/cmd-redirect.c, src/lib-sieve/sieve-result.c, src/lib-sieve/sieve-
	result.h:
	Added support for avoiding duplicate actions in the sieve result.
	[7fa2aeb9a269]

	* src/lib-sieve/cmd-keep.c, src/lib-sieve/cmd-redirect.c:
	Made keep command add keep action to the result.
	[b4ac2186369d]

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-keep.c, src/lib-sieve
	/sieve-commands-private.h, src/lib-sieve/sieve-commands.c:
	Exported keep command to its own separate file.
	[a061b79e6eb1]

2007-11-25  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-bin/bin-common.c, src/sieve-bin/sieve-exec.c, src/sieve-
	bin/sieve-test.c:
	Minor changes to the executables.
	[1c349f5cf532]

	* README, src/lib-sieve/sieve-interpreter.c, src/sieve-bin/sieve-
	exec.c, src/sieve-bin/sieve-test.c:
	Added mail-file parameter to the sieve-test and sieve-exec binaries.
	[38ff5f7794ad]

	* .hgignore, sieve/tests/redirect.sieve, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-result.c, src
	/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/sieve-
	bin/Makefile.am, src/sieve-bin/bin-common.c, src/sieve-bin/bin-
	common.h, src/sieve-bin/mail-raw.c, src/sieve-bin/mail-raw.h, src
	/sieve-bin/sieve-exec.c, src/sieve-bin/sieve-test.c, src/sieve-
	bin/sieve_test.c, src/sieve-bin/sievec.c:
	Cleaned up implementation of sieve test binaries and added sieve-
	exec
	[ab2fd12a0195]

	* src/lib-sieve/sieve-match-types.c:
	Removed spurious debug message.
	[5b53dd17b678]

2007-11-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/sieve-interpreter.c, src
	/lib-sieve/sieve-interpreter.h, src/lib-sieve/sieve-result.c, src
	/lib-sieve/sieve-result.h, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/sieve-bin/Makefile.am, src/sieve-
	bin/sieve_test.c:
	Added first action execution support. Redirect is the first command
	to actually work.
	[3ea3f400caa9]

	* README:
	Added TODO item.
	[312bfe51f644]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/relational/relational.sieve, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve
	/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-match-types.c, src/lib-sieve/sieve-match-types.h, src/lib-
	sieve/tst-address.c, src/lib-sieve/tst-header.c:
	Moved address-part, match-type and comparator code registries from
	interpreter to binary where they belong.
	[17fe832ec983]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-interpreter.c:
	Added extension context storage support to the sieve binary.
	[bf61316d9b84]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/comparator-i-ascii-numeric
	/ext-cmp-i-ascii-numeric.c, src/lib-sieve/plugins/imapflags/ext-
	imapflags.c, src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h,
	src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-extensions.c,
	src/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-interpreter.c,
	src/lib-sieve/sieve-match-types.c:
	Added binary_load event to the sieve extensions.
	[abc3d97f3cfe]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-
	binary.c, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h,
	src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-common.h, src
	/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-comparators.h,
	src/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-
	interpreter.h, src/lib-sieve/sieve-match-types.c, src/lib-sieve
	/sieve-match-types.h, src/lib-sieve/sieve-result.c, src/lib-sieve
	/sieve-result.h, src/lib-sieve/sieve.c, src/lib-sieve/tst-address.c,
	src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src/lib-
	sieve/tst-size.c:
	Grouped runtime parameters into a single runtime environment and
	started implementation of result composition/execution.
	[7c800bfa74cc]

	* src/lib-sieve/sieve-interpreter.c:
	Changed interpreter in the event of an unimplemented opcode.
	[91fd90402931]

	* README, src/lib-sieve/plugins/imapflags/ext-imapflags.c:
	Updated documentation.
	[9dd4fe921d74]

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/imapflags-2.sieve, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c:
	Implemented hasflag command interpretation for the imapflags
	extension.
	[30917ef6965c]

2007-11-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/imapflags-2.sieve, src/lib-
	sieve/plugins/imapflags/imapflags.sieve, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-comparators.c, src
	/lib-sieve/tst-size.c:
	Added actual flag management to the imapflags extension. Addflag,
	removeflag and setflag now do what they should do.
	[610b5f638c33]

	* README, src/lib-sieve/cmd-if.c, src/lib-sieve/plugins/comparator-i
	-ascii-numeric/ext-cmp-i-ascii-numeric.c, src/lib-
	sieve/plugins/relational/relational.sieve, src/lib-sieve/tst-
	allof.c, src/lib-sieve/tst-anyof.c:
	Finished i;ascii-numeric comparator and fixed a segfault bug in the
	process.
	[8cd504cc2e3a]

	* README, src/lib-sieve/plugins/imapflags/Makefile.am, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/imapflags-errors.sieve, src/lib-
	sieve/plugins/imapflags/imapflags.sieve, src/lib-
	sieve/plugins/imapflags/tst-hasflag.c, src/lib-sieve/tst-header.c:
	Added hasflag test to the imapflags extension.
	[cc5f85570a9a]

	* src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/imapflags.sieve, src/lib-sieve/sieve-code.c,
	src/lib-sieve/sieve-code.h:
	Implemented code generation and interpretation for the commands
	introduced by the imapflags extension.
	[f0c34dee6ae7]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c,
	src/lib-sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-sieve/plugins/regex
	/ext-regex.c, src/lib-sieve/plugins/relational/ext-relational.c, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src
	/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-comparators.c, src
	/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-extensions.h, src
	/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-generator.h, src
	/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-match-types.c,
	src/lib-sieve/tst-address.c, src/lib-sieve/tst-exists.c, src/lib-
	sieve/tst-header.c, src/lib-sieve/tst-size.c:
	Upgraded opcode extension support to handle more than one opcode per
	extension.
	[2a2d82471e77]

2007-11-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/imapflags.sieve:
	imapflags: Added (dummy) check for the existance of the variables
	extension.
	[9d97ea5c52c6]

	* src/lib-sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/imapflags-errors.sieve, src/lib-sieve/sieve-
	validator.c:
	Implemented validation for the commands introduced by the imapflags
	extension.
	[82e86518dfc9]

	* src/lib-sieve/plugins/imapflags/Makefile.am, src/lib-
	sieve/plugins/imapflags/cmd-addflag.c, src/lib-
	sieve/plugins/imapflags/cmd-removeflag.c, src/lib-
	sieve/plugins/imapflags/cmd-setflag.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.c, src/lib-
	sieve/plugins/imapflags/ext-imapflags-common.h, src/lib-
	sieve/plugins/imapflags/ext-imapflags.c, src/lib-
	sieve/plugins/imapflags/imapflags.sieve, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve/sieve-
	validator.c:
	Created skeletons for the commands introduced by the imapflags
	extension.
	[c0471778290f]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/imapflags/Makefile.am, src/lib-sieve/plugins/imapflags
	/draft-ietf-sieve-imapflags-05.txt, src/lib-sieve/plugins/imapflags
	/ext-imapflags.c:
	Started skeleton for the imapflags extension.
	[6ea6b7699606]

	* src/lib-sieve/Makefile.am, src/lib-sieve/plugins/Makefile.am, src
	/lib-sieve/plugins/comparator-i-ascii-numeric/Makefile.am, src/lib-
	sieve/plugins/regex/Makefile.am, src/lib-
	sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/subaddress/Makefile.am, src/lib-
	sieve/plugins/vacation/Makefile.am, src/sieve-bin/Makefile.am:
	Cleaned up make process and included the 'plugins' into the main
	sieve library archive.
	[b669519df1b5]

	* README, src/lib-sieve/sieve-commands.c:
	Updated documentation.
	[ab270d1accc1]

	* sieve/examples/vivil.sieve, sieve/tests/stop.sieve, src/lib-sieve
	/cmd-if.c, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h:
	Removed unecessary jump after commands like stop.
	[a487f6447efa]

	* sieve/tests/matches.sieve, src/lib-sieve/sieve-match-types.c:
	Debugged :matches match type and no more bugs are currently known.
	[acdcd1d8f031]

	* sieve/tests/matches.sieve, src/lib-sieve/plugins/comparator-i-ascii-
	numeric/ext-cmp-i-ascii-numeric.c, src/lib-sieve/sieve-
	comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-sieve
	/sieve-match-types.c:
	Made first buggy implementation of :matches match type.
	[d3756743700b]

2007-11-21  Stephan Bosch  <stephan@rename-it.nl>

	* README:
	Updated documentation with respect to extensions.
	[cd8b13651e87]

	* sieve/tests/reject.sieve, src/lib-sieve/ext-reject.c:
	Added dummy execution support to reject extension.
	[29620589f088]

	* README, src/lib-sieve/plugins/vacation/ext-vacation.c:
	Updated documentation.
	[3dcfafbef34d]

	* sieve/tests/vacation.sieve, src/lib-sieve/plugins/vacation/ext-
	vacation.c, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h:
	Implemented dummy execution for vacation extension.
	[ef682330f822]

	* src/lib-sieve/ext-envelope.c:
	Resolved compiler warning in envelope extension.
	[7e2d6e8893dc]

	* sieve/tests/redirect.sieve:
	Added test script for redirect command.
	[30ec001eaee2]

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-interpreter.c, src
	/lib-sieve/sieve-interpreter.h:
	Properly implemented stop command and associated opcode.
	[cb2ac2578b83]

	* src/sieve-bin/sieve_test.c:
	Added status message to sieve_test to indicate successful script
	run.
	[64e0b6403468]

	* src/lib-sieve/cmd-redirect.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	interpreter.h:
	Created dummy interpretation support for the redirect command.
	[382920e5c5ae]

	* sieve/tests/fileinto.sieve, src/lib-sieve/ext-fileinto.c:
	Created dummy interpretation support for the fileinto extension.
	[c410f5746af3]

	* src/lib-sieve/ext-envelope.c:
	Removed debug lines in envelope extension.
	[0d144c5c6726]

	* src/lib-sieve/ext-envelope.c:
	Made ext_envelope_get_fields cleaner.
	[962e5ed2a7b0]

	* README, src/lib-sieve/ext-envelope.c:
	Updated documentation.
	[c05059b64271]

	* sieve/tests/envelope.sieve, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/sieve-address-parts.c, src/lib-sieve/sieve-address-parts.h,
	src/lib-sieve/sieve.h, src/lib-sieve/tst-address.c, src/sieve-
	bin/sieve_test.c:
	Made basic execution implementation of the envelope extension.
	[6bf04ad6e814]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/sieve-common.h, src/lib-
	sieve/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h, src
	/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c,
	src/lib-sieve/tst-size.c, src/sieve-bin/sieve_test.c:
	Added envelope data to the interpreter environment.
	[b9cf89b005f2]

	* README, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i
	-ascii-numeric.c, src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/relational.sieve, src/lib-sieve/sieve-
	match-types.c, src/lib-sieve/sieve-match-types.h, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-header.c:
	Completed implementation of the relational extension.
	[7dd971306703]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/regex/regex.sieve, src/lib-sieve/plugins/relational
	/ext-relational.c, src/lib-sieve/sieve-match-types.c, src/lib-sieve
	/sieve-match-types.h:
	Improved match handling and started implementing the interpretation
	of the relational match type.
	[158169910d95]

2007-11-20  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/errors/match-type-errors.sieve, sieve/tests/match-type.sieve,
	src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	comparators.h, src/lib-sieve/sieve-match-types.c:
	Implemented context validation for :contains match type.
	[6f1dcac24c57]

	* README, src/lib-sieve/plugins/regex/ext-regex.c:
	Updated documentation with respect to regex externsion and match-
	type support.
	[37fd899b7dca]

	* src/lib-sieve/sieve-match-types.c:
	Last commit broke execution of match types other than
	:regex...fixed.
	[f9e2b975f5eb]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/regex/regex.sieve, src/lib-sieve/plugins/relational
	/ext-relational.c, src/lib-sieve/sieve-address-parts.c, src/lib-
	sieve/sieve-address-parts.h, src/lib-sieve/sieve-common.h, src/lib-
	sieve/sieve-match-types.c, src/lib-sieve/sieve-match-types.h, src
	/lib-sieve/tst-address.c, src/lib-sieve/tst-header.c:
	Implemented regex match execution.
	[114ec23016dd]

	* sieve/examples/sanjay.sieve:
	Fixed missing require in sanjay.sieve example
	[81baf031527e]

	* src/lib-sieve/plugins/regex/ext-regex.c:
	Forgot to handle stringlists in :regex validation.
	[4e082129513a]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/plugins/regex/ext-
	regex.c, src/lib-sieve/plugins/regex/regex-errors.sieve, src/lib-
	sieve/sieve-match-types.c, src/lib-sieve/sieve-match-types.h, src
	/lib-sieve/tst-address.c, src/lib-sieve/tst-header.c:
	Implemented :regex match validation.
	[fefebffac65f]

	* sieve/errors/address-part-errors.sieve,
	sieve/errors/interesting.sieve, sieve/errors/match-type-
	errors.sieve, src/lib-sieve/sieve-address-parts.c, src/lib-sieve
	/sieve-ast.h, src/lib-sieve/sieve-match-types.c, src/lib-sieve
	/sieve-validator.c:
	Implemented detection of duplicate optional arguments.
	[9add85be3ddd]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-sieve/plugins/regex
	/regex-errors.sieve, src/lib-sieve/sieve-commands.h, src/lib-sieve
	/sieve-comparators.c, src/lib-sieve/sieve-comparators.h, src/lib-
	sieve/sieve-validator.c:
	Made regex match complaint about comparators other than i;octet or i
	;ascii-casemap
	[ebf35c004764]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-sieve/sieve-
	match-types.c, src/lib-sieve/sieve-match-types.h:
	Added support for match-type argument context validation.
	[9db6e7335e9e]

	* src/lib-sieve/sieve-validator.c:
	Added support for argument context validation.
	[7dcaf16bcf7d]

	* src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-commands.c, src/lib-sieve
	/sieve-commands.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-match-types.c, src/lib-sieve/sieve-validator.c, src/lib-sieve
	/tst-size.c:
	Added validat_context method to command arguments for the to-be-
	implemented argument context validation.
	[754320bac6bb]

	* src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-commands.c,
	src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-comparators.c,
	src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-match-types.c:
	Changed argument generator function prototype to assign
	responsibility of advancing to the next argument to the generator
	itself.
	[6ba97a809b25]

	* src/lib-sieve/sieve-commands.c:
	Removed i_unreached() at inappropriate location.
	[80a6ca8aa099]

	* src/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve
	/sieve-commands.c, src/lib-sieve/sieve-commands.h, src/lib-sieve
	/sieve-validator.c:
	Removed code duplication in validator: merged command and test
	validation in one function.
	[55047d9405c9]

	* src/lib-sieve/sieve-validator.c:
	Fixed bug in the command validation.
	[0f7c34ca82a9]

	* src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-require.c, src/lib-sieve
	/sieve-commands.h:
	Improved validation of command placement for if and require
	commands.
	[7666f12ccc2a]

	* src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve
	/cmd-require.c, src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-
	fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-commands-
	private.h, src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-
	commands.h, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-allof.c,
	src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c, src/lib-sieve
	/tst-header.c, src/lib-sieve/tst-not.c, src/lib-sieve/tst-size.c:
	Changed validator's command syntax validation such that command
	implementations don't have to call the argument, test and block
	validation functions explicitly.
	[e43df7ab9749]

2007-11-19  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-redirect.c, src/lib-sieve
	/cmd-require.c, src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-
	fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-ast.h,
	src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/sieve-validator.h, src/lib-sieve/tst-address.c, src/lib-
	sieve/tst-allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-
	exists.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-not.c, src
	/lib-sieve/tst-size.c:
	Changed argument validation to record the first positional argument
	into the command context by default. Also furter improved
	validator's error handling.
	[d357da9effa4]

	* sieve/errors/address-errors.sieve, sieve/errors/header-errors.sieve,
	src/lib-sieve/cmd-redirect.c, src/lib-sieve/cmd-require.c, src/lib-
	sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve
	/ext-reject.c, src/lib-sieve/plugins/subaddress/subaddress.sieve,
	src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-
	ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-common.h, src
	/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h, src
	/lib-sieve/tst-address.c, src/lib-sieve/tst-exists.c, src/lib-sieve
	/tst-header.c, src/lib-sieve/tst-size.c:
	Revised positional argument checking and fixed the validator's error
	handling.
	[31ade1ddf884]

	* src/lib-sieve/sieve-match-types.c:
	Prevent unimplemented match type from causing a segfault.
	[614e7a053e31]

	* src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-
	numeric.c, src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve
	/sieve-common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/lib-sieve/sieve-interpreter.c, src/lib-
	sieve/sieve-interpreter.h, src/lib-sieve/sieve-match-types.c, src
	/lib-sieve/sieve-match-types.h, src/lib-sieve/tst-address.c, src
	/lib-sieve/tst-header.c:
	Implemented match type execution and activated match types :is and
	:contains.
	[44f7b3f89e34]

2007-11-17  Stephan Bosch  <stephan@rename-it.nl>

	* README, src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/relational/ext-relational.c:
	Minor updates to the documentation.
	[033d7cb3a8dd]

	* src/lib-sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/relational.sieve, src/lib-sieve/sieve-
	match-types.c, src/lib-sieve/sieve-match-types.h:
	Fixed code generation for relational extension.
	[9aedfec64626]

	* src/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-sieve/sieve-
	match-types.c, src/lib-sieve/sieve-match-types.h:
	Implemented support for additional parameters to match-types and
	implemented validation for the relational extension.
	[c49afa847933]

	* configure.in, sieve/tests/match-type.sieve, src/lib-
	sieve/plugins/Makefile.am, src/lib-sieve/plugins/regex/Makefile.am,
	src/lib-sieve/plugins/regex/draft-murchison-sieve-regex-07.txt, src
	/lib-sieve/plugins/regex/ext-regex.c, src/lib-
	sieve/plugins/regex/regex.sieve, src/lib-
	sieve/plugins/relational/Makefile.am, src/lib-
	sieve/plugins/relational/ext-relational.c, src/lib-
	sieve/plugins/relational/relational.sieve, src/lib-
	sieve/plugins/relational/rfc3431.txt, src/lib-sieve/sieve-
	extensions.c, src/sieve-bin/Makefile.am:
	Created skeletons for regex and relational extensions. These are to
	be developed simultaneously with the match-type support in general.
	[f3db84e346eb]

	* README, sieve/tests/match-type.sieve, src/lib-sieve/Makefile.am, src
	/lib-sieve/ext-envelope.c, src/lib-sieve/sieve-address-parts.c, src
	/lib-sieve/sieve-code.c, src/lib-sieve/sieve-comparators.c, src/lib-
	sieve/sieve-extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-
	sieve/sieve-interpreter.c, src/lib-sieve/sieve-match-types.c, src
	/lib-sieve/sieve-match-types.h, src/lib-sieve/sieve-validator.c, src
	/lib-sieve/tst-address.c, src/lib-sieve/tst-header.c:
	Started implementation of match-type support and fixed compilation
	error.
	[b352686b0063]

	* README, src/lib-sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i
	-ascii-numeric.c, src/lib-sieve/plugins/vacation/ext-vacation.c, src
	/lib-sieve/sieve-comparators.c:
	Updated README and a few minor cosmetic changes to the code.
	[8eddb5ec9ddb]

	* configure.in, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/plugins/Makefile.am, src/lib-sieve/plugins/comparator-i-ascii-
	numeric/Makefile.am, src/lib-sieve/plugins/comparator-i-ascii-
	numeric/cmp-i-ascii-numeric.sieve, src/lib-
	sieve/plugins/comparator-i-ascii-numeric/ext-cmp-i-ascii-numeric.c,
	src/lib-sieve/plugins/comparator-i-ascii-numeric/rfc2244.txt, src
	/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve
	/sieve-common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/lib-sieve/sieve-extensions.c, src/lib-
	sieve/tst-address.c, src/lib-sieve/tst-header.c, src/sieve-
	bin/Makefile.am:
	Implemented comparator-i;ascii-numeric extension and activated
	comparator extension support.
	[01386a471dc7]

	* src/lib-sieve/sieve-extensions.c:
	Added dummy extensions for core comparators.
	[ae2e6fd6f94e]

	* sieve/tests/extensions.sieve, src/lib-sieve/cmd-require.c, src/lib-
	sieve/sieve-address-parts.c:
	A few small cosmetic changes in addr-part code and generic extension
	support.
	[7b9f9e71030e]

2007-11-16  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/subaddress/subaddress.sieve, src/lib-sieve/sieve-
	address-parts.c, src/lib-sieve/sieve-common.h:
	Finished implementation of subaddress extension.
	[05c4031e501e]

	* configure.in, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/plugins/Makefile.am, src/lib-
	sieve/plugins/subaddress/Makefile.am, src/lib-
	sieve/plugins/subaddress/ext-subaddress.c, src/lib-
	sieve/plugins/subaddress/rfc3598.txt, src/lib-
	sieve/plugins/subaddress/subaddress.sieve, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-
	ast.h, src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h,
	src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-commands.h, src
	/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-extensions.c,
	src/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-interpreter.c,
	src/lib-sieve/sieve-validator.c, src/lib-sieve/tst-address.c, src
	/lib-sieve/tst-size.c, src/sieve-bin/Makefile.am:
	Implemented support for the subaddress extension and fixed extension
	support to work properly.
	[4e9f385adc07]

2007-11-14  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/tests/address-part.sieve, src/lib-sieve/sieve-address-parts.c,
	src/lib-sieve/sieve-address-parts.h, src/lib-sieve/tst-address.c:
	Implemented address part execution support.
	[af5ea3cdd396]

2007-11-13  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/tests/address-part.sieve, src/lib-sieve/ext-envelope.c, src
	/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-address-
	parts.h, src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h, src
	/lib-sieve/sieve-validator.c, src/lib-sieve/tst-address.c:
	Activated address-part code generation support.
	[60ab1abd0d01]

	* src/lib-sieve/sieve-address-parts.c, src/lib-sieve/sieve-ast.h, src
	/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-code.h, src/lib-sieve/sieve-commands-private.h, src/lib-sieve
	/sieve-commands.c, src/lib-sieve/sieve-common.h, src/lib-sieve
	/sieve-comparators.c, src/lib-sieve/sieve-error.c, src/lib-sieve
	/sieve-error.h, src/lib-sieve/sieve-extensions.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-interpreter.h, src/lib-sieve/sieve-lexer.c, src/lib-sieve
	/sieve-lexer.h, src/lib-sieve/sieve-parser.c, src/lib-sieve/sieve-
	parser.h, src/lib-sieve/sieve-validator.h:
	Lots of cosmetic changes
	[19366331bc99]

	* INSTALL, README:
	Added a little documentation to the README file.
	[2fd76028ca9b]

	* src/lib-sieve/sieve-validator.c:
	Removed unused static pre-declaration from validator.
	[f745b4988763]

	* sieve/tests/comparator.sieve, src/lib-sieve/Makefile.am, src/lib-
	sieve/cmd-require.c, src/lib-sieve/ext-envelope.c, src/lib-sieve
	/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-address-
	parts.c, src/lib-sieve/sieve-address-parts.h, src/lib-sieve/sieve-
	binary.c, src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code.c,
	src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-comparators.c, src
	/lib-sieve/sieve-comparators.h, src/lib-sieve/sieve-extensions.c,
	src/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-generator.c,
	src/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-interpreter.c,
	src/lib-sieve/sieve-interpreter.h, src/lib-sieve/sieve-validator.c,
	src/lib-sieve/sieve-validator.h, src/lib-sieve/sieve.c, src/lib-
	sieve/sieve.h, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	header.c, src/sieve-bin/sieve_test.c, src/sieve-bin/sievec.c:
	Rewrote large parts of the extension support and added partial
	address-part implementation.
	[bbbf416d458c]

2007-11-11  Stephan Bosch  <stephan@rename-it.nl>

	* src/sieve-bin/Makefile.am, src/sieve-bin/sieve_test.c:
	Upgraded sieve_test to 1.1.beta8
	[beaeb564662c]

	* src/lib-sieve/sieve-commands.c, src/lib-sieve/sieve-common.h, src
	/lib-sieve/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h,
	src/lib-sieve/tst-address.c, src/lib-sieve/tst-header.c:
	Enabled comparator execution support.
	[5b4103b61afd]

	* sieve/tests/comparator.sieve, src/lib-sieve/ext-envelope.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-code.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-validator.c, src/lib-sieve/sieve-validator.h, src/lib-sieve
	/tst-address.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-
	size.c:
	Added support for optional operators to the byte code
	implementation.
	[9355ea520e77]

2007-11-09  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/vacation/ext-vacation.c,
	src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-code.c, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-comparators.h, src/lib-sieve/sieve-extensions.h, src/lib-
	sieve/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h:
	Started implementation of comparator execution support.
	[a3e2d0467235]

2007-11-08  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-code.c, src/lib-sieve/sieve-code.h:
	Changed string-list single-string handling for coded list.
	[494b84c7dab4]

	* src/lib-sieve/cmd-if.c, src/lib-sieve/ext-envelope.c, src/lib-sieve
	/ext-fileinto.c, src/lib-sieve/ext-reject.c, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve
	/sieve-common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve
	/sieve-extensions.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-interpreter.h, src/lib-sieve/tst-address.c, src/lib-sieve
	/tst-allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c,
	src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c:
	Properly implemented opcode and operand handing and moved code to
	more appropriate units.
	[6d30cd3270b4]

2007-11-01  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/examples/sieve_examples.sieve, sieve/examples/stephan.sieve,
	sieve/examples/unparsed-elvey.sieve, src/lib-sieve/sieve-code.h:
	A few minor changes
	[8eb67ba19a03]

	* sieve/examples/elvey.sieve, sieve/examples/jerry.sieve,
	sieve/examples/mjohnson.sieve, sieve/examples/mklose.sieve,
	sieve/examples/sanjay.sieve, sieve/examples/vivil.sieve:
	Added sieve example and documented the others with author and the
	url where I found them.
	[36b747fc5a42]

2007-10-27  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-comparators.c, src/lib-sieve/sieve-interpreter.c, src
	/lib-sieve/sieve-interpreter.h:
	Moved literall access functions from interpreter to binary.
	[df004c3d4967]

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-comparators.c, src/lib-sieve/sieve-comparators.h, src
	/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-generator.h:
	Implemented comparator support towards code generation,
	interpretation is not possible yet.
	[c4eb303c242c]

	* src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/plugins/vacation/ext-vacation.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve
	/sieve-commands.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-validator.c, src/lib-sieve/sieve-validator.h, src/lib-sieve
	/tst-address.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-
	header.c, src/lib-sieve/tst-size.c:
	Changed argument to operand processing to be much more flexible.
	[b07f5129b239]

2007-10-26  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-binary.h, src/lib-
	sieve/sieve-generator.c, src/lib-sieve/sieve-generator.h:
	Moved literal emission functions from generator to binary source.
	[8d9c3aa76abf]

	* sieve/tests/comparator.sieve, src/lib-sieve/Makefile.am, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-code.c, src/lib-sieve
	/sieve-code.h, src/lib-sieve/sieve-commands.h, src/lib-sieve/sieve-
	common.h, src/lib-sieve/sieve-comparators.c, src/lib-sieve/sieve-
	comparators.h, src/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-
	generator.h, src/lib-sieve/sieve-validator.c, src/lib-sieve/sieve-
	validator.h, src/lib-sieve/tst-size.c:
	First steps towards implementing code generation and interpretation
	for proper comperators.
	[8f8c18edbd39]

	* src/lib-sieve/tst-exists.c:
	Extremely minor cosmetic change.
	[8b215ab7e80f]

	* src/lib-sieve/plugins/Makefile, src/lib-sieve/plugins/Makefile.in:
	Removed files with intermittent compilation results from the
	repository (oops)
	[3c56353ce681]

	* sieve/tests/basic.sieve, src/lib-sieve/sieve-generator.c, src/lib-
	sieve/tst-exists.c, src/lib-sieve/tst-header.c:
	Made header and exists tests executable.
	[38b4e757271d]

2007-10-25  Stephan Bosch  <stephan@rename-it.nl>

	* sieve/tests/basic.sieve, src/lib-sieve/sieve-binary.c, src/lib-sieve
	/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-lexer.c, src/lib-sieve/sieve.c, src/lib-sieve/sieve.h, src
	/lib-sieve/tst-address.c, src/lib-sieve/tst-size.c, src/sieve-
	bin/Makefile.am, src/sieve-bin/sieve_test.c, src/sieve-bin/sievec.c:
	Made address and size tests executable and fixed minor bug regarding
	the lexer.
	[931a0b442f19]

	* .hgignore, src/lib-sieve/Makefile.am, src/lib-sieve/sieve-ast.c, src
	/lib-sieve/sieve-generator.c, src/lib-sieve/sieve-generator.h, src
	/lib-sieve/sieve-parser.c, src/lib-sieve/sieve-parser.h, src/lib-
	sieve/sieve-validator.c, src/lib-sieve/sieve-validator.h, src/lib-
	sieve/sieve.c, src/lib-sieve/sieve.h, src/sieve-bin/Makefile, src
	/sieve-bin/Makefile.am, src/sieve-bin/Makefile.in, src/sieve-
	bin/sieve_test.c, src/sieve-bin/sievec, src/sieve-bin/sievec.c, src
	/sieve-bin/sievec.o:
	Created libsieve interface and started the sieve_test binary.
	[8d922df3dd5c]

2007-10-24  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-if.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve
	/ext-reject.c, src/lib-sieve/plugins/Makefile, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-ast.c,
	src/lib-sieve/sieve-binary.c, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-commands.c, src/lib-sieve/sieve-generator.c, src/lib-
	sieve/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-
	sieve/sieve-lexer.c, src/lib-sieve/sieve-parser.c, src/lib-sieve
	/sieve-result.c, src/lib-sieve/sieve-validator.c, src/lib-sieve/tst-
	address.c, src/lib-sieve/tst-size.c, src/sieve-bin/Makefile, src
	/sieve-bin/Makefile.am, src/sieve-bin/Makefile.in, src/sieve-
	bin/sievec, src/sieve-bin/sievec.o:
	Upgraded from dovecot-1.0 to dovecot-1.1 (array changes and various
	_unref differences)
	[f36e62f9baf9]

	* configure.in, sieve/errors/address-errors.sieve, sieve/errors
	/header-errors.sieve, sieve/errors/if-errors.sieve,
	sieve/errors/interesting.sieve, sieve/errors/keep-errors.sieve,
	sieve/errors/parse-errors.sieve, sieve/errors/require-errors.sieve,
	sieve/errors/size-errors.sieve, sieve/errors/stop-errors.sieve,
	sieve/errors/tag-errors.sieve, sieve/examples/elvey.sieve,
	sieve/examples/mjohnson.sieve, sieve/examples/mklose.sieve,
	sieve/examples/rfc3028.sieve, sieve/examples/sanjay.sieve,
	sieve/examples/sieve_examples.sieve, sieve/examples/stephan.sieve,
	sieve/examples/unparsed-elvey.sieve, sieve/examples/vacation.sieve,
	sieve/examples/vivil.sieve, sieve/tests/basic.sieve,
	sieve/tests/extensions.sieve, sieve/tests/if.sieve, src/Makefile.am,
	src/lib-sieve/Makefile.am, src/lib-sieve/scripts/errors/address-
	errors.sieve, src/lib-sieve/scripts/errors/header-errors.sieve, src
	/lib-sieve/scripts/errors/if-errors.sieve, src/lib-
	sieve/scripts/errors/interesting.sieve, src/lib-sieve/scripts/errors
	/keep-errors.sieve, src/lib-sieve/scripts/errors/parse-errors.sieve,
	src/lib-sieve/scripts/errors/require-errors.sieve, src/lib-
	sieve/scripts/errors/size-errors.sieve, src/lib-sieve/scripts/errors
	/stop-errors.sieve, src/lib-sieve/scripts/errors/tag-errors.sieve,
	src/lib-sieve/scripts/examples/elvey.sieve, src/lib-
	sieve/scripts/examples/mjohnson.sieve, src/lib-
	sieve/scripts/examples/mklose.sieve, src/lib-
	sieve/scripts/examples/rfc3028.sieve, src/lib-
	sieve/scripts/examples/sanjay.sieve, src/lib-
	sieve/scripts/examples/sieve_examples.sieve, src/lib-
	sieve/scripts/examples/stephan.sieve, src/lib-sieve/scripts/examples
	/unparsed-elvey.sieve, src/lib-
	sieve/scripts/examples/vacation.sieve, src/lib-
	sieve/scripts/examples/vivil.sieve, src/lib-
	sieve/scripts/tests/extensions.sieve, src/lib-
	sieve/scripts/tests/if.sieve, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-code.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/sieve-interpreter.h, src/lib-sieve/sieve-result.c, src/lib-
	sieve/sievec.c, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	exists.c, src/lib-sieve/tst-header.c, src/lib-sieve/tst-size.c, src
	/sieve-bin/Makefile, src/sieve-bin/Makefile.am, src/sieve-
	bin/Makefile.in, src/sieve-bin/sievec, src/sieve-bin/sievec.c, src
	/sieve-bin/sievec.o:
	Exported sievec binary to separate directory called sieve-bin.
	[f3dd838d3893]

2007-10-23  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/Makefile.am, src/lib-sieve/cmd-if.c, src/lib-sieve
	/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-
	reject.c, src/lib-sieve/plugins/vacation/Makefile.am, src/lib-
	sieve/plugins/vacation/ext-vacation.c, src/lib-sieve/sieve-binary.c,
	src/lib-sieve/sieve-binary.h, src/lib-sieve/sieve-code.c, src/lib-
	sieve/sieve-code.h, src/lib-sieve/sieve-commands.c, src/lib-sieve
	/sieve-common.h, src/lib-sieve/sieve-extensions.h, src/lib-sieve
	/sieve-generator.c, src/lib-sieve/sieve-generator.h, src/lib-sieve
	/sieve-interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-
	sieve/sieve-result.c, src/lib-sieve/sieve-result.h, src/lib-sieve
	/tst-address.c, src/lib-sieve/tst-allof.c, src/lib-sieve/tst-
	anyof.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src
	/lib-sieve/tst-size.c:
	Started first support for actual execution of sieve script.
	[7d3b717d834d]

	* src/lib-sieve/Makefile.am, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/sieve-interpreter.h, src/plugins/Makefile.am, src/plugins/lda-
	sieve/Makefile.am, src/plugins/lda-sieve/lda-sieve-plugin.c,
	src/plugins/lda-sieve/lda-sieve-plugin.h:
	* Minor changes to the extension implementation
	* Started the lda plugin source
	[5252fd9fd951]

2007-10-22  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/sieve-address.c:
	Changed (currently unused) sieve-address.c to use dovecot rfc822
	parser.
	[d32cc88f0ecf]

	* src/lib-sieve/plugins/vacation/draft-ietf-sieve-vacation-07.txt:
	Added draft RFC for vacation extension.
	[4f6590dd1d7e]

	* configure.in, src/lib-sieve/Makefile.am, src/lib-sieve/ext-
	envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-
	reject.c, src/lib-sieve/plugins/Makefile, src/lib-
	sieve/plugins/Makefile.am, src/lib-sieve/plugins/Makefile.in, src
	/lib-sieve/plugins/comparator-i;ascii-numeric.c, src/lib-
	sieve/plugins/copy.c, src/lib-sieve/plugins/vacation/Makefile.am,
	src/lib-sieve/plugins/vacation/ext-vacation.c, src/lib-
	sieve/plugins/vacation/vacation.sieve, src/lib-
	sieve/scripts/tests/extensions.sieve, src/lib-sieve/sieve-
	extensions.c:
	* Further developed the extension support
	* Added plugins as static libraries (for now)
	[2b26d303f3d1]

	* src/lib-sieve/scripts/tests/extensions.sieve, src/lib-
	sieve/scripts/tests/reject.sieve:
	Renamed reject.sieve to extensions.sieve for generic extensions
	testing.
	[3993600b2e1f]

	* src/lib-sieve/cmd-require.c, src/lib-sieve/ext-fileinto.c:
	* Added generation support to the fileinto extension.
	* Fixed a bug in the require command generation.
	[4f38530232e6]

	* .hgignore, src/lib-sieve/Makefile.am, src/lib-sieve/cmd-require.c,
	src/lib-sieve/ext-envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-
	sieve/ext-reject.c, src/lib-sieve/scripts/tests/reject.sieve, src
	/lib-sieve/sieve-ast.h, src/lib-sieve/sieve-binary.c, src/lib-sieve
	/sieve-binary.h, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-
	generator.c, src/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-validator.c, src/lib-sieve/sieve-validator.h, src/lib-
	sieve/sievec.c:
	Added basic extension support to generator and interpreter.
	[2f78fc8c9919]

2007-10-21  Stephan Bosch  <stephan@rename-it.nl>

	* src/lib-sieve/cmd-if.c, src/lib-sieve/ext-reject.c, src/lib-sieve
	/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	commands-private.h, src/lib-sieve/sieve-commands.c, src/lib-sieve
	/sieve-extensions.h, src/lib-sieve/sieve-generator.c, src/lib-sieve
	/sieve-generator.h, src/lib-sieve/sieve-interpreter.c, src/lib-sieve
	/tst-address.c, src/lib-sieve/tst-allof.c, src/lib-sieve/tst-
	anyof.c, src/lib-sieve/tst-exists.c, src/lib-sieve/tst-header.c, src
	/lib-sieve/tst-size.c:
	Initial commit didn't compile because it was comitted in the middle
	of a new feature.
	[b50c7ada434a]

	* autogen.sh:
	Added autogen.sh from the dovecot project (removed doc/wiki code)
	[10ed2a377ea0]

2007-10-21  stephan  <stephan@flappie>

	* .hgignore, libsieve-config.h.in:
	Added -config files to the hgignore and removed them from the
	repository
	[ddac82bec3c3]

	* .hgignore, AUTHORS, COPYING.LGPL, INSTALL, Makefile.am, NEWS,
	README, configure.in, libsieve-config.h.in, src/Makefile.am, src
	/lib-sieve/Makefile.am, src/lib-sieve/cmd-if.c, src/lib-sieve/cmd-
	redirect.c, src/lib-sieve/cmd-require.c, src/lib-sieve/ext-
	envelope.c, src/lib-sieve/ext-fileinto.c, src/lib-sieve/ext-
	reject.c, src/lib-sieve/plugins/comparator-i;ascii-numeric.c, src
	/lib-sieve/plugins/copy.c, src/lib-sieve/scripts/errors/address-
	errors.sieve, src/lib-sieve/scripts/errors/header-errors.sieve, src
	/lib-sieve/scripts/errors/if-errors.sieve, src/lib-
	sieve/scripts/errors/interesting.sieve, src/lib-sieve/scripts/errors
	/keep-errors.sieve, src/lib-sieve/scripts/errors/parse-errors.sieve,
	src/lib-sieve/scripts/errors/require-errors.sieve, src/lib-
	sieve/scripts/errors/size-errors.sieve, src/lib-sieve/scripts/errors
	/stop-errors.sieve, src/lib-sieve/scripts/errors/tag-errors.sieve,
	src/lib-sieve/scripts/examples/elvey.sieve, src/lib-
	sieve/scripts/examples/mjohnson.sieve, src/lib-
	sieve/scripts/examples/mklose.sieve, src/lib-
	sieve/scripts/examples/rfc3028.sieve, src/lib-
	sieve/scripts/examples/sanjay.sieve, src/lib-
	sieve/scripts/examples/sieve_examples.sieve, src/lib-
	sieve/scripts/examples/stephan.sieve, src/lib-sieve/scripts/examples
	/unparsed-elvey.sieve, src/lib-
	sieve/scripts/examples/vacation.sieve, src/lib-
	sieve/scripts/examples/vivil.sieve, src/lib-
	sieve/scripts/tests/if.sieve, src/lib-sieve/sieve-address.c, src
	/lib-sieve/sieve-ast.c, src/lib-sieve/sieve-ast.h, src/lib-sieve
	/sieve-code.c, src/lib-sieve/sieve-code.h, src/lib-sieve/sieve-
	commands-private.h, src/lib-sieve/sieve-commands.c, src/lib-sieve
	/sieve-commands.h, src/lib-sieve/sieve-common.h, src/lib-sieve
	/sieve-error.c, src/lib-sieve/sieve-error.h, src/lib-sieve/sieve-
	extensions.c, src/lib-sieve/sieve-extensions.h, src/lib-sieve/sieve-
	generator.c, src/lib-sieve/sieve-generator.h, src/lib-sieve/sieve-
	interpreter.c, src/lib-sieve/sieve-interpreter.h, src/lib-sieve
	/sieve-lexer.c, src/lib-sieve/sieve-lexer.h, src/lib-sieve/sieve-
	parser.c, src/lib-sieve/sieve-parser.h, src/lib-sieve/sieve-
	validator.c, src/lib-sieve/sieve-validator.h, src/lib-
	sieve/sievec.c, src/lib-sieve/tst-address.c, src/lib-sieve/tst-
	allof.c, src/lib-sieve/tst-anyof.c, src/lib-sieve/tst-exists.c, src
	/lib-sieve/tst-header.c, src/lib-sieve/tst-not.c, src/lib-sieve/tst-
	size.c, stamp.h.in:
	First entered libsieve into new Hg repository
	[d31c1c993bcf]

