<!--$Id: db_set_pagesize.html,v 1.1.1.1 2003/02/15 04:55:48 zarzycki Exp $-->
<!--Copyright 1997-2002 by Sleepycat Software, Inc.-->
<!--All rights reserved.-->
<!--See the file LICENSE for redistribution information.-->
<html>
<head>
<title>Berkeley DB: Db::set_pagesize</title>
<meta name="description" content="Berkeley DB: An embedded database programmatic toolkit.">
<meta name="keywords" content="embedded,database,programmatic,toolkit,b+tree,btree,hash,hashing,transaction,transactions,locking,logging,access method,access methods,java,C,C++">
</head>
<body bgcolor=white>
<a name="2"><!--meow--></a>
<table width="100%"><tr valign=top>
<td>
<h1>Db::set_pagesize</h1>
</td>
<td align=right>
<a href="../api_cxx/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<hr size=1 noshade>
<tt>
<h3><pre>
#include &lt;db_cxx.h&gt;
<p>
int
Db::set_pagesize(u_int32_t pagesize);
</pre></h3>
<h1>Description</h1>
<p>Set the size of the pages used to hold items in the database, in bytes.
The minimum page size is 512 bytes, and the maximum page size is 64K
bytes.  If the page size is not explicitly set, one is selected based
on the underlying filesystem I/O block size.  The automatically selected
size has a lower limit of 512 bytes and an upper limit of 16K bytes.
<p>For information on tuning the Berkeley DB page size, see
<a href="../ref/am_conf/pagesize.html">Selecting a page size</a>.
<p>The Db::set_pagesize method configures a database, not only operations performed
using the specified <a href="../api_cxx/db_class.html">Db</a> handle.
<p>The Db::set_pagesize interface may not be called after the <a href="../api_cxx/db_open.html">Db::open</a>
interface is called.
If the database already exists when
<a href="../api_cxx/db_open.html">Db::open</a> is called, the information specified to Db::set_pagesize will
be ignored.
If creating additional databases in a file, the page size specified must
be consistent with the existing databases in the file or an error will
be returned.
<p>The Db::set_pagesize method either returns a non-zero error value or throws an exception that
encapsulates a non-zero error value on failure, and returns 0 on success.
<h1>Errors</h1>
<p>The Db::set_pagesize method may fail and throw an exception or return a non-zero error for the following conditions:
<p><dl compact>
<p><dt>EINVAL<dd>An invalid flag value or parameter was specified.
<p>Called after <a href="../api_cxx/db_open.html">Db::open</a> was called.
</dl>
<p>The Db::set_pagesize method may fail and throw an exception or return a non-zero error for errors specified for other Berkeley DB and C library or system methods.
If a catastrophic error has occurred, the Db::set_pagesize method may fail and
either return <a href="../ref/program/errorret.html#DB_RUNRECOVERY">DB_RUNRECOVERY</a> or throw a
<a href="../api_cxx/runrec_class.html">DbRunRecoveryException</a>,
in which case all subsequent Berkeley DB calls will fail in the same way.
<h1>Class</h1>
<a href="../api_cxx/db_class.html">Db</a>
<h1>See Also</h1>
<a href="../api_cxx/db_list.html">Databases and Related Methods</a>
</tt>
<table width="100%"><tr><td><br></td><td align=right>
<a href="../api_cxx/c_index.html"><img src="../images/api.gif" alt="API"></a><a href="../reftoc.html"><img src="../images/ref.gif" alt="Ref"></a>
</td></tr></table>
<p><font size=1><a href="http://www.sleepycat.com">Copyright Sleepycat Software</a></font>
</body>
</html>
